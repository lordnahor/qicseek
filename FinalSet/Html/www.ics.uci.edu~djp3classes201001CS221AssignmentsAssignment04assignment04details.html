<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>CS 221, Information Retrieval, Winter 2009-2010 Department of Informatics, UCI</title>
<link href="../../styleSheet.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
.style13 {font-size: x-large}

-->
</style>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /></head>
<body>
<p class="style2 style6 style7">Computer Science 221: Information Retrieval </p>
<p class="style6">Winter 2009-2010</p>
<p class="style6">Department of Informatics</p>
<p class="style6">Donald Bren School of Information and Computer Sciences </p>
<div class="container"> <a href="../../index.html">Home</a> | <a
href="../../admin.html">Administrative Policies </a> | <a
href="../../structure.html">Course Structure</a> |<a
href="../../materials.html"> Materials</a> | <a href="../../assignmentSchedule.html#CurrentWeek">Assignment Schedule </a></div>
<div class="container">
  <p><span class="style7 style13">Assignment 04 Details</span></p>
  <div class="indentRight, container">
    <ol>
      <li>It appears that using family-guy instead of openlab is a better choice.
        <ol>
          <li>Both are load balanced clusters. So logging into family-guy.ics.uci.edu will put you on a low-load machine. </li>
        </ol>
      </li>
      <li>Setting up hadoop:
        <ol>
          <li>You will need to download and install Hadoop 0.20.1 ( You should have done this for the last assignment, if you already have 0.20.1, you can just use that install)</li>
          <li>You will need to go to your conf/ folder inside the hadoop folder. You will replacing 2 files (core-info.xml, and mapred-info.xml. If you want to make a backup, do this now)</li>
          <li>Make sure java is installed as per <a href="http://getsatisfaction.com/luci/topics/picking_your_java_version_on_openlab">here</a> (if you are using ics machines) </li>
          <li>You will download 2 files:<br />
            http://www.mitchdempsey.com/cs221/core-site.xml<br />
            http://www.mitchdempsey.com/cs221/mapred-site.xml</li>
        </ol>
      </li>
      <li>If you are on the ICS cluster, you can do the following commands from inside the conf/ folder:
        <ol>
          <li>module load wget </li>
          <li>wget -O core-site.xml http://www.mitchdempsey.com/cs221/core-site.xml</li>
          <li>wget -O mapred-site.xml http://www.mitchdempsey.com/cs221/mapred-site.xml</li>
        </ol>
      </li>
      <li>Now go back up to the hadoop root folder.<br />
          </li>
      <li>You will need to download the keyfile required to connect:
        <ol>
          <li>wget http://www.mitchdempsey.com/cs221/authkey</li>
        </ol>
      </li>
      <li>Once you have downloaded that, you can now connect to the compute cluster</li>
      <li>Execute this command from the hadoop root folder. (It might sit for a second, and then it should disappear without any errors)
        <ol>
          <li>ssh -D 2600 -f -N -i authkey cs221@ec2-184-73-1-20.compute-1.amazonaws.com</li>
          <li>Answer yes if it gives you a fingerprint and asks if you want to continue (this is a first time connection issue) </li>
          <li>(If you get any errors about port usage or something, you might need to try another node in the ICS cluster)</li>
        </ol>
      </li>
      <li>Now, you should be able to connect to the cluster. You can try by doing the following:
        <ol>
          <li>bin/hadoop dfsadmin -report</li>
          <li>(If this command returns a list of nodes with some information about the file system, then you are good to go.)</li>
        </ol>
      </li>
      <li>You should be able to perform exactly the same operations that you did on your standalone cluster if you like. Please be aware of the filesystem (and do not delete files that are not yours)</li>
      <li>LINKS:
        <ol>
          <li>JobTracker - you can view stats and stuff on your jobs.<br />
  http://ec2-184-73-1-20.compute-1.amazonaws.com:50030/jobtracker.jsp</li>
          <li>DFS Admin - You wont be able to browse, but you can see the status.<br />
            http://ec2-184-73-1-20.compute-1.amazonaws.com:50070/dfshealth.jsp<br />
              </li>
        </ol>
      </li>
    </ol>
  </div>
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15170336-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

