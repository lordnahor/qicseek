<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE> Altering Programs</TITLE>
</HEAD>
<BODY>
<meta name="description" value=" Altering Programs">
<meta name="keywords" value="umsroot">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html2903 HREF="node55.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html2901 HREF="node49.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html2897 HREF="node53.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html2905 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html2904 HREF="node55.html"> Using Libraries</A>
<B>Up:</B> <A NAME=tex2html2902 HREF="node49.html"> More about compilation</A>
<B> Previous:</B> <A NAME=tex2html2898 HREF="node53.html"> Compiling Procedures as </A>
<BR> <HR> <P>
<H2><A NAME=SECTION00455000000000000000> Altering Programs</A></H2>
<P>
The Prolog database can be updated during the execution of a program.
<A NAME=649>&#160;</A>
<A NAME=tex2html201 HREF="http://www.ecrc.de/eclipse/eclipse.html"><b> ECLiPSe</b></A>
  allows the user to modify procedures dynamically by adding
new clauses via <b> assert/1</b> and by removing some clauses via <b> retract/1</b>.
<A NAME=652>&#160;</A>
<A NAME=653>&#160;</A>
These predicates operate on dynamic procedures; if it is
required that the definition of a procedure be altered through
assertion and retraction, the procedure should therefore first be declared
dynamic (see the previous section). The effect of <b> assert/1</b> and
<b> retract/1</b> on static procedures is explained below.
<P>
The effect of the goal
<blockquote> <PRE>assert(ProcClause)
</PRE>
</blockquote>
where
<tt> ProcClause</tt><A NAME=tex2html204 HREF="footnode.html#702"><IMG ALIGN=BOTTOM ALT="gif" SRC="http://www.ecrc.de/eclipse/new_icons//foot_motif.gif"></A>
is a clause of the procedure <tt> Proc</tt>, is as follows.
<OL><LI> If <tt> Proc</tt> has not been previously defined, the assertion
raises an exception, however the default handler for this exception
just declares the given procedure silently as dynamic and executes
the assertion.
<P>
<LI> If <tt> Proc</tt> is already defined as a dynamic procedure,
the assertion adds <i> ProcClause</i>
to the database after any clauses already existing for <tt> Proc</tt>.
<P>
<LI> If <tt> Proc</tt> is already defined as a static procedure, then the assertion
raises an exception.
</OL>
<P>
The goal 
<blockquote> <PRE>retract(Clause)
</PRE> 
</blockquote>
will unify <tt> Clause</tt> with a clause on the dynamic database and remove it.
If <tt> Clause</tt> does not specify a dynamic procedure, an exception is raised.
<P>
<A NAME=672>&#160;</A>
<A NAME=tex2html206 HREF="http://www.ecrc.de/eclipse/eclipse.html"><b> ECLiPSe</b></A>
 's dynamic database features the so-called <i> logical update semantics</i>.
This means that any change in the database that occurs as a result of
executing one of the builtins of the abolish, assert or retract family
affects only those goals that start executing
afterwards. For every call to a dynamic procedure, the procedure is
virtually frozen at call time.
<P>
<BR> <HR><A NAME=tex2html2903 HREF="node55.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html2901 HREF="node49.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html2897 HREF="node53.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html2905 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html2904 HREF="node55.html"> Using Libraries</A>
<B>Up:</B> <A NAME=tex2html2902 HREF="node49.html"> More about compilation</A>
<B> Previous:</B> <A NAME=tex2html2898 HREF="node53.html"> Compiling Procedures as </A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Micha Meier <BR>
Mon Mar  4 12:11:45 MET 1996</I>
</ADDRESS>
</BODY>

