<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE> Compiler Input</TITLE>
</HEAD>
<BODY>
<meta name="description" value=" Compiler Input">
<meta name="keywords" value="umsroot">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html3060 HREF="node68.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html3058 HREF="node63.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html3052 HREF="node66.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html3062 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html3061 HREF="node68.html"> Libraries</A>
<B>Up:</B> <A NAME=tex2html3059 HREF="node63.html"> The Compiler</A>
<B> Previous:</B> <A NAME=tex2html3053 HREF="node66.html"> Compiler Modes</A>
<BR> <HR> <P>
<H1><A NAME=SECTION00640000000000000000> Compiler Input</A></H1>
<P>
The compiler normally reads a file up to its end.
The file end can also be simulated with a clause
<PRE>end_of_file.
</PRE>
The file is normally read consecutively, however
the compiler uses the normal <A NAME=tex2html261 HREF="http://www.ecrc.de/eclipse/eclipse.html"><b> ECLiPSe</b></A>
  I/O streams,
and so if during the compilation the stream pointer is modified
(e.g. by <b> seek/2</b> or <b> read/2</b>), the compiler continues
at the specified place<A NAME=tex2html262 HREF="footnode.html#1156"><IMG ALIGN=BOTTOM ALT="gif" SRC="http://www.ecrc.de/eclipse/new_icons//foot_motif.gif"></A>.
<P>
There are several built-in predicates which invoke the compiler:
<P>
<DL ><DT>
<DD> <b> compile(File)</b>
<A NAME=953>&#160;</A>
This is the standard compiler predicate.
The contents of the file is compiled according to the current
state of the global flags.
<P>
<DT>
<DD> <b> compile(File, Module)</b>
<A NAME=955>&#160;</A>
This predicate is used to compile the contents of a file into
a specified module, without having to use the module declaration
in the file itself.
<P>
<DT>
<DD> <b> compile_stream(Stream)</b>
<A NAME=957>&#160;</A>
This predicate compiles a given stream up to its end
or to the <tt> end_of_file</tt> clause.
It can be used when the input file is already open,
e.g. when the beginning of the file does not contain
compiler input, or when the input has to be processed
in a non-consecutive way.
<P>
<DT>
<DD> <b> compile_term(Clauses)</b>
<A NAME=960>&#160;</A>
This predicate is used to compile a given term,
usually a list of clauses and directives.
Unlike <b> assert/1</b> it compiles a static procedure,
and so it can be used to compile a procedure which is dynamically
created and then used as a static one.
For more information please refer to [<A HREF="node322.html#sepcustom">17</A>].
<P>
<DT>
<DD> <b> dump(File)</b>
<A NAME=964>&#160;</A>
This predicate stores the precompiled form of the given file
into a file with the suffix <b> sd</b> (Sepia Dump).
It can be used to speed up the compilation or to deliver
program modules whose source should not be readable.
<P>
<DT>
<DD> <b> ensure_loaded(File)</b>
<A NAME=967>&#160;</A>
This predicate compiles the specified file if it has not been compiled
yet or if it has been modified since the last compilation.
<P>
<DT>
<DD> <b> make</b>
<A NAME=969>&#160;</A>
This predicate recompiles all files that have been modified since their
last compilation.
<P>
<DT>
<DD> <b> lib(File)</b>
<A NAME=971>&#160;</A>
This predicate is used to ensure that a specified library
file is loaded.
If this library is not yet compiled, the system will look
in all directories in the <tt> library_path</tt> flag for
a file with this name.
When the file is found, it is compiled and the system remembers it.
<P>
<DT>
<DD> <b> current_compiled_file(File, Time, Module)</b>
<A NAME=974>&#160;</A>
This predicate returns on backtracking all files that have been compiled
in this session, together with the module from where the compilation was
done and the modification time stamp of the file at the time it was compiled.
<P>
<DT>
<DD> <b> compiled_file(File, Line)</b>
<A NAME=976>&#160;</A>
This predicate allows to access the compiled file during the compilation.
If it is called during the compilation, it returns the name
of the file being compiled and the current line in it<A NAME=tex2html273 HREF="footnode.html#1157"><IMG ALIGN=BOTTOM ALT="gif" SRC="http://www.ecrc.de/eclipse/new_icons//foot_motif.gif"></A>.
If some I/O operations are performed on the compiler stream,
it influences the compiler, e.g. some procedures can be omitted
and some compiled several times.
An example of its use is the library <b> ifdef</b>
which implements a C-like conditional compilation.
<P>
<DT>
<DD> <b> assert(Clause)</b>
<A NAME=981>&#160;</A>
This predicate compiles the given clause of a dynamic predicate.
<P>
 </DL><BR> <HR><A NAME=tex2html3060 HREF="node68.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html3058 HREF="node63.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html3052 HREF="node66.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html3062 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html3061 HREF="node68.html"> Libraries</A>
<B>Up:</B> <A NAME=tex2html3059 HREF="node63.html"> The Compiler</A>
<B> Previous:</B> <A NAME=tex2html3053 HREF="node66.html"> Compiler Modes</A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Micha Meier <BR>
Mon Mar  4 12:11:45 MET 1996</I>
</ADDRESS>
</BODY>

