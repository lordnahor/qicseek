<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=windows-1252"
      http-equiv="Content-Type">
    <title>Lab 1: More Advanced R Commands</title>
  </head>
  <body>
    <table style="width: 100%; background-color: rgb(102, 204, 204);
      margin-left: auto; margin-right: auto; height: 58px; text-align:
      left;" cellpadding="2" cellspacing="2" border="1">
      <tbody>
        <tr>
          <td>
            <div style="text-align: center;"> </div>
            <h1 style=" text-align: center;">Lab 1: More Advanced R
              Commands<br>
            </h1>
          </td>
        </tr>
      </tbody>
    </table>
    <h2>User-Defined Functions </h2>
    If R doesn't have a built-in function for what you need, you can
    program your own function. For example, the following code creates a
    function called "<span style="font-family: monospace;">test</span>".<br>
    <pre>test &lt;- function(a,b) # start of function definition <br>{ <br>  # body of the function <br>  a^2-b^2 	# the last command is the value returned <br>} 		# end of function is here <br><br></pre>
    Now we try out our new function:<br>
    <pre>test(9,9) <br>test(9,0) <br>test(0,9) <br></pre>
    <br>
    <p> </p>
    <h2>Loops</h2>
    "For loops" are a coding method to carry out a command multiple
    times without having to code each iteration individually. In the
    example below, it will run the for loop for n=1, n=2, n=3,... to
    n=10.<br>
    <br>
    <pre>p &lt;- 0                  # initializes p to 0<br>for(n in 1:10)<br>{<br>   p&lt;-p+(1/2)^n      # compute 1/2+1/4+1/8+...+1/1024<br>}<br>p <br><br>means = NULL		# set up an empty object<br>for(i in 1:100){<br>   data = runif(20)<br>   means[i] = mean(data)<br>}<br>means<br>mean(means)<br></pre>
    <br>
    <h2>If-Else</h2>
    Often, logical commands require us to check if something is true. If
    so, we do one command; otherwise, we do another. Some examples of
    if-else commands are:<br>
    <pre>foo &lt;- 5<br>if(foo==5) print("success!")<br>ifelse(foo==5,sqrt(foo),NA)<br>ifelse(foo&gt;=6,sqrt(foo),NA)<br>if(foo==5){<br>  print("wait for it...")<br>  2+3<br>}<br></pre>
    <br>
    <h2>Simulation: Dice Rolls<br>
    </h2>
    One of the more powerful tools in R is its capability to simulate
    random processes. Here is an example for a dice roll simulation.<br>
    <pre>sample(1:6,1,replace=TRUE)          # one die roll<br>sum(sample(1:6,2,replace=TRUE))     # sum of two dice rolls<br><br>num &lt;- 0<br>for(n in 1:1000)                    # roll two dice 1000 times and<br>{                                   # record the number of times the sum = 7<br>  x &lt;- sum(sample(1:6,2,replace=TRUE))<br>  if(x==7) num &lt;- num+1<br>}<br>prop&lt;-num/1000<br>prop</pre>
    <p> </p>
    In the end, the object <span style="font-family: monospace;">prop</span>
    gives us an <span style="font-style: italic; font-weight: bold;">empirical

      probability</span> that the sum of two dice is 7. An empirical
    probability is an estimate of a probability obtained via simulation
    or data collection (as opposed to a theoretical or exact
    probability). The more times we run the simulation, the closer the
    empirical probability will be to the exact probability. What is the
    exact probability that the sum is 7?<br>
    <br>
    <span style="text-decoration: underline;"></span><br>
    <hr style="width: 100%; height: 2px;">
    <div style="text-align: center;"><big> <b>Next: </b><a
          href="Lab1_HW.html">Lab 1 Assignment</a><br>
        <b>Previous: </b><a href="BasicR.html">Basic R Functions</a><br>
        <br>
        <a href="index.html">Lab 1 Index</a></big><br>
      <hr style="width: 100%; height: 2px;"></div>
  </body>
</html>

