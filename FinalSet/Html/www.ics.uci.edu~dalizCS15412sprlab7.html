<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><title>CS 154 Lab 7: Synthesis</title>

</head>
<body>
<c></c>
<h1>Datapath Synthesis and Gate-level simulation</h1>
<h2> Lab 7</h2>
<p></p>
<p> Please read <b>ALL</b> instructions carefully. <b>Only</b>
<a href="./index.html#SUBMISSION">properly submitted</a>
assignments will be graded. Make sure to create a zip file, named by
your student id, and submit required files in it.</p>
<p>Download <a href="lab7.zip">this file</a>
to start. It contains 2 directores: "Syn" for synthesis and "Sim" for simulation. </p>
<h3>Synthesis</h3>
<p>In this lab, you will synthesis the whole datapath with
QuartusII design tool. The goal of VHDL language is to describe
hardware. What we've been doing until now are only inside the
simulator. The synthesis process will transform what happens in the
simulator into real hardware. It translates high-level VHDL code (if
statements, case statements, etc...) into gate-level description that
are specific for each device we want to program. Using such
information, we will be able to simulate at gate level, with more
realistic information (delays etc). We may also program an actual
device.</p>
<p>First, create a new project in Quartus II. Please use the "new
project wizard".</p>
<ol>
<li>When you start the program, a window will pop out, click
"Create a new project"</li>
<li>In the next screen, put in the project directory, project
name, and top-level entity name. The top-level entity name should be
"datapath" unless you change it.</li>
<li>In the next screen, add all the files. You can the "..."
button besides the "File Name" box to browse. Use the "SYN" directory from the zip file.</li>
<li>In the next scree, selecte the device we want to target our
design to. We will choose the family "Cyclone IV E" and select "Auto
device selected by the Fitter". The design tool will find the device
where our design can fit.</li>
<li>In the next scree, select the tool change like this:<img style="width: 802px; height: 320px;" alt="Tool chain select." src="image/toolchain.PNG"></li>
<li>click Finish and you are done.</li>
</ol>
Now we've have our project set up in Quartus II. Now edit your program.
There are some changes we have to make to make our project
synthesisable:<br>
<ol>
<li>Memory model is changed. We added a clock signal to memory.
Now memory operation is synchronized with the falling edge of the
clock. (Why falling edge?)</li>
<li>We added an output port to the datapath to help debug.
Because the synthesis tool will re-organize the design. The signals
will disappear. In order to see what happens after synthesis, we have
to specificly asign a signal to the port. This could shou contents in
ALUOut, RegA, RegB ... depending on your needs when you debug.</li>
</ol>
After you are done editing, we can start the synthesis process by
clicking this button: <img style="width: 37px; height: 32px;" alt="synthesis button" src="image/syn_button.PNG">
<h3>Simulation</h3>
<p>
The synthesis tool will generate a gate-level VHDL code as well as the
delay information. We could simulate this gate-level VHDL code, with
delay information, with our controller, in Modelsim.</p><p>First, create a new project with the files in the "Sim" derectory.</p><p>Second,
add the DATAPATH.VHO file generated by the synthesis tool to the
project. It should be located under "Syn\simulation\modelsim".&nbsp;</p><p>Next,
start simulation. In the "Start Simulation" window, click the "SDF"
tab, and add the delay information file. like this: (Remember to use
INSTANCE names to correctly identify your datapath in the "Apply to
Region" box.)</p><img style="width: 554px; height: 477px;" alt="select sdf file" src="image/SDF.PNG"><p>Add signals to the waveform and simulate.</p>
<h3>Submission:</h3>
<ul><li>A synthesis report including:</li><ul><li>Device Name</li><li>Total logic elements used</li><li>Total registers used</li><li>Total pins used</li><li>Total memory bits used</li><li>Maximum frequency.</li></ul></ul><ul><li>Screen shots capturing Modelsim Simulation. Choose 3 instructions. Show the delays in signal change.</li></ul><p>Make a zip file containing the above files&nbsp;and submit it electronically via EEE. Due&nbsp;Friday, Jun&nbsp;8.</p><pplease name="" your="" folders="" and="" files="" according="" to="" a="" given=""><a href="./index.html#submission"><b></b></a></pplease></body></html>
