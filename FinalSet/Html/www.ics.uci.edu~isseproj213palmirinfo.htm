<html>
<head>
<title>IR Port Programming in Palm</title>
<meta name="keywords" content="Ilya Issenin UCI
	Palm integrated temperature sensor Altera FPGA board server IR Port Programming">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<!--
<frameset rows="279,625*" frameborder="NO" border="0" framespacing="0" cols="*"> 
  <frame name="topFrame" scrolling="NO" noresize src="frame1.htm" >
  <frameset rows="539*,83" frameborder="NO" border="0" framespacing="0" cols="*"> 
    <frame name="mainFrame" src="frame2.htm" scrolling="AUTO" noresize marginheight="0">
    <frame name="bottomFrame" scrolling="AUTO" noresize src="frame3.htm">
  </frameset>
</frameset>
<noframes><body bgcolor="#FFFFFF">
</body></noframes>
-->

<body bgcolor="#FFFFFF" background="ledback.jpg">
<div align="center"></div>
<table width="692" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr>
    <td height="976" valign="top"> 
      <div align="left"> 
        <h2 align="center"><b>IR Communications Programming in Palm</b></h2>
        <p><i>This information about the programming of infrared port in Palm was collected 
          from different open sources on the Internet. </i></p>
        <hr>
        <p>Hello,</p>
        <p>I want to drive the IR led directly, by-passing the IrDA layer. 2 bits<br>
          in &quot;J&quot; register of 68328 seem to be relevant to this purpose. 
          When I<br>
          write in this register nothing come out of the led (i.e. I tried to<br>
          generate long pulses).</p>
        <p>Does someone know something about this ?</p>
        <p>--<br>
          *****************************************************************<br>
          &quot; L.A. PUCE &quot; Lepage Automation<br>
          1 Bis, Place Jean Meunier 40, Rue de la Fromenterie<br>
          BP 5827 91120 Palaiseau<br>
          37058 Tours Cedex France<br>
          France<br>
          Tel : 33 (0)2 47 60 50 40<br>
          Fax : 33 (0)2 47 60 50 41<br>
          Email : Dev@Lapuce.fr</p>
        <p></p>
        <p><br>
          Re: driving the IR led</p>
        <p> From: Tom Zerucha (view other messages by this author) <br>
          Date: Tue, 20 Jul 1999 18:46:12 </p>
        <p></p>
        <p>On Tue, 20 Jul 1999, Developpement Tours wrote:</p>
        <p>&gt; Hello,<br>
          &gt; <br>
          &gt; I want to drive the IR led directly, by-passing the IrDA layer. 
          2 bits<br>
          &gt; in &quot;J&quot; register of 68328 seem to be relevant to this 
          purpose. When I<br>
          &gt; write in this register nothing come out of the led (i.e. I tried 
          to<br>
          &gt; generate long pulses).<br>
          &gt; <br>
          &gt; Does someone know something about this ?</p>
        <p>I don't think you can do this. Otherwise you could simply set a break<br>
          condition and leave the LED on, and this doesn't happen (I've tried). 
          <br>
          But there appears to be some AC coupling in the circuit, so it will 
          only<br>
          go on for so long. You might try sending a series of pulses though - 
          it<br>
          will flash fast, but you may get it to go at a usable frequency.</p>
        <p></p>
        <p><br>
          This is something that seems to be discussed a lot on this forum. If 
          you<br>
          look in the archive you will find how to do this.</p>
        <p>err = SysLibFind(&quot;Serial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          err |= SerOpen(pDcb-&gt;hComm,0,pDcb-&gt;baudRate);<br>
          <br>
          if (pDcb-&gt;echoOn != 0)<br>
          {<br>
          SerControl(pDcb-&gt;hComm, serCtlIrDAEnable, 0, 0);<br>
          <br>
          }<br>
          if (err == 0)<br>
          sts = EM_STS_OK;</p>
        <p><br>
          Something like this will do the trick.</p>
        <p>When you want to close the serial port:</p>
        <p>SerControl(hComm, serCtlIrDADisable, 0, 0);<br>
          <br>
          CloseComm</p>
        <p><br>
          Hope this helps..</p>
        <p>Jimmy<br>
          -----Original Message-----<br>
          From: bam+@cs.cmu.edu [mailto:bam+@cs.cmu.edu]<br>
          Sent: Friday, August 06, 1999 9:27 AM<br>
          To: palm-dev-forum@3com.com<br>
          Cc: bam@amulet1.amulet.cs.cmu.edu<br>
          Subject: Raw IR</p>
        <p></p>
        <p>How do I send raw bytes out of the IR port without using IRDA? I<br>
          just want to send and receive bytes, like you can with the serial<br>
          port, without any protocols. Are there any code examples of this?<br>
          The documentation says that &quot;connectionless&quot; communication 
          is<br>
          possible, but doesn't say how, and it is very hard to understand<br>
          the IR section of the manual. (This is very easy on Windows CE<br>
          devices, by the way.)<br>
          Thanks,<br>
          Brad Myers</p>
        <p>&nbsp;</p>
        <p>RE: IR without IRDA</p>
        <p> From: Angsuman Chakraborty (view other messages by this author) <br>
          Date: Thu, 21 Oct 1999 15:31:54 </p>
        <p></p>
        <p>Palm III &amp; V comes with IRDA stack as far as I know. It also implements<br>
          Obex.<br>
          I did some legwork here and would be happy to help.</p>
        <p>Angsuman Chakraborty<br>
          Sr. Software Engineer<br>
          III</p>
        <p><br>
          -----Original Message-----<br>
          From: Rigdon, Gerald [mailto:grigdon@robertshaw.com]</p>
        <p>Sent: Thursday, October 21, 1999 3:00 PM<br>
          To: 'palm-dev-forum@ls.palm.com'<br>
          Subject: IR without IRDA</p>
        <p><br>
          We are developing an embedded application that does not have enough<br>
          memory for the IRDA stack. We are getting the Palm to communicate<br>
          through the serial manager to the IR hardware successfully. The<br>
          question is, will this type of functionality be supported in the future<br>
          and is there better support right now for it? We had to do alot of<br>
          guessing by reading the include files and trial and error.</p>
        <p>Re: IR without IRDA</p>
        <p> From: Ben Williams (view other messages by this author) <br>
          Date: Thu, 21 Oct 1999 18:57:34 </p>
        <p></p>
        <p>&gt; We are developing an embedded application that does not have enough<br>
          &gt; memory for the IRDA stack. We are getting the Palm to communicate<br>
          &gt; through the serial manager to the IR hardware successfully. The<br>
          &gt; question is, will this type of functionality be supported in the 
          <br>
          &gt; future and is there better support right now for it? We had to 
          do <br>
          &gt; alot of guessing by reading the include files and trial and error.</p>
        <p>It depends exactly what you mean. If you are using the serial manager 
          <br>
          to communicate via IrCOMM then this is certainly implemented in the 
          <br>
          future - you can either use the IR enhancements from 3com which allow 
          <br>
          you to map serial output as IrCOMM - it gives the user a new panel in 
          <br>
          preferences to swap between cradle and IR serial functions (this can 
          <br>
          be used to IR HotSync, also...). The other way is to upgrade to OS <br>
          3.3 and use the new serial manager - this allows you to open the <br>
          serial port as 'ircm' directly and send as IrCOMM without any <br>
          prerequisite for the user to change the port map. The new sm also <br>
          allows you to open the IR hardware directly(?). Have at look at <br>
          'Specifying the Port ID' on page 205 of the programmers companion <br>
          (and also the stuff before it).</p>
        <p>If anyway an point me in the right direction to get the header files 
          <br>
          so that I can actually _use_ the New Serial Manager, I would be very 
          <br>
          very grateful... 8).</p>
        <p></p>
        <p></p>
        <p><br>
          RE: IR without IRDA</p>
        <p> From: Rigdon, Gerald (view other messages by this author) <br>
          Date: Fri, 22 Oct 1999 08:53:56 </p>
        <p></p>
        <p>Hi,</p>
        <p>Thanks for the input. I am still a little fuzzy about IRDA. If we use<br>
          IrCOMM on the palm, does this use the IRDA protocol stack? If so, then<br>
          would we be forced to comply with IRDA protocol on the embbeded system.</p>
        <p>We had planned to develop our own protocol to avoid overhead the full<br>
          IRDA overhead on the embedded system. Using the current version of the<br>
          serial manager, we were going to treat IR communications as a serial<br>
          port using our own protocol. So, our original question was whether this<br>
          would still be supported. We are trying to avoid the use of the IRDA<br>
          protocol on the embedded system. Perhaps this is what you understood 
          in<br>
          your first reply. However, from what little I have read, IrCOMM is<br>
          simply the top layer of IRDA protocol that abstracts everything. This 
          is<br>
          great for the palm, but doesn't this force the details onto the embedded<br>
          system??</p>
        <p>Thanks</p>
        <p>Gerry</p>
        <p>&gt; -----Original Message-----<br>
          &gt; From: Ben Williams [SMTP:bhw@btinternet.com]<br>
          &gt; Sent: Thursday, October 21, 1999 7:46 PM<br>
          &gt; To: palm-dev-forum@3com.com<br>
          &gt; Subject: Re: IR without IRDA<br>
          &gt; <br>
          &gt; &gt; We are developing an embedded application that does not have 
          enough<br>
          &gt; &gt; memory for the IRDA stack. We are getting the Palm to communicate<br>
          &gt; &gt; through the serial manager to the IR hardware successfully. 
          The<br>
          &gt; &gt; question is, will this type of functionality be supported 
          in the <br>
          &gt; &gt; future and is there better support right now for it? We had 
          to do <br>
          &gt; &gt; alot of guessing by reading the include files and trial and 
          error.<br>
          &gt; <br>
          &gt; It depends exactly what you mean. If you are using the serial manager 
          <br>
          &gt; to communicate via IrCOMM then this is certainly implemented in 
          the <br>
          &gt; future - you can either use the IR enhancements from 3com which 
          allow <br>
          &gt; you to map serial output as IrCOMM - it gives the user a new panel 
          in <br>
          &gt; preferences to swap between cradle and IR serial functions (this 
          can <br>
          &gt; be used to IR HotSync, also...). The other way is to upgrade to 
          OS <br>
          &gt; 3.3 and use the new serial manager - this allows you to open the 
          <br>
          &gt; serial port as 'ircm' directly and send as IrCOMM without any <br>
          &gt; prerequisite for the user to change the port map. The new sm also 
          <br>
          &gt; allows you to open the IR hardware directly(?). Have at look at 
          <br>
          &gt; 'Specifying the Port ID' on page 205 of the programmers companion 
          <br>
          &gt; (and also the stuff before it).<br>
          &gt; <br>
          &gt; If anyway an point me in the right direction to get the header 
          files <br>
          &gt; so that I can actually _use_ the New Serial Manager, I would be 
          very <br>
          &gt; very grateful... 8).<br>
          &gt; <br>
          &gt; <br>
          &gt; <br>
          &gt; <br>
          &gt; --<br>
          &gt; Is your email secure? http://www.pop3now.com</p>
        <p>&gt; (c) 1998,1999 Cave Creations Corp. All rights reserved.<br>
          &gt; </p>
        <p></p>
        <p>You don't have to use the IRDA stack, you can use your<br>
          own protocol through the IR by using the serial library.</p>
        <p>All you have to do is enable the the IR port.</p>
        <p><br>
          #ifdef PALM_PRO<br>
          err = SysLibFind(&quot;IrSerial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          #else<br>
          err = SysLibFind(&quot;Serial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          #endif <br>
          <br>
          err |= SerOpen(pDcb-&gt;hComm,0,pDcb-&gt;baudRate);<br>
          emSetBaud(pDcb);<br>
          if (pDcb-&gt;echoOn != 0)<br>
          {<br>
          SerControl(pDcb-&gt;hComm, serCtlIrDAEnable, 0, 0);<br>
          <br>
          }<br>
          if (err == 0)<br>
          sts = EM_STS_OK;</p>
        <p><br>
          This snipit will use the IR port to send and recieve my<br>
          own custom protocol.</p>
        <p>Hope this helps, </p>
        <p>Jimmy</p>
        <p>-----Original Message-----<br>
          From: Rigdon, Gerald [mailto:grigdon@robertshaw.com]</p>
        <p>Sent: Friday, October 22, 1999 9:38 AM<br>
          To: 'palm-dev-forum@3com.com'<br>
          Subject: RE: IR without IRDA</p>
        <p><br>
          Hi,</p>
        <p>Thanks for the input. I am still a little fuzzy about IRDA. If we use<br>
          IrCOMM on the palm, does this use the IRDA protocol stack? If so, then<br>
          would we be forced to comply with IRDA protocol on the embbeded system.</p>
        <p>We had planned to develop our own protocol to avoid overhead the full<br>
          IRDA overhead on the embedded system. Using the current version of the<br>
          serial manager, we were going to treat IR communications as a serial<br>
          port using our own protocol. So, our original question was whether this<br>
          would still be supported. We are trying to avoid the use of the IRDA<br>
          protocol on the embedded system. Perhaps this is what you understood 
          in<br>
          your first reply. However, from what little I have read, IrCOMM is<br>
          simply the top layer of IRDA protocol that abstracts everything. This 
          is<br>
          great for the palm, but doesn't this force the details onto the embedded<br>
          system??</p>
        <p>Thanks</p>
        <p>Gerry</p>
        <p>&gt; -----Original Message-----<br>
          &gt; From: Ben Williams [SMTP:bhw@btinternet.com]<br>
          &gt; Sent: Thursday, October 21, 1999 7:46 PM<br>
          &gt; To: palm-dev-forum@3com.com<br>
          &gt; Subject: Re: IR without IRDA<br>
          &gt; <br>
          &gt; &gt; We are developing an embedded application that does not have 
          enough<br>
          &gt; &gt; memory for the IRDA stack. We are getting the Palm to communicate<br>
          &gt; &gt; through the serial manager to the IR hardware successfully. 
          The<br>
          &gt; &gt; question is, will this type of functionality be supported 
          in the <br>
          &gt; &gt; future and is there better support right now for it? We had 
          to do <br>
          &gt; &gt; alot of guessing by reading the include files and trial and 
          error.<br>
          &gt; <br>
          &gt; It depends exactly what you mean. If you are using the serial manager 
          <br>
          &gt; to communicate via IrCOMM then this is certainly implemented in 
          the <br>
          &gt; future - you can either use the IR enhancements from 3com which 
          allow <br>
          &gt; you to map serial output as IrCOMM - it gives the user a new panel 
          in <br>
          &gt; preferences to swap between cradle and IR serial functions (this 
          can <br>
          &gt; be used to IR HotSync, also...). The other way is to upgrade to 
          OS <br>
          &gt; 3.3 and use the new serial manager - this allows you to open the 
          <br>
          &gt; serial port as 'ircm' directly and send as IrCOMM without any <br>
          &gt; prerequisite for the user to change the port map. The new sm also 
          <br>
          &gt; allows you to open the IR hardware directly(?). Have at look at 
          <br>
          &gt; 'Specifying the Port ID' on page 205 of the programmers companion 
          <br>
          &gt; (and also the stuff before it).<br>
          &gt; <br>
          &gt; If anyway an point me in the right direction to get the header 
          files <br>
          &gt; so that I can actually _use_ the New Serial Manager, I would be 
          very <br>
          &gt; very grateful... 8).<br>
          &gt; <br>
          &gt; <br>
          &gt; <br>
          &gt; <br>
          &gt; --<br>
          &gt; Is your email secure? http://www.pop3now.com</p>
        <p>&gt; (c) 1998,1999 Cave Creations Corp. All rights reserved.<br>
          &gt; </p>
        <p></p>
        <p><br>
          RE: IR without IRDA</p>
        <p> From: Rigdon, Gerald (view other messages by this author) <br>
          Date: Fri, 22 Oct 1999 09:20:35 </p>
        <p></p>
        <p>Thanks,</p>
        <p>Do you have to use version 3.3 of the OS for this? Will all the future<br>
          OS versions allow you to use the serial manager??</p>
        <p>Gerry</p>
        <p><br>
          &gt; -----Original Message-----<br>
          &gt; From: Jimmy Stricker [SMTP:jstricker@emware.com]<br>
          &gt; Sent: Friday, October 22, 1999 9:49 AM<br>
          &gt; To: 'palm-dev-forum@3com.com'<br>
          &gt; Subject: RE: IR without IRDA<br>
          &gt; <br>
          &gt; You don't have to use the IRDA stack, you can use your<br>
          &gt; own protocol through the IR by using the serial library.<br>
          &gt; <br>
          &gt; All you have to do is enable the the IR port.<br>
          &gt; <br>
          &gt; <br>
          &gt; #ifdef PALM_PRO<br>
          &gt; err = SysLibFind(&quot;IrSerial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          &gt; #else<br>
          &gt; err = SysLibFind(&quot;Serial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          &gt; #endif <br>
          &gt; <br>
          &gt; err |= SerOpen(pDcb-&gt;hComm,0,pDcb-&gt;baudRate);<br>
          &gt; emSetBaud(pDcb);<br>
          &gt; if (pDcb-&gt;echoOn != 0)<br>
          &gt; {<br>
          &gt; SerControl(pDcb-&gt;hComm, serCtlIrDAEnable, 0, 0);<br>
          &gt; <br>
          &gt; }<br>
          &gt; if (err == 0)<br>
          &gt; sts = EM_STS_OK;<br>
          &gt; <br>
          &gt; <br>
          &gt; This snipit will use the IR port to send and recieve my<br>
          &gt; own custom protocol.<br>
          &gt; <br>
          &gt; Hope this helps, <br>
          &gt; <br>
          &gt; Jimmy<br>
          &gt; <br>
          &gt; -----Original Message-----<br>
          &gt; From: Rigdon, Gerald [mailto:grigdon@robertshaw.com]</p>
        <p>&gt; Sent: Friday, October 22, 1999 9:38 AM<br>
          &gt; To: 'palm-dev-forum@3com.com'<br>
          &gt; Subject: RE: IR without IRDA<br>
          &gt; <br>
          &gt; <br>
          &gt; Hi,<br>
          &gt; <br>
          &gt; Thanks for the input. I am still a little fuzzy about IRDA. If 
          we use<br>
          &gt; IrCOMM on the palm, does this use the IRDA protocol stack? If so, 
          then<br>
          &gt; would we be forced to comply with IRDA protocol on the embbeded<br>
          &gt; system.<br>
          &gt; <br>
          &gt; We had planned to develop our own protocol to avoid overhead the 
          full<br>
          &gt; IRDA overhead on the embedded system. Using the current version 
          of the<br>
          &gt; serial manager, we were going to treat IR communications as a serial<br>
          &gt; port using our own protocol. So, our original question was whether<br>
          &gt; this<br>
          &gt; would still be supported. We are trying to avoid the use of the 
          IRDA<br>
          &gt; protocol on the embedded system. Perhaps this is what you understood<br>
          &gt; in<br>
          &gt; your first reply. However, from what little I have read, IrCOMM 
          is<br>
          &gt; simply the top layer of IRDA protocol that abstracts everything. 
          This<br>
          &gt; is<br>
          &gt; great for the palm, but doesn't this force the details onto the<br>
          &gt; embedded<br>
          &gt; system??<br>
          &gt; <br>
          &gt; Thanks<br>
          &gt; <br>
          &gt; Gerry<br>
          &gt; <br>
          &gt; &gt; -----Original Message-----<br>
          &gt; &gt; From: Ben Williams [SMTP:bhw@btinternet.com]<br>
          &gt; &gt; Sent: Thursday, October 21, 1999 7:46 PM<br>
          &gt; &gt; To: palm-dev-forum@3com.com<br>
          &gt; &gt; Subject: Re: IR without IRDA<br>
          &gt; &gt; <br>
          &gt; &gt; &gt; We are developing an embedded application that does not 
          have<br>
          &gt; enough<br>
          &gt; &gt; &gt; memory for the IRDA stack. We are getting the Palm to 
          communicate<br>
          &gt; &gt; &gt; through the serial manager to the IR hardware successfully. 
          The<br>
          &gt; &gt; &gt; question is, will this type of functionality be supported 
          in the <br>
          &gt; &gt; &gt; future and is there better support right now for it? 
          We had to do<br>
          &gt; <br>
          &gt; &gt; &gt; alot of guessing by reading the include files and trial 
          and<br>
          &gt; error.<br>
          &gt; &gt; <br>
          &gt; &gt; It depends exactly what you mean. If you are using the serial<br>
          &gt; manager <br>
          &gt; &gt; to communicate via IrCOMM then this is certainly implemented 
          in the <br>
          &gt; &gt; future - you can either use the IR enhancements from 3com 
          which<br>
          &gt; allow <br>
          &gt; &gt; you to map serial output as IrCOMM - it gives the user a new 
          panel<br>
          &gt; in <br>
          &gt; &gt; preferences to swap between cradle and IR serial functions 
          (this can<br>
          &gt; <br>
          &gt; &gt; be used to IR HotSync, also...). The other way is to upgrade 
          to OS <br>
          &gt; &gt; 3.3 and use the new serial manager - this allows you to open 
          the <br>
          &gt; &gt; serial port as 'ircm' directly and send as IrCOMM without 
          any <br>
          &gt; &gt; prerequisite for the user to change the port map. The new 
          sm also <br>
          &gt; &gt; allows you to open the IR hardware directly(?). Have at look 
          at <br>
          &gt; &gt; 'Specifying the Port ID' on page 205 of the programmers companion 
          <br>
          &gt; &gt; (and also the stuff before it).<br>
          &gt; &gt; <br>
          &gt; &gt; If anyway an point me in the right direction to get the header 
          files<br>
          &gt; <br>
          &gt; &gt; so that I can actually _use_ the New Serial Manager, I would 
          be very<br>
          &gt; <br>
          &gt; &gt; very grateful... 8).<br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; --<br>
          &gt; &gt; Is your email secure? http://www.pop3now.com</p>
        <p>&gt; &gt; (c) 1998,1999 Cave Creations Corp. All rights reserved.<br>
          &gt; &gt; </p>
        <p></p>
        <p>RE: IR without IRDA</p>
        <p> From: Jimmy Stricker (view other messages by this author) <br>
          Date: Fri, 22 Oct 1999 09:22:09 </p>
        <p></p>
        <p>This is using 3.0, (works with all current palm devices (havn't tried 
          the<br>
          VII))</p>
        <p>Because everything used is part of the serial library, I don't know 
          why it <br>
          wouldn't work with 3.3</p>
        <p>Jimmy</p>
        <p>-----Original Message-----<br>
          From: Rigdon, Gerald [mailto:grigdon@robertshaw.com]</p>
        <p>Sent: Friday, October 22, 1999 10:04 AM<br>
          To: 'palm-dev-forum@3com.com'<br>
          Subject: RE: IR without IRDA</p>
        <p><br>
          Thanks,</p>
        <p>Do you have to use version 3.3 of the OS for this? Will all the future<br>
          OS versions allow you to use the serial manager??</p>
        <p>Gerry</p>
        <p><br>
          &gt; -----Original Message-----<br>
          &gt; From: Jimmy Stricker [SMTP:jstricker@emware.com]<br>
          &gt; Sent: Friday, October 22, 1999 9:49 AM<br>
          &gt; To: 'palm-dev-forum@3com.com'<br>
          &gt; Subject: RE: IR without IRDA<br>
          &gt; <br>
          &gt; You don't have to use the IRDA stack, you can use your<br>
          &gt; own protocol through the IR by using the serial library.<br>
          &gt; <br>
          &gt; All you have to do is enable the the IR port.<br>
          &gt; <br>
          &gt; <br>
          &gt; #ifdef PALM_PRO<br>
          &gt; err = SysLibFind(&quot;IrSerial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          &gt; #else<br>
          &gt; err = SysLibFind(&quot;Serial Library&quot;, &amp;pDcb-&gt;hComm);<br>
          &gt; #endif <br>
          &gt; <br>
          &gt; err |= SerOpen(pDcb-&gt;hComm,0,pDcb-&gt;baudRate);<br>
          &gt; emSetBaud(pDcb);<br>
          &gt; if (pDcb-&gt;echoOn != 0)<br>
          &gt; {<br>
          &gt; SerControl(pDcb-&gt;hComm, serCtlIrDAEnable, 0, 0);<br>
          &gt; <br>
          &gt; }<br>
          &gt; if (err == 0)<br>
          &gt; sts = EM_STS_OK;<br>
          &gt; <br>
          &gt; <br>
          &gt; This snipit will use the IR port to send and recieve my<br>
          &gt; own custom protocol.<br>
          &gt; <br>
          &gt; Hope this helps, <br>
          &gt; <br>
          &gt; Jimmy<br>
          &gt; <br>
          &gt; -----Original Message-----<br>
          &gt; From: Rigdon, Gerald [mailto:grigdon@robertshaw.com]</p>
        <p>&gt; Sent: Friday, October 22, 1999 9:38 AM<br>
          &gt; To: 'palm-dev-forum@3com.com'<br>
          &gt; Subject: RE: IR without IRDA<br>
          &gt; <br>
          &gt; <br>
          &gt; Hi,<br>
          &gt; <br>
          &gt; Thanks for the input. I am still a little fuzzy about IRDA. If 
          we use<br>
          &gt; IrCOMM on the palm, does this use the IRDA protocol stack? If so, 
          then<br>
          &gt; would we be forced to comply with IRDA protocol on the embbeded<br>
          &gt; system.<br>
          &gt; <br>
          &gt; We had planned to develop our own protocol to avoid overhead the 
          full<br>
          &gt; IRDA overhead on the embedded system. Using the current version 
          of the<br>
          &gt; serial manager, we were going to treat IR communications as a serial<br>
          &gt; port using our own protocol. So, our original question was whether<br>
          &gt; this<br>
          &gt; would still be supported. We are trying to avoid the use of the 
          IRDA<br>
          &gt; protocol on the embedded system. Perhaps this is what you understood<br>
          &gt; in<br>
          &gt; your first reply. However, from what little I have read, IrCOMM 
          is<br>
          &gt; simply the top layer of IRDA protocol that abstracts everything. 
          This<br>
          &gt; is<br>
          &gt; great for the palm, but doesn't this force the details onto the<br>
          &gt; embedded<br>
          &gt; system??<br>
          &gt; <br>
          &gt; Thanks<br>
          &gt; <br>
          &gt; Gerry<br>
          &gt; <br>
          &gt; &gt; -----Original Message-----<br>
          &gt; &gt; From: Ben Williams [SMTP:bhw@btinternet.com]<br>
          &gt; &gt; Sent: Thursday, October 21, 1999 7:46 PM<br>
          &gt; &gt; To: palm-dev-forum@3com.com<br>
          &gt; &gt; Subject: Re: IR without IRDA<br>
          &gt; &gt; <br>
          &gt; &gt; &gt; We are developing an embedded application that does not 
          have<br>
          &gt; enough<br>
          &gt; &gt; &gt; memory for the IRDA stack. We are getting the Palm to 
          communicate<br>
          &gt; &gt; &gt; through the serial manager to the IR hardware successfully. 
          The<br>
          &gt; &gt; &gt; question is, will this type of functionality be supported 
          in the <br>
          &gt; &gt; &gt; future and is there better support right now for it? 
          We had to do<br>
          &gt; <br>
          &gt; &gt; &gt; alot of guessing by reading the include files and trial 
          and<br>
          &gt; error.<br>
          &gt; &gt; <br>
          &gt; &gt; It depends exactly what you mean. If you are using the serial<br>
          &gt; manager <br>
          &gt; &gt; to communicate via IrCOMM then this is certainly implemented 
          in the <br>
          &gt; &gt; future - you can either use the IR enhancements from 3com 
          which<br>
          &gt; allow <br>
          &gt; &gt; you to map serial output as IrCOMM - it gives the user a new 
          panel<br>
          &gt; in <br>
          &gt; &gt; preferences to swap between cradle and IR serial functions 
          (this can<br>
          &gt; <br>
          &gt; &gt; be used to IR HotSync, also...). The other way is to upgrade 
          to OS <br>
          &gt; &gt; 3.3 and use the new serial manager - this allows you to open 
          the <br>
          &gt; &gt; serial port as 'ircm' directly and send as IrCOMM without 
          any <br>
          &gt; &gt; prerequisite for the user to change the port map. The new 
          sm also <br>
          &gt; &gt; allows you to open the IR hardware directly(?). Have at look 
          at <br>
          &gt; &gt; 'Specifying the Port ID' on page 205 of the programmers companion 
          <br>
          &gt; &gt; (and also the stuff before it).<br>
          &gt; &gt; <br>
          &gt; &gt; If anyway an point me in the right direction to get the header 
          files<br>
          &gt; <br>
          &gt; &gt; so that I can actually _use_ the New Serial Manager, I would 
          be very<br>
          &gt; <br>
          &gt; &gt; very grateful... 8).<br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; <br>
          &gt; &gt; --<br>
          &gt; &gt; Is your email secure? http://www.pop3now.com</p>
        <p>&gt; &gt; (c) 1998,1999 Cave Creations Corp. All rights reserved.<br>
          &gt; &gt; </p>
        <p></p>
        <p><br>
          New Serial Manager and IR</p>
        <p> From: Lou Krieg (view other messages by this author) <br>
          Date: Fri, 19 Nov 1999 18:11:49 </p>
        <p></p>
        <p>I need to send serial IR ASCII data to an external device (custom hardware,<br>
          etc). The transfer will be one way.</p>
        <p>I have written a simple data sending app (and a receiving app for testing<br>
          purposes) using the New Serial Manager. The apps work fine when I test 
          them<br>
          using a crossover cable and the cradle ports. However, when I make the<br>
          change of calling SrmOpen with the logical port ID of the IR Port rather<br>
          than the Cradle Port, the Palm devices (a V and a III, both running 
          OS 3.3)<br>
          don't seem to be able to communicate.</p>
        <p>I have set the flags using SrmControl to not do flow control, and I 
          open the<br>
          port at 9600bps. Oh, and yes, I have both devices preferences set to 
          not<br>
          receive beams, since I imagine this grabs the port periodically to look 
          for<br>
          senders.</p>
        <p>Any thoughts on where to look for problems will be most welcomed!</p>
        <p> -- Lou<br>
          _________________________________________________________________<br>
          Lou Krieg, President Tel: (802) 865-2728<br>
          Green Mountain Software Corporation Fax: (802) 865-2468<br>
          85 Prim Road - Suite 302, PO Box 700 Internet: Lou@GMSW.com<br>
          Colchester, Vermont 05446-0700 http://www.GMSW.com</p>
        <p></p>
        <p>Re: New Serial Manager and IR</p>
        <p> From: Gavin Peacock (view other messages by this author) <br>
          Date: Mon, 22 Nov 1999 02:07:12 </p>
        <p></p>
        <p>At 10:54 PM -0800 11/19/99, Palm Developers Forum List wrote:<br>
          &gt;Date: 19 Nov 1999 18:07:11 -0800<br>
          &gt;From: Lou Krieg &lt;Lou@GMSW.com&gt;<br>
          &gt;</p>
        <p>&gt; Oh, and yes, I have both devices preferences set to not<br>
          &gt;receive beams, since I imagine this grabs the port periodically 
          to look for<br>
          &gt;senders.<br>
          &gt;</p>
        <p>You do not need to disable beam receive when you do serial or IrDA 
          comms.<br>
          The beam receive logic its port passively. As soon as you open the port,<br>
          beam receive is disabled, when you close the port, it is reenabled<br>
          automatically. As long as you have the port open, it is all yours and<br>
          beaming will not use it.</p>
        <p>--- Gavin</p>
        <p></p>
        <p><br>
          Re: New Serial Manager and IR</p>
        <p> From: bthompso (view other messages by this author) <br>
          Date: Mon, 22 Nov 1999 09:53:34 </p>
        <p></p>
        <p></p>
        <p>Hi Lou,<br>
          The problem is that the IR Port you are using is actually the<br>
          IrComm port running over the IrDA protocol suite. Probably _not_<br>
          what you're wanting.</p>
        <p> What you need to do is open the normal serial port then place<br>
          it into IR mode. The SrmControl call is used to enable/disable IR<br>
          mode and to enable/disable the IR receiver.</p>
        <p> Cheers,<br>
          Bruce Thompson<br>
          Senior Developer Support Engineer<br>
          Palm Computing, Inc.</p>
        <p>--------------------------------------------<br>
          Date: 19 Nov 1999 18:07:11 -0800<br>
          From: Lou Krieg &lt;Lou@GMSW.com&gt;<br>
          Subject: New Serial Manager and IR</p>
        <p>I need to send serial IR ASCII data to an external device (custom hardware,<br>
          etc). The transfer will be one way.</p>
        <p>I have written a simple data sending app (and a receiving app for testing<br>
          purposes) using the New Serial Manager. The apps work fine when I test 
          them<br>
          using a crossover cable and the cradle ports. However, when I make the<br>
          change of calling SrmOpen with the logical port ID of the IR Port rather<br>
          than the Cradle Port, the Palm devices (a V and a III, both running 
          OS 3.3)<br>
          don't seem to be able to communicate.</p>
        <p>I have set the flags using SrmControl to not do flow control, and I 
          open the<br>
          port at 9600bps. Oh, and yes, I have both devices preferences set to 
          not<br>
          receive beams, since I imagine this grabs the port periodically to look 
          for<br>
          senders.</p>
        <p>Any thoughts on where to look for problems will be most welcomed!</p>
        <p> -- Lou<br>
          _________________________________________________________________<br>
          Lou Krieg, President Tel: (802) 865-2728<br>
          Green Mountain Software Corporation Fax: (802) 865-2468<br>
          85 Prim Road - Suite 302, PO Box 700 Internet: Lou@GMSW.com<br>
          Colchester, Vermont 05446-0700 http://www.GMSW.com</p>
        <p></p>
        <p></p>
        <p><br>
          Re: New Serial Manager and IR</p>
        <p> From: Lou Krieg (view other messages by this author) <br>
          Date: Mon, 22 Nov 1999 10:24:03 </p>
        <p></p>
        <p>On 11/22/99 1:23 AM, Gavin Peacock at gpeacock@palm.com wrote:</p>
        <p>&gt; At 10:54 PM -0800 11/19/99, Palm Developers Forum List wrote:<br>
          &gt;&gt; Date: 19 Nov 1999 18:07:11 -0800<br>
          &gt;&gt; From: Lou Krieg &lt;Lou@GMSW.com&gt;<br>
          &gt;&gt; <br>
          &gt; <br>
          &gt;&gt; Oh, and yes, I have both devices preferences set to not<br>
          &gt;&gt; receive beams, since I imagine this grabs the port periodically 
          to look for<br>
          &gt;&gt; senders.<br>
          &gt;&gt; <br>
          &gt; <br>
          &gt; You do not need to disable beam receive when you do serial or IrDA 
          comms.<br>
          &gt; The beam receive logic its port passively. As soon as you open 
          the port,<br>
          &gt; beam receive is disabled, when you close the port, it is reenabled<br>
          &gt; automatically. As long as you have the port open, it is all yours 
          and<br>
          &gt; beaming will not use it.<br>
          &gt; <br>
          &gt; --- Gavin<br>
          &gt; </p>
        <p>Dear Gavin,</p>
        <p>Thanks... that is good information!</p>
        <p>I'm still not seeing data arriving at the receiving serial-IR machine, 
          but<br>
          I'll keep trying to isolate the problem. I have a feeling it may be 
          more in<br>
          the receiving side than the transmitting side, which if very straightforward<br>
          code.</p>
        <p>Best regards,</p>
        <p> -- Lou<br>
          _________________________________________________________________<br>
          Lou Krieg, President Tel: (802) 865-2728<br>
          Green Mountain Software Corporation Fax: (802) 865-2468<br>
          85 Prim Road - Suite 302, PO Box 700 Internet: Lou@GMSW.com<br>
          Colchester, Vermont 05446-0700 http://www.GMSW.com</p>
        <p></p>
        <p></p>
        <p><br>
          Re: New Serial Manager and IR</p>
        <p> From: Lou Krieg (view other messages by this author) <br>
          Date: Mon, 22 Nov 1999 15:25:49 </p>
        <p></p>
        <p>Hi Bruce,</p>
        <p>I'm probably being obtuse here...</p>
        <p>SrmOpen seems to offer two different ways to open the port, using wither<br>
          hardware or logical port IDs:</p>
        <p>Logical port ID's (for physical ports only):<br>
          $8000 = Cradle Port, RS-232 serial<br>
          $8001 = IR Port<br>
          $800n = reserved for future types of ports<br>
          A four-character string specifying the port name:<br>
          'u328' specifies the cradle port using the 68328 UART<br>
          'u650' specifies the IR port on an upgraded Palm III<br>
          device<br>
          'ircm' specifies the IRComm virtual port</p>
        <p><br>
          I have been opening the port using $8001. If that is IrComm... cool, 
          no<br>
          problem.</p>
        <p>However, if I open the port for RS for RS-232 serial, the only (apparently)<br>
          relevant opcodes for SrmControl appear to be IrDA-related:</p>
        <p>srmCtlIrDAEnable, // Enable IrDA connection on this serial port<br>
          // valueP = 0, valueLenP = 0</p>
        <p>srmCtlIrDADisable, // Disable IrDA connection on this serial port<br>
          // valueP = 0, valueLenP = 0</p>
        <p>srmCtlRxEnable, // enable receiver ( for IrDA )<br>
          <br>
          srmCtlRxDisable, // disable receiver ( for IrDA )</p>
        <p>(The above are from the SerialMgr.h file in the 3.5 support files).</p>
        <p>Should I open the port using $8000 and then call SrmControl with<br>
          srmCtlIrDAEnable? Or should I open it with $8001 and then srmCtlIrDADisable<br>
          it?</p>
        <p>Also, I assume that srmCtlRxDisable is to prevent &quot;feedback&quot; 
          where the<br>
          receiver sees the emitted data being sent... correct?</p>
        <p>Can you please clarify the above? Thanks a million!</p>
        <p> --Lou<br>
          _________________________________________________________________<br>
          Lou Krieg, President Tel: (802) 865-2728<br>
          Green Mountain Software Corporation Fax: (802) 865-2468<br>
          85 Prim Road - Suite 302, PO Box 700 Internet: Lou@GMSW.com<br>
          Colchester, Vermont 05446-0700 http://www.GMSW.com</p>
        <p><br>
          On 11/22/99 12:31 PM, bthompso@palm.com at bthompso@palm.com wrote:<br>
          &gt; <br>
          &gt; Hi Lou,<br>
          &gt; The problem is that the IR Port you are using is actually the<br>
          &gt; IrComm port running over the IrDA protocol suite. Probably _not_<br>
          &gt; what you're wanting.<br>
          &gt; <br>
          &gt; What you need to do is open the normal serial port then place<br>
          &gt; it into IR mode. The SrmControl call is used to enable/disable 
          IR<br>
          &gt; mode and to enable/disable the IR receiver.<br>
          &gt; <br>
          &gt; Cheers,<br>
          &gt; Bruce Thompson<br>
          &gt; Senior Developer Support Engineer<br>
          &gt; Palm Computing, Inc.<br>
          &gt; <br>
          &gt; --------------------------------------------<br>
          &gt; Date: 19 Nov 1999 18:07:11 -0800<br>
          &gt; From: Lou Krieg &lt;Lou@GMSW.com&gt;<br>
          &gt; Subject: New Serial Manager and IR<br>
          &gt; <br>
          &gt; I need to send serial IR ASCII data to an external device (custom 
          hardware,<br>
          &gt; etc). The transfer will be one way.<br>
          &gt; <br>
          &gt; I have written a simple data sending app (and a receiving app for 
          testing<br>
          &gt; purposes) using the New Serial Manager. The apps work fine when 
          I test them<br>
          &gt; using a crossover cable and the cradle ports. However, when I make 
          the<br>
          &gt; change of calling SrmOpen with the logical port ID of the IR Port 
          rather<br>
          &gt; than the Cradle Port, the Palm devices (a V and a III, both running 
          OS 3.3)<br>
          &gt; don't seem to be able to communicate.<br>
          &gt; <br>
          &gt; I have set the flags using SrmControl to not do flow control, and 
          I open the<br>
          &gt; port at 9600bps. Oh, and yes, I have both devices preferences set 
          to not<br>
          &gt; receive beams, since I imagine this grabs the port periodically 
          to look for<br>
          &gt; senders.<br>
          &gt; <br>
          &gt; Any thoughts on where to look for problems will be most welcomed!<br>
          &gt; <br>
          &gt; -- Lou</p>
        <p></p>
        <p></p>
        <p>Re: New Serial Manager and IR</p>
        <p> From: bthompso (view other messages by this author) <br>
          Date: Tue, 30 Nov 1999 01:11:48 </p>
        <p></p>
        <p></p>
        <p>Hi Lou,<br>
          And I'm being stupid here... :-)</p>
        <p> We have a few &quot;logical&quot; port numbers defined as a convenience 
          in case ports<br>
          change from device to device. This allows you to not have to worry about 
          where<br>
          the actual physical port resides. So, the Cradle port is the port that 
          is used<br>
          for<br>
          Local HotSync. On a Palm III this would be the DragonBall's built-in 
          UART. On a<br>
          Visor (ignore the fact that they aren't running 3.3 for now...) this 
          would be<br>
          the USB<br>
          port. The IR port is the raw IR device. in the case of a Palm III this 
          is still<br>
          the<br>
          DragonBall's UART. In the case of a PalmPilot with a 2MB upgrade this 
          is<br>
          actually a different UART on the upgrade card itself.</p>
        <p> What this means for you is that to use the &quot;raw&quot; serial 
          IR interface you<br>
          need to<br>
          open $8001, not 'u328'. $8001 is not the IrComm port as I previously 
          suggested.<br>
          My mistake, my bad. You do need to do the IrDAEnable and IrDARxEnable, 
          etc.<br>
          in order to talk IR.</p>
        <p> Thanks much to Tim Wiegman for catching my mistake!!!</p>
        <p> Cheers,<br>
          Bruce Thompson<br>
          Senior Developer Support Engineer<br>
          Palm Computing, Inc.</p>
        <p></p>
        <p></p>
        <p>Lou Krieg &lt;Lou@GMSW.com&gt; on 11/22/99 02:57:37 PM</p>
        <p>Sent by: Lou Krieg &lt;Lou@GMSW.com&gt;</p>
        <p><br>
          To: palm-dev-forum@3com.com<br>
          cc: Bruce Thompson/HQ/3Com<br>
          Subject: Re: New Serial Manager and IR</p>
        <p></p>
        <p><br>
          Hi Bruce,</p>
        <p>I'm probably being obtuse here...</p>
        <p>SrmOpen seems to offer two different ways to open the port, using wither<br>
          hardware or logical port IDs:</p>
        <p>Logical port ID's (for physical ports only):<br>
          $8000 = Cradle Port, RS-232 serial<br>
          $8001 = IR Port<br>
          $800n = reserved for future types of ports<br>
          A four-character string specifying the port name:<br>
          'u328' specifies the cradle port using the 68328 UART<br>
          'u650' specifies the IR port on an upgraded Palm III<br>
          device<br>
          'ircm' specifies the IRComm virtual port</p>
        <p><br>
          I have been opening the port using $8001. If that is IrComm... cool, 
          no<br>
          problem.</p>
        <p>However, if I open the port for RS for RS-232 serial, the only (apparently)<br>
          relevant opcodes for SrmControl appear to be IrDA-related:</p>
        <p>srmCtlIrDAEnable, // Enable IrDA connection on this serial port<br>
          // valueP = 0, valueLenP = 0</p>
        <p>srmCtlIrDADisable, // Disable IrDA connection on this serial port<br>
          // valueP = 0, valueLenP = 0</p>
        <p>srmCtlRxEnable, // enable receiver ( for IrDA )</p>
        <p>srmCtlRxDisable, // disable receiver ( for IrDA )</p>
        <p>(The above are from the SerialMgr.h file in the 3.5 support files).</p>
        <p>Should I open the port using $8000 and then call SrmControl with<br>
          srmCtlIrDAEnable? Or should I open it with $8001 and then srmCtlIrDADisable<br>
          it?</p>
        <p>Also, I assume that srmCtlRxDisable is to prevent &quot;feedback&quot; 
          where the<br>
          receiver sees the emitted data being sent... correct?</p>
        <p>Can you please clarify the above? Thanks a million!</p>
        <p> --Lou<br>
          _________________________________________________________________<br>
          Lou Krieg, President Tel: (802) 865-2728<br>
          Green Mountain Software Corporation Fax: (802) 865-2468<br>
          85 Prim Road - Suite 302, PO Box 700 Internet: Lou@GMSW.com<br>
          Colchester, Vermont 05446-0700 http://www.GMSW.com</p>
        <p><br>
          On 11/22/99 12:31 PM, bthompso@palm.com at bthompso@palm.com wrote:<br>
          &gt;<br>
          &gt; Hi Lou,<br>
          &gt; The problem is that the IR Port you are using is actually the<br>
          &gt; IrComm port running over the IrDA protocol suite. Probably _not_<br>
          &gt; what you're wanting.<br>
          &gt;<br>
          &gt; What you need to do is open the normal serial port then place<br>
          &gt; it into IR mode. The SrmControl call is used to enable/disable 
          IR<br>
          &gt; mode and to enable/disable the IR receiver.<br>
          &gt;<br>
          &gt; Cheers,<br>
          &gt; Bruce Thompson<br>
          &gt; Senior Developer Support Engineer<br>
          &gt; Palm Computing, Inc.<br>
          &gt;<br>
          &gt; --------------------------------------------<br>
          &gt; Date: 19 Nov 1999 18:07:11 -0800<br>
          &gt; From: Lou Krieg &lt;Lou@GMSW.com&gt;<br>
          &gt; Subject: New Serial Manager and IR<br>
          &gt;<br>
          &gt; I need to send serial IR ASCII data to an external device (custom 
          hardware,<br>
          &gt; etc). The transfer will be one way.<br>
          &gt;<br>
          &gt; I have written a simple data sending app (and a receiving app for 
          testing<br>
          &gt; purposes) using the New Serial Manager. The apps work fine when 
          I test them<br>
          &gt; using a crossover cable and the cradle ports. However, when I make 
          the<br>
          &gt; change of calling SrmOpen with the logical port ID of the IR Port 
          rather<br>
          &gt; than the Cradle Port, the Palm devices (a V and a III, both running 
          OS 3.3)<br>
          &gt; don't seem to be able to communicate.<br>
          &gt;<br>
          &gt; I have set the flags using SrmControl to not do flow control, and 
          I open the<br>
          &gt; port at 9600bps. Oh, and yes, I have both devices preferences set 
          to not<br>
          &gt; receive beams, since I imagine this grabs the port periodically 
          to look for<br>
          &gt; senders.<br>
          &gt;<br>
          &gt; Any thoughts on where to look for problems will be most welcomed!<br>
          &gt;<br>
          &gt; -- Lou</p>
        <p></p>
        <p></p>
        <p></p>
        <p>Communication IR</p>
        <p> From: PIGAT Jean-Pierre (view other messages by this author) <br>
          Date: Tue, 30 Nov 1999 06:43:58 </p>
        <p></p>
        <p>Hello I am new a new owner of PalmPilot V with an OS 3.3. <br>
          I wish to develop under codeWarrior a program allowing me to simulate 
          an<br>
          infra-red remote control for a particular protocol. <br>
          Today I board not found of API allowing me to directly control the infra-red<br>
          peripheral without passing by IRDA layer's . <br>
          Thus part of my program is out of assembler in order to be able as well 
          as<br>
          possible to respect the timings of the simulated protocol. <br>
          Is the port hardware used that of DragonBall (D0 and D1 of the port 
          K)? <br>
          So yes can you indicate the basic address of DragonBall to me (Currently 
          I<br>
          use the addresses 0xFFFFF430, 0xFFFFF431 and 0xFFFFF433 to control this<br>
          port)? <br>
          . <br>
          If not can you give me more information on the manner of programming 
          this<br>
          order. <br>
          I thank you by advance for your assistance </p>
        <p>Jean-Pierre</p>
        <p></p>
        <p></p>
        <p>SPT1740 low level IR question</p>
        <p> From: Neil Rhodes (view other messages by this author) <br>
          Date: Thu, 2 Dec 1999 10:27:14 </p>
        <p></p>
        <p>I've got an application that's communicating with a peripheral using 
          <br>
          low-level IR (not IrDA, but just sending 19,200 baud info through the 
          IR<br>
          port).</p>
        <p>On an SPT 1740 (running Palm OS 3.2), the following control call returns 
          an<br>
          error 768, serErrNotSupported:</p>
        <p> err = SerControl(gSerialRefNum, serCtlIrScanningOff, NULL, 0);</p>
        <p>(the intention is to turn off beam receive).</p>
        <p>On an SPT 1500 (running Palm OS 3.01), and a Palm VII (running Palm 
          OS 3.2),<br>
          the control call works just fine.</p>
        <p><br>
          Note that I've opened the port with:<br>
          Err err;<br>
          char *serialLibrary = NULL;<br>
          // check for Palm III Upgrade Card (w/IR)<br>
          if ( GHwrMiscFlags &amp; hwrMiscFlagHasCardIrDA ) {<br>
          // found it; locate the Upgrade Card's special serial library<br>
          serialLibrary = &quot;IrSerial Library&quot;;<br>
          } else {<br>
          // check for IR support on motherboard<br>
          if ( GHwrMiscFlags &amp; hwrMiscFlagHasMbdIrDA ) {<br>
          // locate the default serial library<br>
          serialLibrary = &quot;Serial Library&quot;;<br>
          }<br>
          }<br>
          ErrNonFatalDisplayIf(!serialLibrary, &quot;No IR on this device!&quot;);<br>
          err = SysLibFind(serialLibrary, &amp;gSerialRefNum);<br>
          ErrNonFatalDisplayIf(err != 0, &quot;Can't find serial library&quot;);<br>
          if (err != 0)<br>
          return err;<br>
          err = SerOpen(gSerialRefNum, 0, 19200);<br>
          if (err != 0) {<br>
          if (err == serErrAlreadyOpen) {<br>
          ErrNonFatalDisplay(&quot;Serial is in use&quot;);<br>
          SerClose(gSerialRefNum);<br>
          } else {<br>
          StatusNum(&quot;Can't open serial: %d&quot;, err);<br>
          }<br>
          }</p>
        <p>And, prior to the control call, I've set the baud rate, stop bits, 
          and bits<br>
          per char:<br>
          settings.baudRate = kTecIRBaudRate;<br>
          settings.flags = serSettingsFlagStopBits1 | serSettingsFlagBitsPerChar8;<br>
          err = SerSetSettings(gSerialRefNum, &amp;settings);</p>
        <p><br>
          My code seems to run fine on a 1740 without the call to turn IR scanning<br>
          off, but I'd like to know why it fails.</p>
        <p>Thanks,</p>
        <p><br>
          Neil</p>
        <p><br>
          POSE testing IR apps</p>
        <p> From: snic (view other messages by this author) <br>
          Date: Sun, 19 Dec 1999 13:01:01 </p>
        <p></p>
        <p>greetings, i'm developing an ir based application using PalmOS exchange 
          <br>
          manager. </p>
        <p>i own a couple of palm iii's so can test my app on the hardware, but 
          i'm <br>
          wondering if/how people here are testing their ir apps under POSE emulator?</p>
        <p>i've searched documentation but POSE doesn't appear to support any 
          kind of ir <br>
          emulation? is it possible to fake it using system calls like SysAppLaunch?</p>
        <p>any help greatly appreciated!</p>
        <p>stuart nicholson<br>
          http://homepages.ihug.co.nz/~snic/palm/index.html</p>
        <p></p>
        <p><br>
          Re: POSE testing IR apps</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Sun, 19 Dec 1999 17:06:35 </p>
        <p></p>
        <p>At 8:38 PM +0000 12/19/99, snic@ihug.co.nz wrote:<br>
          &gt;greetings, i'm developing an ir based application using PalmOS exchange<br>
          &gt;manager.<br>
          &gt;<br>
          &gt;i own a couple of palm iii's so can test my app on the hardware, 
          but i'm<br>
          &gt;wondering if/how people here are testing their ir apps under POSE 
          emulator?</p>
        <p>You can use shortcut-dot-t to toggle loop-back mode in the emulator 
          (or set it programmatically<br>
          when debugging). This will cause outgoing beams to &quot;loop back&quot; 
          to the same device. If you're<br>
          beaming to a peer (ie. the same app on another device), you'll receive 
          the data you just sent.<br>
          When in loop-back mode, the UART isn't used for IR, so you can do this 
          while Poser or a real<br>
          device is connected to the debugger. You can't be connected to a debugger 
          while doing real<br>
          IR on a Palm. You may be able to do this on a Visor because it has a 
          USB cradle. Has anyone<br>
          tried this? If you use a Mac, the simulator is in loop-back mode by 
          default.</p>
        <p><br>
          One thing to watch for is not accessing globals during the beam receive 
          launch code. When debugging,<br>
          it'll always be a sub-launch, so you can access globals freely. But 
          when you turn off loop-back<br>
          mode, this won't always be the case. Another thing to watch for is handling 
          overwrites. When<br>
          debugging with loop-back mode, you'll receive the same data you're sending.</p>
        <p><br>
          Consider yourself lucky. It's much easier to use the exchange manager 
          than the IR library.<br>
          -<br>
          Danny Epstein, Applied Thought Corporation<br>
          Have friends with Palm organizers? Get BeamBooks!<br>
          http://www.appliedthought.com/beambooks</p>
        <p><br>
          Serial/IR</p>
        <p> From: chi lu (view other messages by this author) <br>
          Date: Sat, 15 Jan 2000 18:15:55 </p>
        <p></p>
        <p>I am developing a program, which uses serial port on palmIII.<br>
          Will this program work using IR as serialport, if i just change<br>
          the setting in Preferences app =&gt; Serial via Infrared.</p>
        <p>I want my program to work similar to the hotsync, where user<br>
          can use cradle or IR.</p>
        <p>Do i have to change anything in the code ex: syslibfind another library 
          etc, <br>
          in order to support above functionality.</p>
        <p>I have installed s/w like Enhanced infrared upgrade etc.</p>
        <p>I would appreciate, if any one could help me on this.</p>
        <p>Thanks in advance,<br>
          chi</p>
        <p>______________________________________________________<br>
          Get Your Private, Free Email at http://www.hotmail.com</p>
        <p></p>
        <p><br>
          IR programming on the IRda-SIR level??</p>
        <p> From: Sigurdur Ragnarsson (view other messages by this author) <br>
          Date: Tue, 18 Jan 2000 08:51:30 </p>
        <p></p>
        <p>Hi all.</p>
        <p>I am new to this mailing list so I don't know if this has been asked 
          before:</p>
        <p>I am trying to write data to a TEC B-211 portable printer through the 
          <br>
          IR port on the Palm SPT1700 device from Symbol. Since the TEC-printer 
          <br>
          is only IrDA compatible on the SIR physical layer, I don't know how<br>
          to write to it on this (low) level.<br>
          All the documentation and examples (Beamer) suppose that the IrDA standard<br>
          is used.<br>
          (irOpen library routines and so on).<br>
          <br>
          My question is:<br>
          ----------------<br>
          Is it possible to write to this printer via the IR-port on a serial 
          <br>
          level (SIR), and if so, how? (just in general terms)<br>
          Can someone point out some places to look for more info on this subject?</p>
        <p>Equipment I am using:<br>
          ----------------------<br>
          CodeWarrior on a Win-NT PC to make PalmOS applications,<br>
          Symbol SPT-1700 palm device with barcode scanner,<br>
          TEC B-211 portable printer with IR receiveing capabilities.</p>
        <p> <br>
          Best regards,<br>
          Sigurdur Ragnarsson,<br>
          Strengur hf.<br>
          Armuli 7<br>
          108 Reykjavik<br>
          Iceland</p>
        <p>mail: siggi@strengur.is</p>
        <p><br>
          Debug Ir Library</p>
        <p> From: Matchz (view other messages by this author) <br>
          Date: Wed, 19 Jan 2000 00:04:03 </p>
        <p></p>
        <p>Hi,<br>
          I am now writing a program using Irda. Since POSE do not support<br>
          Ir emulation, so I must test my program on a real palm. In some cases, 
          there<br>
          would have a fatal exception that I need to hard reset my palm.</p>
        <p> The method I am using to debug my program is using a text area<br>
          to dump some debug statments to the screen. It is a stupid method and 
          I<br>
          would like to know any better ideas for me to debug an Ir-enable program?</p>
        <p>Matchz.</p>
        <p><br>
          Controlling IR</p>
        <p> From: Stephen Bentley (view other messages by this author) <br>
          Date: Wed, 19 Jan 2000 12:56:29 </p>
        <p></p>
        <p>Does anyone have any sample code or links that<br>
          demonstrate using the low-level IR Library calls<br>
          of Palm OS 3.x? I need to go deeper in accessing<br>
          the IR port, much like Omniremote might do.<br>
          Any help would be greatly appreciated.</p>
        <p>Cheers.<br>
          Stephen Bentley<br>
          batdude@earthlink.net</p>
        <p></p>
        <p>Re: Controlling IR</p>
        <p> From: Scott Dattalo (view other messages by this author) <br>
          Date: Wed, 19 Jan 2000 16:05:01 </p>
        <p></p>
        <p></p>
        <p>On Wed, 19 Jan 2000, Stephen Bentley wrote:</p>
        <p>&gt; Does anyone have any sample code or links that<br>
          &gt; demonstrate using the low-level IR Library calls<br>
          &gt; of Palm OS 3.x? I need to go deeper in accessing<br>
          &gt; the IR port, much like Omniremote might do.<br>
          &gt; Any help would be greatly appreciated.</p>
        <p>http://www.ibr.cs.tu-bs.de/~harbaum/pilot/ir_ping.html</p>
        <p><br>
          Next, you may want to try Glenn Bachmann's &quot;Palm Programming&quot;<br>
          book. ISBN 0-672-31493-2</p>
        <p>Between these two I had enough information to get a low level (TinyTP)<br>
          IrDA link between my Linux Box and my Pilot.</p>
        <p>Scott</p>
        <p></p>
        <p>Serial and Infrared</p>
        <p> From: S L (view other messages by this author) <br>
          Date: Fri, 21 Jan 2000 13:31:31 </p>
        <p></p>
        <p>Hi,<br>
          I'm trying to write a program that will use both the serial<br>
          port and the IR port. But it seems that I can only use one.<br>
          As when I do SerOpen the IrOpen fails and vise versa. </p>
        <p>Does anyone know if its possible to use both? or do they share some<br>
          hardware resources?</p>
        <p>Thx,<br>
          -- Schachar</p>
        <p></p>
        <p><br>
          Re: Serial and Infrared</p>
        <p> From: Dave Lippincott (view other messages by this author) <br>
          Date: Fri, 21 Jan 2000 15:08:55 </p>
        <p></p>
        <p>Not possible when the device has only one UART. I've heard of some<br>
          developers using an upgraded Pro (with the IR expansion board) or you 
          could<br>
          use a TRGPro with a CF serial card.<br>
          I don't know of any other ways possible.</p>
        <p>-----Original Message-----<br>
          From: S L &lt;pixel.il@usa.net&gt;<br>
          To: palm-dev-forum@ls.3com.com &lt;palm-dev-forum@ls.3com.com&gt;<br>
          Date: Friday, January 21, 2000 3:58 PM<br>
          Subject: Serial and Infrared</p>
        <p><br>
          &gt;Hi,<br>
          &gt;I'm trying to write a program that will use both the serial<br>
          &gt;port and the IR port. But it seems that I can only use one.<br>
          &gt;As when I do SerOpen the IrOpen fails and vise versa.<br>
          &gt;<br>
          &gt;Does anyone know if its possible to use both? or do they share some<br>
          &gt;hardware resources?<br>
          &gt;<br>
          &gt;Thx,<br>
          &gt;-- Schachar<br>
          &gt;</p>
        <p><br>
          Re: Serial and Infrared</p>
        <p> From: Jim Schram (view other messages by this author) <br>
          Date: Fri, 21 Jan 2000 15:33:29 </p>
        <p></p>
        <p>At 10:47 PM +0200 2000/01/21, S L wrote:<br>
          &gt;I'm trying to write a program that will use both the serial<br>
          &gt;port and the IR port. But it seems that I can only use one.<br>
          &gt;As when I do SerOpen the IrOpen fails and vise versa. <br>
          &gt;<br>
          &gt;Does anyone know if its possible to use both? or do they share some<br>
          &gt;hardware resources?</p>
        <p>You cannot use both ports at the same time because each uses the same 
          serial UART of the DragonBall.<br>
          An upgraded Palm Pilot 1000, 5000, Personal, or Professional model with 
          the IrDA memory expansion<br>
          module has a separate UART for IR, but due to issues with the Palm OS 
          you still can't use them<br>
          both at the same time.</p>
        <p><br>
          Regards,</p>
        <p>Jim Schram<br>
          3Com/Palm Computing<br>
          Partner Engineering</p>
        <p></p>
        <p></p>
        <p><br>
          Re: Serial and Infrared</p>
        <p> From: John Spicer (view other messages by this author) <br>
          Date: Sat, 22 Jan 2000 08:17:26 </p>
        <p></p>
        <p>&gt;Hi,<br>
          &gt;I'm trying to write a program that will use both the serial<br>
          &gt;port and the IR port. But it seems that I can only use one.<br>
          &gt;As when I do SerOpen the IrOpen fails and vise versa.<br>
          &gt;<br>
          &gt;Does anyone know if its possible to use both? or do they share some<br>
          &gt;hardware resources?<br>
          &gt;<br>
          &gt;Thx,<br>
          &gt;-- Schachar</p>
        <p>I think they share the same UART since there is only one, so it's not 
          <br>
          possible to use both at the same time.</p>
        <p>____________________________________________________<br>
          John Spicer<br>
          H: (780) 903-6224<br>
          ____________________________________________________<br>
          &lt;mailto:jspicer47@home.com&gt;<br>
          ____________________________________________________<br>
          Author: MakeItGrow, MacLotto, TiCalendar, MacBillman,<br>
          Image-In Engine, TiCalendar, DrugMaster, MacDirectPay<br>
          If you want to work on your computer, buy an IBM.<br>
          If you want to DO work on your computer, buy a Mac.<br>
          ____________________________________________________</p>
        <p><br>
          Re: Debug Ir Library</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Sun, 23 Jan 2000 22:14:15 </p>
        <p></p>
        <p>At 3:47 PM +0800 1/19/00, Matchz wrote:<br>
          &gt;The method I am using to debug my program is using a text area<br>
          &gt;to dump some debug statments to the screen. It is a stupid method 
          and I<br>
          &gt;would like to know any better ideas for me to debug an Ir-enable 
          program?</p>
        <p>That's a good one. You can log messages to the Memo Pad's database 
          and read it after a (soft)<br>
          reset. Beware that the time it takes to log this way can affect the 
          behavior of your application.<br>
          This can be a problem, particularly during discovery. Someone (on this 
          list IIRC) suggested<br>
          using a Visor with USB cradle so you can do IR on a device connected 
          to the debugger. Be very<br>
          careful!</p>
        <p>-<br>
          Danny Epstein - Applied Thought<br>
          No Palm is an Island - try BeamBooks<br>
          http://www.appliedthought.com/beambooks</p>
        <p><br>
          ---<br>
          You are currently subscribed to palm-dev-forum as: cppcpqa@escribe.com<br>
          To unsubscribe send a blank email to leave-palm-dev-forum-2748P@ls.palm.com</p>
        <p><br>
          Serial/IR database's name</p>
        <p> From: petrelis (view other messages by this author) <br>
          Date: Wed, 26 Jan 2000 08:07:37 </p>
        <p></p>
        <p>I am developing a program in which the user can go to preference panel 
          (network,modem) <br>
          and return to my application. ( I use sysAppLaunchCmdPanelCalledFromApp 
          ).<br>
          I would like to do the same thing with Serial/IR panel, but I need the 
          database's name of this <br>
          application.<br>
          With Insider, it doesn't appears.</p>
        <p>Any help would be appreciated.</p>
        <p></p>
        <p></p>
        <p></p>
        <p>Accessing the Ir Port without IrDA..</p>
        <p> From: Noah J. Ternullo (view other messages by this author) <br>
          Date: Fri, 28 Jan 2000 09:28:12 </p>
        <p></p>
        <p>Howdy all,<br>
          I have been working to try to access the Ir port as a standard<br>
          serial device. I need to do unidirectional communication and therefore<br>
          can't use IrDA's Comm package as all IrDA is bidirectional. It looks 
          like<br>
          I am stuck using the old serial manager, as I can't get ahold of an 
          SDK<br>
          which has the appropriate includes and libraries for the new serial<br>
          manager (which would solve my problem).<br>
          I have tried specifying the port in serOpen as 1, and as 0x8001,<br>
          neither gives me an error. I am using a Palm III upgraded to PalmOS 
          3.3.<br>
          Any ideas what might be happening if I'm not getting any errors? (I 
          do<br>
          get port already opened sometimes, and the time out error on the IrReceive<br>
          function but I think those are non-critical). The critical parts of 
          my<br>
          code are included below,</p>
        <p> Any and all help is greatly appreciated,</p>
        <p></p>
        <p> Noah Ternullo<br>
          ============================================================================<br>
          #include &lt;SerialMgr.h&gt;<br>
          ...<br>
          // function prototypes<br>
          Err IrSerialOpen(ULong baudrate );<br>
          Err IrSerialClose();<br>
          Err IrSendData(char Sendme);<br>
          Err IrReceiveData(char* ReceiveBuf, ULong size);<br>
          ...<br>
          #define IRPORT 1 // I have also tried 0x8001</p>
        <p><br>
          //Critical calls of the appropriate functions...<br>
          //<br>
          ========================================================================<br>
          static Err IrSerialOpen(ULong baudrate )<br>
          {<br>
          //baud rate is typically 9600<br>
          //SerRefNum is a global variable<br>
          ...<br>
          retval = SysLibFind (&quot;Serial Library&quot;, &amp;SerRefNum);<br>
          ... //errorchecking here <br>
          retval = SerOpen (SerRefNum, IRPORT, baudrate);<br>
          ... //errorchecking here<br>
          return retval;<br>
          <br>
          }</p>
        <p>=====================================================================<br>
          static Err IrSerialClose()<br>
          {<br>
          ... <br>
          retval = SerClose (SerRefNum);<br>
          ... //errorcheck here <br>
          return retval;<br>
          }</p>
        <p>=====================================================================</p>
        <p>static Err IrSendData(char Sendme)<br>
          {<br>
          ...</p>
        <p> count = SerSend (SerRefNum, &amp;Sendme, (long) 1, &amp;retval);<br>
          ... //errorcheck here <br>
          return retval; <br>
          }</p>
        <p>=====================================================================</p>
        <p>static Err IrReceiveData(char* ReceiveBuf, ULong size)<br>
          {<br>
          ... <br>
          Long timeout=5 //wait around 5 ticks (1 second?)</p>
        <p> numbytesreceived = SerReceive (SerRefNum, ReceiveBuf, size, <br>
          timeout, &amp;retval);<br>
          ... //errorchecking here <br>
          <br>
          return retval;<br>
          <br>
          }</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p><br>
          New Serial Manager and IR?</p>
        <p> From: John Ioannidis (view other messages by this author) <br>
          Date: Fri, 28 Jan 2000 11:22:13 </p>
        <p></p>
        <p>I have a couple of programs that run under PalmOS 3.0 using the old 
          Serial<br>
          Manager (the Ser* calls) and the rs232 port. I want to convert them 
          to <br>
          use the IR port, with the other side being an IrDA port running the 
          IRCOMM<br>
          (&quot;serial over infrared&quot;) protocol. Is all I have to do just 
          use SrmOpen<br>
          with 0x8001 as the port argument? Will that redirect the serial calls 
          over<br>
          to the infrared port using IRCOMM, or will it merely send the raw bits 
          over<br>
          IR? Is using 'ircm' as the port argument the right way of getting IRCOMM 
          <br>
          to work under 3.5?</p>
        <p>Thanks,</p>
        <p>/ji<br>
          --<br>
          John Ioannidis * Secure Systems Research Department * AT&amp;T Labs 
          - Research<br>
          OUR COMMON BOND: Respect for Individuals * Dedication to Helping Customers<br>
          Highest Standards of Integrity * Innovation * Teamwork</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p><br>
          Re: New Serial Manager and IR?</p>
        <p> From: Noah J. Ternullo (view other messages by this author) <br>
          Date: Fri, 28 Jan 2000 11:33:06 </p>
        <p></p>
        <p>On Fri, 28 Jan 2000, John Ioannidis wrote:</p>
        <p>&gt; I have a couple of programs that run under PalmOS 3.0 using the 
          old Serial<br>
          &gt; Manager (the Ser* calls) and the rs232 port. I want to convert 
          them to <br>
          &gt; use the IR port, with the other side being an IrDA port running 
          the IRCOMM<br>
          &gt; (&quot;serial over infrared&quot;) protocol. Is all I have to do 
          just use SrmOpen<br>
          &gt; with 0x8001 as the port argument? Will that redirect the serial 
          calls over<br>
          &gt; to the infrared port using IRCOMM, or will it merely send the raw 
          bits over<br>
          &gt; IR? </p>
        <p>As far as I can determine that will *not* redirect serial calls of 
          IrCOMM,<br>
          it will send/receive the raw bit. Use the logical id &quot;ircm&quot; 
          to specify<br>
          the IrComm virtual port.</p>
        <p><br>
          Noah J. Ternullo</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p><br>
          Re: how u can Test IrDA programs on the emulator</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Fri, 28 Jan 2000 18:39:48 </p>
        <p></p>
        <p>At 3:13 PM +0530 1/28/00, Gaurav Palvia wrote:<br>
          &gt;i know its a silly question but is there any way by which u can 
          test your<br>
          &gt;IrDA apps on the emulator</p>
        <p>You can test apps that use the Exchange Manager by using loopback mode 
          (shortcut-dot-t). This<br>
          will cause your device to receive the beam it's sending. The Mac simulator 
          is in loopback mode<br>
          by default, so you can debug that way too. (In fact, you can even use 
          loopback mode on a real<br>
          device.) Note that when using loopback mode to the same app (on the 
          same device), you'll have<br>
          access to globals. Don't assume that you'll always have access to globals 
          though!</p>
        <p><br>
          Testing apps that use the IR Library requires a real device, and it 
          can't be connected to the<br>
          debugger (because the IR port and the serial port share a UART and because 
          the OS doesn't support<br>
          it anyway). You can write directly to the screen, add to the Memo Pad's 
          database, etc, but<br>
          be aware that the IR library is timing-sensitive. Avoid slow debug code, 
          particularly during<br>
          discovery.</p>
        <p><br>
          Good luck.<br>
          -<br>
          Danny Epstein - Applied Thought<br>
          No Palm is an Island - try BeamBooks<br>
          http://www.appliedthought.com/beambooks</p>
        <p></p>
        <p><br>
          Re: New Serial Manager</p>
        <p> From: Jim Schram (view other messages by this author) <br>
          Date: Sun, 30 Jan 2000 12:43:06 </p>
        <p></p>
        <p>At 1:54 PM -0500 2000/01/30, Noah J. Ternullo wrote:<br>
          &gt;Oh, OK. Good sanity check then, but it begs the question, how does 
          one<br>
          &gt;directly access the Ir serial port (without the use of the IrDA<br>
          &gt;stack) without the new serial manager calls? How was it done before 
          the<br>
          &gt;new serial manager? Is there a port number I can specify in the 
          old<br>
          &gt;serOpen call (even in PalmOS3.3 or higher) which would allow this?</p>
        <p>If you just want to redirect the DragonBall UART from the cradle port 
          to the IR port with no<br>
          protocol intervention whatsoever, use the serCtlIrScanningOn and serCtlIrScanningOff 
          serial<br>
          control calls after opening the port. This should work with both the 
          new serial manager and<br>
          the old serial manager, back to Palm OS 3.0 if memory serves.</p>
        <p><br>
          serCtlIrScanningOn basically just turns off the cradle port line driver, 
          turns on the IR port<br>
          driver, and switches the UART into IR encoding mode. serCtlIrScanningOff 
          reverses all that.</p>
        <p><br>
          If you want to use the IR port for things like remote control of audio-visual 
          devices, then<br>
          you'll have to go a level deeper and bit-bang the DragonBall hardware 
          registers directly. I<br>
          know of no audio-visual IR remote controls that use standard FM-style 
          UART bit encodings.</p>
        <p><br>
          Regards,</p>
        <p>Jim Schram<br>
          3Com/Palm Computing<br>
          Partner Engineering</p>
        <p></p>
        <p></p>
        <p>Re: IR, New Serial Manager</p>
        <p> From: Brian Hall (view other messages by this author) <br>
          Date: Sun, 30 Jan 2000 21:09:24 </p>
        <p></p>
        <p>&gt; I have been working to try to access the Ir port as a standard<br>
          &gt;serial device. I need to do unidirectional communication and therefore<br>
          &gt;can't use IrDA's Comm package as all IrDA is bidirectional. It looks 
          like<br>
          &gt;I am stuck using the old serial manager, as I can't get ahold of 
          an SDK<br>
          &gt;which has the appropriate includes and libraries for the new serial<br>
          &gt;manager (which would solve my problem).</p>
        <p>The new serial manager headers are included with the 3.5 SDK. I *think* 
          you<br>
          need to have access to the provider pavillion for that, and directions 
          for<br>
          signing up (in case that is needed) are at the devzone.</p>
        <p>Brian<br>
          _____________________________________________________________________<br>
          Mark/Space Softworks voice 408-293-7299<br>
          111 West Saint John, 3rd Floor fax 408-293-7298<br>
          San Jose, CA 95113 &lt;http://www.markspace.com&gt;</p>
        <p><br>
          PalmOS, Mac OS, Windows and Web Software &amp; Solutions:</p>
        <p> PageNOW! Wireless Messaging, PhoneWatcher Caller ID,<br>
          Online &amp; Communicate terminal emulation and serial debugging</p>
        <p><br>
          re: New Serial Manager</p>
        <p> From: SRBentley (view other messages by this author) <br>
          Date: Mon, 31 Jan 2000 07:18:08 </p>
        <p></p>
        <p>On Sunday Jan 30 Jim Schram wrote:</p>
        <p>&gt;If you just want to redirect the DragonBall UART from the cradle 
          port to<br>
          the IR port with no protocol intervention<br>
          &gt;whatsoever, use the serCtlIrScanningOn and serCtlIrScanningOff serial<br>
          control calls after opening the port. This <br>
          &gt;should work with both the new serial manager and the old serial 
          manager,<br>
          back to Palm OS 3.0 if memory serves.</p>
        <p>When I try using SerControl(serLibNum, serCtlIrScanningOn, NULL, NULL),<br>
          after calling SerOpen(serLibNum, portNum, baudRate) with a portNum of 
          0, I<br>
          get a serErrNotSupported message. I'm using OS3.3 with a Palm III. I've<br>
          been able to get the New Serial Manager functions running on it, so 
          I'm<br>
          wondering why this didn't work.</p>
        <p>Stephen Bentley<br>
          Sr. Systems Engineer<br>
          Applied Global Technologies</p>
        <p></p>
        <p>Re: New Serial Manager</p>
        <p> From: Jason Simpkins (view other messages by this author) <br>
          Date: Mon, 31 Jan 2000 10:06:03 </p>
        <p></p>
        <p>I have found that the SerRecieveWait function does not work correctly 
          at all on 3.3, causes<br>
          the POSE to hang.</p>
        <p>I use a SerCheck and wait until there is x amount of bytes to read 
          then use SerReceive to retrieve<br>
          them. Works</p>
        <p>perfect and allows EvtHandleEvent to take care of pending events without 
          the blocking that<br>
          SerReceiveWait does.</p>
        <p>And this it seems has been my problem all along with PalmOS3.3, finally 
          solved it this weekend!<br>
          Yeehaw.</p>
        <p><br>
          SRBentley@excite.com wrote:</p>
        <p>&gt; On Sunday Jan 30 Jim Schram wrote:<br>
          &gt;<br>
          &gt; &gt;If you just want to redirect the DragonBall UART from the cradle 
          port to<br>
          &gt; the IR port with no protocol intervention<br>
          &gt; &gt;whatsoever, use the serCtlIrScanningOn and serCtlIrScanningOff 
          serial<br>
          &gt; control calls after opening the port. This<br>
          &gt; &gt;should work with both the new serial manager and the old serial 
          manager,<br>
          &gt; back to Palm OS 3.0 if memory serves.<br>
          &gt;<br>
          &gt; When I try using SerControl(serLibNum, serCtlIrScanningOn, NULL, 
          NULL),<br>
          &gt; after calling SerOpen(serLibNum, portNum, baudRate) with a portNum 
          of 0, I<br>
          &gt; get a serErrNotSupported message. I'm using OS3.3 with a Palm III. 
          I've<br>
          &gt; been able to get the New Serial Manager functions running on it, 
          so I'm<br>
          &gt; wondering why this didn't work.<br>
          &gt;<br>
          &gt; Stephen Bentley<br>
          &gt; Sr. Systems Engineer<br>
          &gt; Applied Global Technologies<br>
          &gt;<br>
          &gt; _______________________________________________________<br>
          &gt; Get 100% FREE Internet Access powered by Excite<br>
          &gt; Visit http://freeworld.excite.com<br>
          &gt;<br>
          &gt; --<br>
          &gt; For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p></p>
        <p></p>
        <p></p>
        <p><br>
          Re: New Serial Manager</p>
        <p> From: Jason Simpkins (view other messages by this author) <br>
          Date: Mon, 31 Jan 2000 10:06:03 </p>
        <p></p>
        <p>I have found that the SerRecieveWait function does not work correctly 
          at all on 3.3, causes<br>
          the POSE to hang.</p>
        <p>I use a SerCheck and wait until there is x amount of bytes to read 
          then use SerReceive to retrieve<br>
          them. Works</p>
        <p>perfect and allows EvtHandleEvent to take care of pending events without 
          the blocking that<br>
          SerReceiveWait does.</p>
        <p>And this it seems has been my problem all along with PalmOS3.3, finally 
          solved it this weekend!<br>
          Yeehaw.</p>
        <p><br>
          SRBentley@excite.com wrote:</p>
        <p>&gt; On Sunday Jan 30 Jim Schram wrote:<br>
          &gt;<br>
          &gt; &gt;If you just want to redirect the DragonBall UART from the cradle 
          port to<br>
          &gt; the IR port with no protocol intervention<br>
          &gt; &gt;whatsoever, use the serCtlIrScanningOn and serCtlIrScanningOff 
          serial<br>
          &gt; control calls after opening the port. This<br>
          &gt; &gt;should work with both the new serial manager and the old serial 
          manager,<br>
          &gt; back to Palm OS 3.0 if memory serves.<br>
          &gt;<br>
          &gt; When I try using SerControl(serLibNum, serCtlIrScanningOn, NULL, 
          NULL),<br>
          &gt; after calling SerOpen(serLibNum, portNum, baudRate) with a portNum 
          of 0, I<br>
          &gt; get a serErrNotSupported message. I'm using OS3.3 with a Palm III. 
          I've<br>
          &gt; been able to get the New Serial Manager functions running on it, 
          so I'm<br>
          &gt; wondering why this didn't work.<br>
          &gt;<br>
          &gt; Stephen Bentley<br>
          &gt; Sr. Systems Engineer<br>
          &gt; Applied Global Technologies<br>
          &gt;<br>
          &gt; _______________________________________________________<br>
          &gt; Get 100% FREE Internet Access powered by Excite<br>
          &gt; Visit http://freeworld.excite.com<br>
          &gt;<br>
          &gt; --<br>
          &gt; For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p></p>
        <p></p>
        <p>Can 1-way non-link transfer data?</p>
        <p> From: Carl Van Wormer (view other messages by this author) <br>
          Date: Thu, 10 Feb 2000 07:45:35 </p>
        <p></p>
        <p>I've been lurking and learning for the last couple of weeks. Is it 
          possible<br>
          to make an application that does not set up a 2-way link, that still 
          sends<br>
          the data one way. The simplified scenarios are:<br>
          1. Case 1: Data from PC to Palm. PC with serial port controlled infrared<br>
          transmitter, Palm with serial connection to an infrared to RS-232 converter.<br>
          (not the built-in IRDA interface on my Palm III)<br>
          2. Case 2: Data from Palm to PC. Palm with serial connection to infrared<br>
          blaster (not the built-in IRDA interface), with a special IR to RS-232<br>
          converter on the PC.</p>
        <p>The infrared link is just an example for this question. It could be<br>
          replaced by and RF (one way only) link, or even just a 2-wire RS-232 
          (either<br>
          transmit only, or receive only) physical connection. The question I 
          am<br>
          trying to answer is: Can the provided development tools support a strictly<br>
          one-way (no handshaking) data transfer? Can this transfer happen to 
          go both<br>
          ways (using 2 separate configurations)? I don't want to sound like I'm<br>
          repeating myself repeating myself, but answers I've gotten from others<br>
          ignored startup handshaking before the data transfer.</p>
        <p><br>
          Reply to: kisi-carlv@pcez.com<br>
          Carl Van Wormer<br>
          Koplar Interactive Systems International, L.L.C.<br>
          1815 NW 169th Place, Suite 5060<br>
          Beaverton, OR 97006-7364<br>
          Phone (503)-531-0213 Fax (503)-531-7955</p>
        <p></p>
        <p></p>
        <p><br>
          RE: Can 1-way non-link transfer data?</p>
        <p> From: Fitzpatrick, Joe (view other messages by this author) <br>
          Date: Thu, 10 Feb 2000 10:04:22 </p>
        <p></p>
        <p>Yes, you can make the Palm serial port spit out data and ignore<br>
          handshaking - very easily. You could do the same thing with the IR<br>
          port, but it would take a bit more work.</p>
        <p>Likewise, you could sit and listen for data on the serial port, etc.</p>
        <p>But, with IR, you would do well to build your app on top of IrDA. The<br>
          communication link itself is not terribly reliable. IrDA LAP gives you<br>
          error detection, collision detection, retry, etc. Mechanisms that you<br>
          would have to build yourself otherwise.</p>
        <p>Good Luck,<br>
          -jjf</p>
        <p>-----Original Message-----<br>
          From: Carl Van Wormer [mailto:kisi-carlv@pcez.com]</p>
        <p>Sent: Thursday, February 10, 2000 7:19 AM<br>
          To: Palm Developer Forum<br>
          Subject: Can 1-way non-link transfer data?</p>
        <p><br>
          I've been lurking and learning for the last couple of weeks. Is it<br>
          possible<br>
          to make an application that does not set up a 2-way link, that still<br>
          sends<br>
          the data one way. The simplified scenarios are:<br>
          1. Case 1: Data from PC to Palm. PC with serial port controlled<br>
          infrared<br>
          transmitter, Palm with serial connection to an infrared to RS-232<br>
          converter.<br>
          (not the built-in IRDA interface on my Palm III)<br>
          2. Case 2: Data from Palm to PC. Palm with serial connection to<br>
          infrared<br>
          blaster (not the built-in IRDA interface), with a special IR to RS-232<br>
          converter on the PC.</p>
        <p>The infrared link is just an example for this question. It could be<br>
          replaced by and RF (one way only) link, or even just a 2-wire RS-232<br>
          (either<br>
          transmit only, or receive only) physical connection. The question I 
          am<br>
          trying to answer is: Can the provided development tools support a<br>
          strictly<br>
          one-way (no handshaking) data transfer? Can this transfer happen to 
          go<br>
          both<br>
          ways (using 2 separate configurations)? I don't want to sound like I'm<br>
          repeating myself repeating myself, but answers I've gotten from others<br>
          ignored startup handshaking before the data transfer.</p>
        <p><br>
          Reply to: kisi-carlv@pcez.com<br>
          Carl Van Wormer<br>
          Koplar Interactive Systems International, L.L.C.<br>
          1815 NW 169th Place, Suite 5060<br>
          Beaverton, OR 97006-7364<br>
          Phone (503)-531-0213 Fax (503)-531-7955</p>
        <p></p>
        <p>IR Serial communication</p>
        <p> From: Magn?s ??r Torfason (view other messages by this author) <br>
          Date: Sat, 12 Feb 2000 08:14:40 </p>
        <p></p>
        <p>I need to connect to a device that user serial communications directly, 
          over<br>
          an IrDA port, but not IrComm. These are existing devices that must be 
          set<br>
          with a serial connection and our client wishes to use a palm for the<br>
          connection.</p>
        <p>The current procedure is to use an IR port of a portable PC, (SIR).</p>
        <p>Setting my palm to sysFileVirtIrComm and sending over an x results 
          in 100+<br>
          characters on the laptop(None of them x of course).</p>
        <p>Setting my palm to serPortIrPort and opening it results in the ascii<br>
          character 255 (FF) on the laptop. Sending over characters does not work<br>
          however.</p>
        <p>What other ways do I have of configuring the IR port of the palm? I'm<br>
          willing to use hacks and try out what settings there are, but don't 
          know<br>
          where to start ...</p>
        <p>Regards,<br>
          Magnus Torfason</p>
        <p></p>
        <p><br>
          Re: OS 3.3 and Enhanced Infrared Update's Serial Library</p>
        <p> From: Ferdinand Perlas (view other messages by this author) <br>
          Date: Fri, 25 Feb 2000 23:29:56 </p>
        <p></p>
        <p>Thanks for you response.</p>
        <p>I'd like to make my question more specific now....</p>
        <p>I have a program which communicates with my SH888 using:</p>
        <p> // Find serial library<br>
          result = SysLibFind( &quot;Serial Library&quot;, &amp;serialrefnum );</p>
        <p> // Open serial port<br>
          result = SerOpen( serialrefnum, 0, 38400L );</p>
        <p> // Flush receive buffer<br>
          SerReceiveFlush( serialrefnum, 0);</p>
        <p> // Send command<br>
          sent = SerSend( serialrefnum, sendstring,<br>
          StrLen( sendstring ), &amp;err);</p>
        <p> // Receive response<br>
          rcvd = SerReceive( serialrefnum, recvstring,<br>
          sizeof(recvstring), 30, &amp;err );</p>
        <p> // Close<br>
          SerClose( serialrefnum );</p>
        <p><br>
          This works well on OS 3.1 with the Enhanced IR Update. Should this not 
          work<br>
          with<br>
          OS 3.3 ?</p>
        <p>Thanks again.</p>
        <p>Dindo</p>
        <p></p>
        <p>RE: OS 3.3 and Enhanced Infrared Update's Serial Library</p>
        <p> From: Martin von Weissenberg (view other messages by this author) 
          <br>
          Date: Mon, 28 Feb 2000 02:13:21 </p>
        <p></p>
        <p>Yes, you've missed the fact that the serial communications manager 
          in OS 3.0<br>
          and 3.1 has been replaced with the New Serial Manager in OS 3.3 and 
          3.5.</p>
        <p>I'd recommend that you enroll as a seeding developer and start using 
          the 3.5<br>
          SDK. The New Serial Manager is quite well documented there.</p>
        <p>The Enhanced IR Update contains updated system libraries for the old 
          serial<br>
          manager. You can still install it under OS 3.3 in order to use the old<br>
          system calls, although this isn't really a clean solution.</p>
        <p>I feel that Palm hasn't been really attentive towards us hobbyist<br>
          programmers. I'm doing SH888 programming myself and had to put my GPL<br>
          project on ice for eight months (!) while Palm sorted out their SDK 
          issues.<br>
          Let's face it: unless you're a seeding developer, you're stuck with 
          SDK 3.0<br>
          and the old serial manager.</p>
        <p>--Martin</p>
        <p>Martin von Weissenberg, mvw@arrak.fi, +358-400-314159<br>
          Oy Arrak Software Ab, Kivenlahdenkatu 1A, 02320 Espoo, www.arrak.fi</p>
        <p></p>
        <p><br>
          Re: OS 3.3 and Enhanced Infrared Update's Serial Library</p>
        <p> From: Jim Schram (view other messages by this author) <br>
          Date: Mon, 28 Feb 2000 12:02:17 </p>
        <p></p>
        <p>At 3:19 PM +0800 2000/02/26, Ferdinand Perlas wrote:<br>
          &gt; // Find serial library<br>
          &gt; result = SysLibFind( &quot;Serial Library&quot;, &amp;serialrefnum 
          );<br>
          &gt;<br>
          &gt; // Open serial port<br>
          &gt; result = SerOpen( serialrefnum, 0, 38400L );<br>
          &gt;<br>
          &gt; // Flush receive buffer<br>
          &gt; SerReceiveFlush( serialrefnum, 0);<br>
          &gt;<br>
          &gt; // Send command<br>
          &gt; sent = SerSend( serialrefnum, sendstring,<br>
          &gt; StrLen( sendstring ), &amp;err);<br>
          &gt;<br>
          &gt; // Receive response<br>
          &gt; rcvd = SerReceive( serialrefnum, recvstring,<br>
          &gt;sizeof(recvstring), 30, &amp;err );<br>
          &gt;<br>
          &gt; // Close<br>
          &gt; SerClose( serialrefnum );<br>
          &gt;<br>
          &gt;<br>
          &gt;This works well on OS 3.1 with the Enhanced IR Update. Should this 
          not work<br>
          &gt;with OS 3.3 ?</p>
        <p>The code above looks like it *should* work. What sort of behavior are 
          you seeing? Error values?<br>
          On which device?</p>
        <p><br>
          I seem to recall a little snag (bug) regarding setting the serial port 
          speed during SerOpen<br>
          with the backward compatibility library... unfortunately I don't recall 
          which release of the<br>
          OS had this bug... but you might try calling SerSetSettings to re-set 
          the baud rate after the<br>
          SerOpen.</p>
        <p><br>
          Regards,</p>
        <p>Jim Schram<br>
          Palm Incorporated<br>
          Partner Engineering</p>
        <p><br>
          Preventing local echo of irda serial transmissions</p>
        <p> From: Magn?s ??r Torfason (view other messages by this author) <br>
          Date: Sun, 20 Feb 2000 09:19:26 </p>
        <p></p>
        <p>I am developing an application that uses raw IR communication to communicate<br>
          with third-party equipment.</p>
        <p>I am using serPortIrPort.<br>
          srmCtlIrDAEnable and srmCtlRxEnable are set.</p>
        <p>I seem to be unable to prevent the palm to echo locally everything 
          that is<br>
          sent. I am currently sending one character at a time and immediatly<br>
          removing it from the receive buffer. I am wondering if this is the best<br>
          way, or if a better solution exists.</p>
        <p>Magnus Torfason</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p></p>
        <p>Hi Rafael,</p>
        <p>When you call SrmOpen(0x8001, ...) you will sending raw data out of 
          the Ir port.<br>
          Most<br>
          PC's won't understand this. I think what you want to do is use IrComm. 
          To use<br>
          IrComm call SrmOpen('ircm', ....).</p>
        <p>This information is given here:<br>
          http://oasis.palm.com/devzone/knowledgebasearticle.cfm?article_id=1651#625926</p>
        <p><br>
          The reason your program is not compiling is probably because you are 
          using<br>
          double<br>
          quotes (&quot;ircm&quot;) instead of single quotes ('ircm'). Enclosing 
          ircm in single<br>
          quotes converts<br>
          it to a Uint32.</p>
        <p>Regards,</p>
        <p>Peter Easton<br>
          Palm Developer Support</p>
        <p></p>
        <p></p>
        <p><br>
          &quot;Rafael Arce Nazario&quot; &lt;rarce@cuhwww.upr.clu.edu&gt; on 
          02/24/2000 07:54:25 AM</p>
        <p>Please respond to &quot;Palm Developer Forum&quot; &lt;palm-dev-forum@ls.palm.com&gt;</p>
        <p>Sent by: &quot;Rafael Arce Nazario&quot; &lt;rarce@cuhwww.upr.clu.edu&gt;</p>
        <p><br>
          To: &quot;Palm Developer Forum&quot; &lt;palm-dev-forum@ls.palm.com&gt;<br>
          cc: (Peter Easton/HQ/3Com)<br>
          Subject: Using new serial manager to communicate thru IR with a PC</p>
        <p></p>
        <p><br>
          Has anybody succesfully used the new serial manager functions to communicate<br>
          the Palm with a PC using IR? I can communicate OK through the craddle 
          (port<br>
          ID 0x8000). But when I change the port to 0x8001 in the SrmOpen function 
          so<br>
          the communciation is done thru the IR Port I can't send or receive data.</p>
        <p>Another related question...</p>
        <p>The documentation for the SrmOpen fucntion says that you can specifiy 
          the<br>
          port to open by using either:<br>
          - a logical port ID, or<br>
          - a four character string.<br>
          I have tried using the four character string given for the IR Port ( 
          &quot;u650&quot;)<br>
          but the program never compiles. Am I missing some header file where 
          these<br>
          four character codes are defined? I am just including &lt;SerialMgr.h&gt;.</p>
        <p>Help much appreciated.<br>
          ----------------------------------------------------------------------------<br>
          ---<br>
          Rafael A. Arce Nazario<br>
          Universidad de Puerto Rico - Recinto de Humacao<br>
          787-850-0000</p>
        <p><br>
          --<br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please<br>
          see http://www.palm.com/devzone/mailinglists.html</p>
        <p></p>
        <p>***********************************************</p>
        <p>http://oasis.palm.com/dev/kb/manuals/1757.cfm</p>
        <p>http://oasis.palm.com/dev/kb/manuals/1770.cfm</p>
        <p>http://oasis.palm.com/dev/kb/papers/1137.cfm</p>
        <p>http://oasis.palm.com/dev/kb/faq/1428.cfm</p>
        <p>http://oasis.palm.com/dev/kb/manuals/1714.cfm</p>
        <p>***********************************************</p>
        <p><br>
          Can I write a Palm application to control my TV and VCR?</p>
        <p> Officially, the answer is No. The Palm handheld's IR capability is 
          IrDA compliant, which means we support the SIR<br>
          physical layer of IrDA. IR remote controllers use a different modulation 
          frequency than IrDA, and our hardware does<br>
          not permit us to change the modulation frequency from software. </p>
        <p> However, some enterprising developers have developed IR remote control 
          applications, so it is technically possible.<br>
          They probably don't use the IrDA protocol stack; instead, they open 
          the serial port and read data, ignoring errors like<br>
          parity. The captured information can then be played back. </p>
        <p> You'll probably need to experiment with settings such as baud rate 
          and parity until you come to an optimal setting. </p>
        <p> You should remember that the range of the IR built into the Palm devices 
          have limited range (3 feet). </p>
        <p></p>
        <p></p>
        <p></p>
        <p>Palmpilot IR programming at Bang &amp; Olufsen 455 kHz frequency</p>
        <p> From: Fahd Akil (view other messages by this author) <br>
          Date: Fri, 17 Mar 2000 12:37:31 </p>
        <p></p>
        <p>Hi Guys,</p>
        <p>There are two palm programs availible that will allow an ir equiped 
          palm <br>
          devices to function as a remote control for consumer ir (cir)devices.</p>
        <p>The OmniRemote<br>
          http://www.pacificneotek.com/</p>
        <p>The PalmRemote<br>
          http://hp.vector.co.jp/authors/VA005810/remocon/premocce.htm</p>
        <p><br>
          NOTE:Neither OmniRemote nor PalmRemote work with Bang &amp; Olufsen 
          signals.<br>
          http://www.bang-olufsen.com</p>
        <p>I would like to write a remote control program that will allow me to 
          control <br>
          B&amp;O equipment with a palmOS based device ( Vx, VII or IIIc).</p>
        <p>B&amp;O remotes use a carrier frequency of 455 kHz (yes 455 kHz) and 
          a modulated <br>
          pulse with a length of 200 ms.</p>
        <p>Originally, I though that the DragonBall processor could not reproduce 
          that <br>
          frequency. So, I did some research and discovered that the Philips Pronto 
          <br>
          (which CAN transmit at 455 kHz) remote uses the same processor (Motorola 
          <br>
          DragonBall MC68328 ) as the Palmpilot.</p>
        <p>http://www.pcseller.com/Philips_Magnavox_Pronto_TS1000.htm</p>
        <p><br>
          In fact the Palm Vx and Palm IIIc use the even faster Motorola DragonBall 
          <br>
          MC68EZ328.</p>
        <p>I realize the difficulty in learning B&amp;O commands at the 455 kHz 
          frequency. <br>
          But the IR data transmissions of the B&amp;O commands have already been 
          captured <br>
          with an oscilloscope, so no learning capability necessary. I also, have 
          the <br>
          timings and data format for the B&amp;O protocol. The documentation 
          is located <br>
          in the following pdf file:</p>
        <p>http://members.aol.com/_ht_a/beodetroit/datalink.pdf</p>
        <p><br>
          IMHO, All I need now is to write a program that will take the stored 
          <br>
          information and format it and send it to the UART where the 455 kHz 
          <br>
          frequency would modulate the signal prior to transmission. Does this 
          sound <br>
          like it might work with the UART on the DragonBall processor or do I 
          need an <br>
          alternate UART/transceiver to accomplish what I want? Am I missing <br>
          something that is obvious to you true palmpilot/Infrared programmers?</p>
        <p>Should I use the palmOS API or should I use assembler to write this 
          program?</p>
        <p>I also need advice on which format to store the B&amp;O commands (hex, 
          binary or <br>
          decimal).</p>
        <p>Additionally, I think that I will need to use a more powerful IrDA 
          module to <br>
          give the remote greater range. Do you know of a quality powerful <br>
          transceiver (in a small package) that is IrDA compliant and can operate 
          at <br>
          the 455 khz frequency?</p>
        <p>Better, yet is there a more powerful (pin for pin) replacement for 
          the <br>
          current transceivers in the palm Vx, VII or IIIc?</p>
        <p>I have some programming experience in visual basic. Maybe one of you 
          guys <br>
          can help me or point me in the right direction?</p>
        <p>Thanks for taking the time to read this email. Any information or advise 
          <br>
          that you can give me would be greatly appreciated!</p>
        <p>Kindest Regards<br>
          Akil</p>
        <p></p>
        <p></p>
        <p></p>
        <p><br>
          Re: Palmpilot IR programming at Bang &amp; Olufsen 455 kHz frequency</p>
        <p> From: Tom Zerucha (view other messages by this author) <br>
          Date: Fri, 17 Mar 2000 15:43:04 </p>
        <p></p>
        <p>On Fri, Mar 17, 2000 at 12:22:50PM -0800, Fahd Akil wrote:</p>
        <p>On your other questions</p>
        <p>UARTs - the one builtin to the dragonball (the PilotPro w/ upgrade<br>
          uses a second 165x0 for the IrDA only)</p>
        <p>RS-232 drivers - a sipex or equivalent level shifter (max3222 type).</p>
        <p>IrDA transceiver modules - I think these are temic parts.</p>
        <p>&gt; Originally, I though that the DragonBall processor could not reproduce 
          that <br>
          &gt; frequency. So, I did some research and discovered that the Philips 
          Pronto <br>
          &gt; (which CAN transmit at 455 kHz) remote uses the same processor 
          (Motorola <br>
          &gt; DragonBall MC68328 ) as the Palmpilot.<br>
          &gt; <br>
          &gt; http://www.pcseller.com/Philips_Magnavox_Pronto_TS1000.htm</p>
        <p>&gt; <br>
          &gt; In fact the Palm Vx and Palm IIIc use the even faster Motorola 
          DragonBall <br>
          &gt; MC68EZ328.<br>
          &gt; <br>
          &gt; I realize the difficulty in learning B&amp;O commands at the 455 
          kHz frequency. <br>
          &gt; But the IR data transmissions of the B&amp;O commands have already 
          been captured <br>
          &gt; with an oscilloscope, so no learning capability necessary. I also, 
          have the <br>
          &gt; timings and data format for the B&amp;O protocol. The documentation 
          is located <br>
          &gt; in the following pdf file:<br>
          &gt; <br>
          &gt; http://members.aol.com/_ht_a/beodetroit/datalink.pdf</p>
        <p>&gt; <br>
          &gt; IMHO, All I need now is to write a program that will take the stored 
          <br>
          &gt; information and format it and send it to the UART where the 455 
          kHz <br>
          &gt; frequency would modulate the signal prior to transmission. Does 
          this sound <br>
          &gt; like it might work with the UART on the DragonBall processor or 
          do I need an <br>
          &gt; alternate UART/transceiver to accomplish what I want? Am I missing 
          <br>
          &gt; something that is obvious to you true palmpilot/Infrared programmers?<br>
          &gt; <br>
          &gt; Should I use the palmOS API or should I use assembler to write 
          this program?</p>
        <p>You can use a string of capital Us (0x55) hex at a really fast baud<br>
          rate (such that 2 bit times = 455khz) and it should produce a very<br>
          weak carrier. You may have to disable other interrupts to avoid<br>
          dropouts too.</p>
        <p>There is a lot of capacitance on the bus so this might not even work.<br>
          50-100khz works, but I noticed bandwidth problems.</p>
        <p>It would be easier to have a 455kHz separate transmitter triggered 
          by<br>
          a control line (I think one is called talelight - I don't have a URL,<br>
          but I think they make the IR boosters)</p>
        <p>-- </p>
        <p><br>
          RE: How fast if data transfer is thru Palm V infrared ?</p>
        <p> From: Fitzpatrick, Joe (view other messages by this author) <br>
          Date: Mon, 13 Mar 2000 23:49:03 </p>
        <p></p>
        <p>I believe that the IR port supports all IrDA async speeds (up to 115K<br>
          bit) - but in my experience the effective throughput is quite a bit<br>
          lower (about 25 Kbit). There seem to be a lot of variables (transmitter<br>
          strength, ambient light, etc.)</p>
        <p>-jjf</p>
        <p>-----Original Message-----<br>
          From: Chris Tsang [mailto:csctsang@netvigator.com]</p>
        <p>Sent: Monday, March 13, 2000 10:20 PM<br>
          To: Palm Developer Forum<br>
          Subject: How fast if data transfer is thru Palm V infrared ? </p>
        <p><br>
          How fast if data transfer is thru Palm V infrared ?<br>
          What is the maximum bps ?</p>
        <p><br>
          TCP/IP over Ir?</p>
        <p> From: Gordon, Douglas (view other messages by this author) <br>
          Date: Mon, 20 Mar 2000 09:51:08 </p>
        <p></p>
        <p>Has someone done the support for doing a serial-type PPP connection 
          over an<br>
          infrared link from a Palm to, say, a PC? I guess that such a protocol 
          stack<br>
          would look something like this:</p>
        <p> Browser/HTTP -&gt; TCP/IP -&gt; PPP -&gt; IrDA - - - - - -&gt;</p>
        <p>PPP normally runs just over the serial port. There is also the capability 
          in<br>
          PalmOS of redirecting iR operations over the serial port, but I guess 
          what<br>
          I'm trying to do is to do the opposite: serial port operations over 
          an Ir<br>
          link.</p>
        <p> Doug Gordon</p>
        <p>-- </p>
        <p></p>
        <p><br>
          On Mon, 20 Mar 2000, Gordon, Douglas wrote:</p>
        <p>&gt; Has someone done the support for doing a serial-type PPP connection 
          over an<br>
          &gt; infrared link from a Palm to, say, a PC? I guess that such a protocol 
          stack<br>
          &gt; would look something like this:<br>
          &gt; <br>
          &gt; Browser/HTTP -&gt; TCP/IP -&gt; PPP -&gt; IrDA - - - - - -&gt;<br>
          &gt; <br>
          &gt; PPP normally runs just over the serial port. There is also the 
          capability in<br>
          &gt; PalmOS of redirecting iR operations over the serial port, but I 
          guess what<br>
          &gt; I'm trying to do is to do the opposite: serial port operations 
          over an Ir<br>
          &gt; link.<br>
          &gt; <br>
          &gt; Doug Gordon</p>
        <p>I've done it with a Linux desktop with an IRDA eye hanging off the<br>
          front. It Just Works (TM)</p>
        <p>All you need to do is tell the pppd to use the 'serial port' which 
          is<br>
          actually the eye, and tell the Palm to use &quot;IR to a PC/handheld&quot; 
          as the<br>
          Connection in the Network prefs panel.</p>
        <p>Cheers<br>
          Richard</p>
        <p><br>
          On 20-Mar-00 Gordon, Douglas wrote:</p>
        <p>&gt; Has someone done the support for doing a serial-type PPP connection 
          over an<br>
          &gt; infrared link from a Palm to, say, a PC? I guess that such a protocol 
          stack<br>
          &gt; would look something like this:<br>
          &gt; <br>
          &gt; Browser/HTTP -&gt; TCP/IP -&gt; PPP -&gt; IrDA - - - - - -&gt;</p>
        <p>I tried it on a Windows box with MochaPPP. Although it actually worked 
          it<br>
          (MochaPPP) would freak out during disconnect and start counting bytes<br>
          received indefinitely. Supposedly it works flawlessly with a cradle 
          -- could<br>
          really use the source to it because it sounds like a quick fix would 
          do it.</p>
        <p><br>
          /* Chris Faherty &lt;rallymonkey@bellsouth.net&gt; */</p>
        <p></p>
        <p><br>
          On 20-Mar-00 Chris Faherty wrote:</p>
        <p>&gt;&gt; Browser/HTTP -&gt; TCP/IP -&gt; PPP -&gt; IrDA - - - - - -&gt;<br>
          &gt; <br>
          &gt; I tried it on a Windows box with MochaPPP. Although it actually 
          worked it<br>
          &gt; (MochaPPP) would freak out during disconnect and start counting 
          bytes<br>
          &gt; received indefinitely. Supposedly it works flawlessly with a cradle 
          --<br>
          &gt; could really use the source to it because it sounds like a quick 
          fix would<br>
          &gt; do it.</p>
        <p>Just tried MochaPPP version 2 and it doesn't have that IR problem any 
          more. <br>
          Connect/disconnect is very nice now, though I have an odd problem where<br>
          ProxiWeb and PQAs don't work correctly -- they connect and then sit 
          there<br>
          waiting. However, an email program I wrote runs perfectly fine both 
          SMTP and<br>
          POP. Dunno, I guess I should try it via cradle and see if it works.. 
          maybe<br>
          it's a 7-bit/8-bit problem or something.</p>
        <p>Here's the site for MochaPPP:</p>
        <p>http://www.mochasoft.dk/</p>
        <p><br>
          /* Chris Faherty &lt;rallymonkey@bellsouth.net&gt; */</p>
        <p><br>
          -- </p>
        <p></p>
        <p></p>
        <p>Re: TCP/IP over Ir?</p>
        <p> From: Ray Pelletier (view other messages by this author) <br>
          Date: Mon, 20 Mar 2000 14:56:08 </p>
        <p></p>
        <p>This can be done with Windows 98 right out of the box using RAS plus<br>
          WinGate.<br>
          For 95 you need the IR drivers which can be downloaded from Microsoft.<br>
          Someone posted the directions for doing this on comp.sys.pilot (?) a 
          couple<br>
          of years ago. Try checking deja.com.</p>
        <p>I used to give a &quot;stupid palm pilot tricks&quot; talk every once 
          in a while.<br>
          I always liked to show how you could use Emacs from a wireless pilot.</p>
        <p>Unfortunalty Windows 2000 is crippled with respect to its IR capabilities.<br>
          Microsoft chose to remove IrComm support. Since upgrading I've had<br>
          to can the neat IR demos.</p>
        <p>&quot;Gordon, Douglas&quot; &lt;Douglas.Gordon@fanucrobotics.com&gt; 
          wrote in message<br>
          news:5537@palm-dev-forum...<br>
          &gt;<br>
          &gt; Has someone done the support for doing a serial-type PPP connection 
          over<br>
          an<br>
          &gt; infrared link from a Palm to, say, a PC? I guess that such a protocol<br>
          stack<br>
          &gt; would look something like this:<br>
          &gt;<br>
          &gt; Browser/HTTP -&gt; TCP/IP -&gt; PPP -&gt; IrDA - - - - - -&gt;<br>
          &gt;<br>
          &gt; PPP normally runs just over the serial port. There is also the 
          capability<br>
          in<br>
          &gt; PalmOS of redirecting iR operations over the serial port, but I 
          guess what<br>
          &gt; I'm trying to do is to do the opposite: serial port operations 
          over an Ir<br>
          &gt; link.</p>
        <p>There is nothing special going on here. This is the normal stack.<br>
          I was never able to get a browser to work properly over IR.<br>
          When I last fished for suggestions on these groups the general<br>
          'wisdom' was that there was a problem with the system's memory pool<br>
          being too small.</p>
        <p>&gt;<br>
          &gt; Doug Gordon<br>
          &gt;<br>
          &gt;</p>
        <p></p>
        <p><br>
          Re: TCP/IP over Ir?</p>
        <p> From: Steve Sabram (view other messages by this author) <br>
          Date: Mon, 20 Mar 2000 16:44:03 </p>
        <p></p>
        <p></p>
        <p>Ray Pelletier wrote:</p>
        <p>&gt; Unfortunalty Windows 2000 is crippled with respect to its IR capabilities.<br>
          &gt; Microsoft chose to remove IrComm support. Since upgrading I've 
          had<br>
          &gt; to can the neat IR demos.</p>
        <p>This is the most suppressive thing I have seen from Microsoft in while. 
          How much you want<br>
          to be they have a proprietary IR format</p>
        <p>ready for release. Makes me glad I left Win32 development for Palm 
          in '98.</p>
        <p>Steve</p>
        <p><br>
          e: TCP/IP over Ir?</p>
        <p> From: Jason Simpkins (view other messages by this author) <br>
          Date: Mon, 20 Mar 2000 17:55:21 </p>
        <p></p>
        <p><br>
          ----- Original Message -----<br>
          From: &quot;Steve Sabram&quot; &lt;steve@sabram.com&gt;<br>
          To: &quot;Palm Developer Forum&quot; &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Sent: Monday, March 20, 2000 5:23 PM<br>
          Subject: Re: TCP/IP over Ir?</p>
        <p><br>
          &gt;<br>
          &gt;<br>
          &gt; Ray Pelletier wrote:<br>
          &gt;<br>
          &gt; &gt; Unfortunalty Windows 2000 is crippled with respect to its 
          IR<br>
          capabilities.<br>
          &gt; &gt; Microsoft chose to remove IrComm support. Since upgrading 
          I've had<br>
          &gt; &gt; to can the neat IR demos.<br>
          &gt;<br>
          &gt; This is the most suppressive thing I have seen from Microsoft in 
          while.<br>
          How much you want to be they have a proprietary IR format<br>
          &gt; ready for release. Makes me glad I left Win32 development for Palm 
          in<br>
          '98.<br>
          &gt;<br>
          &gt; Steve<br>
          &gt;<br>
          &gt;<br>
          &gt; --<br>
          &gt; For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p>&gt;<br>
          &gt;</p>
        <p></p>
        <p><br>
          Re: TCP/IP over Ir?</p>
        <p> From: Ray Pelletier (view other messages by this author) <br>
          Date: Tue, 21 Mar 2000 07:21:44 </p>
        <p></p>
        <p>I have a hard time not believing that MS removed IrComm in a deliberate<br>
          attempt to push Palm devices out of the picture. But this is only an<br>
          opinion.</p>
        <p>If I am remembering correctly Win2K allows computers to connect over 
          IR<br>
          using PPP.<br>
          (*) The question was how they simulated a serial connection without 
          IrComm.<br>
          I'd thought it would be great fun to try to reverse engineer the lower 
          level<br>
          connection<br>
          so that Palm devices could again nicely interact with Windows. As much 
          as I<br>
          would have liked<br>
          trying to do this, it wasn't something my previous employer was interested<br>
          in paying for.</p>
        <p>(*) Please keep in mind that this could be completly wrong.<br>
          I haven't looked at Palm/Win2k intercommunication in about a year.<br>
          I don't have 2000 at my current employer and re-researching this point<br>
          is more work than it would be worth.</p>
        <p>-Ray Pelletier</p>
        <p></p>
        <p>RE: TCP/IP over Ir?</p>
        <p> From: Fitzpatrick, Joe (view other messages by this author) <br>
          Date: Tue, 21 Mar 2000 08:58:53 </p>
        <p></p>
        <p>I can assure you that IrComm support in W2K had nothing to do with 
          Palm.<br>
          It is problematic with a lot of IrDA devices other than PDAs. I saw 
          a<br>
          lot of OEM message traffic on this during W2K betas.</p>
        <p>FWIW, TinyTP is exposed inside W2K. You can get an IrDA connection<br>
          going between PalmOS and Y2K, but you need W2K specific code to do it.</p>
        <p>Regards,<br>
          -jjf</p>
        <p>-----Original Message-----<br>
          From: Ray Pelletier [mailto:pelletier@cedillasys.com]</p>
        <p>Sent: Tuesday, March 21, 2000 8:07 AM<br>
          To: Palm Developer Forum<br>
          Subject: Re: TCP/IP over Ir?</p>
        <p><br>
          I have a hard time not believing that MS removed IrComm in a deliberate<br>
          attempt to push Palm devices out of the picture. But this is only an<br>
          opinion.</p>
        <p>If I am remembering correctly Win2K allows computers to connect over 
          IR<br>
          using PPP.<br>
          (*) The question was how they simulated a serial connection without<br>
          IrComm.<br>
          I'd thought it would be great fun to try to reverse engineer the lower<br>
          level<br>
          connection<br>
          so that Palm devices could again nicely interact with Windows. As much<br>
          as I<br>
          would have liked<br>
          trying to do this, it wasn't something my previous employer was<br>
          interested<br>
          in paying for.</p>
        <p>(*) Please keep in mind that this could be completly wrong.<br>
          I haven't looked at Palm/Win2k intercommunication in about a year.<br>
          I don't have 2000 at my current employer and re-researching this point<br>
          is more work than it would be worth.</p>
        <p>-Ray Pelletier</p>
        <p><br>
          &quot;Steve Sabram&quot; &lt;steve@sabram.com&gt; wrote in message<br>
          news:5624@palm-dev-forum...<br>
          &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt; Ray Pelletier wrote:<br>
          &gt;<br>
          &gt; &gt; Unfortunalty Windows 2000 is crippled with respect to its 
          IR<br>
          capabilities.<br>
          &gt; &gt; Microsoft chose to remove IrComm support. Since upgrading 
          I've had<br>
          &gt; &gt; to can the neat IR demos.<br>
          &gt;<br>
          &gt; This is the most suppressive thing I have seen from Microsoft in<br>
          while.<br>
          How much you want to be they have a proprietary IR format<br>
          &gt; ready for release. Makes me glad I left Win32 development for Palm 
          in<br>
          '98.<br>
          &gt;<br>
          &gt; Steve<br>
          &gt;<br>
          &gt;<br>
          &gt;</p>
        <p></p>
        <p>I wrote earlier:</p>
        <p>&gt; Just tried MochaPPP version 2 and it doesn't have that IR problem 
          any more.<br>
          &gt; Connect/disconnect is very nice now, though I have an odd problem 
          where<br>
          &gt; ProxiWeb and PQAs don't work correctly -- they connect and then 
          sit there<br>
          &gt; waiting.</p>
        <p>Just a followup to my earlier problems; Jan Frydendal at MochaSoft 
          has very<br>
          quickly fixed all of the problems I had with MochaPPP. Version 2.2 works<br>
          flawlessly with everything I have thrown at it!</p>
        <p>http://www.mochasoft.dk</p>
        <p><br>
          /* Chris Faherty &lt;rallymonkey@bellsouth.net&gt; */</p>
        <p></p>
        <p><br>
          Re: TCP/IP over Ir?</p>
        <p> From: Christian Vandendorpe (view other messages by this author) <br>
          Date: Sat, 25 Mar 2000 02:19:00 </p>
        <p></p>
        <p>Thanks for letting us know!</p>
        <p>I tried it immediately and my app finally works without any problems! 
          This <br>
          was strange, my app worked via the Palm modem and via IR to a gsm phone 
          but <br>
          with Mocha v1.0 it hung indefinetly as if it could never detect that 
          there <br>
          was no more data to read from the socket.</p>
        <p>One more problem solved :)</p>
        <p>Chris</p>
        <p>At 10:15 PM 3/24/2000 , you wrote:<br>
          &gt;I wrote earlier:<br>
          &gt;<br>
          &gt; &gt; Just tried MochaPPP version 2 and it doesn't have that IR 
          problem any more.<br>
          &gt; &gt; Connect/disconnect is very nice now, though I have an odd 
          problem where<br>
          &gt; &gt; ProxiWeb and PQAs don't work correctly -- they connect and 
          then sit there<br>
          &gt; &gt; waiting.<br>
          &gt;<br>
          &gt;Just a followup to my earlier problems; Jan Frydendal at MochaSoft 
          has very<br>
          &gt;quickly fixed all of the problems I had with MochaPPP. Version 2.2 
          works<br>
          &gt;flawlessly with everything I have thrown at it!<br>
          &gt;<br>
          &gt;http://www.mochasoft.dk<br>
          &gt;<br>
          &gt;<br>
          &gt;/* Chris Faherty &lt;rallymonkey@bellsouth.net&gt; */<br>
          &gt;<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe, 
          <br>
          &gt;please see http://www.palm.com/devzone/mailinglists.html</p>
        <p><br>
          ---<br>
          Christian Vandendo</p>
        <p></p>
        <p>here's a very neat device called the Jet Eye Dock available from Extended<br>
          Systems. Basically what the dock does is give you an IR connection to 
          your<br>
          network (and printer, mouse, keyboard and serial port). As this can 
          work via<br>
          TCP/IP I occurs to me that it might be possible to make a connection 
          with a<br>
          PalmoS device.</p>
        <p>Has anyone any experience with this type of device and PalmOS?</p>
        <p>Cheers...</p>
        <p>Will Chapman<br>
          &quot;Chris Faherty&quot; &lt;rallymonkey@bellsouth.net&gt; wrote in 
          message<br>
          news:6154@palm-dev-forum...<br>
          &gt;<br>
          &gt; I wrote earlier:<br>
          &gt;<br>
          &gt; &gt; Just tried MochaPPP version 2 and it doesn't have that IR 
          problem any<br>
          more.<br>
          &gt; &gt; Connect/disconnect is very nice now, though I have an odd 
          problem where<br>
          &gt; &gt; ProxiWeb and PQAs don't work correctly -- they connect and 
          then sit<br>
          there<br>
          &gt; &gt; waiting.<br>
          &gt;<br>
          &gt; Just a followup to my earlier problems; Jan Frydendal at MochaSoft 
          has<br>
          very<br>
          &gt; quickly fixed all of the problems I had with MochaPPP. Version 
          2.2 works<br>
          &gt; flawlessly with everything I have thrown at it!<br>
          &gt;<br>
          &gt; http://www.mochasoft.dk<br>
          &gt;<br>
          &gt;<br>
          &gt; /* Chris Faherty &lt;rallymonkey@bellsouth.net&gt; */<br>
          &gt;<br>
          &gt;<br>
          &gt;</p>
        <p></p>
        <p></p>
        <p>Re: can IR functions been trap?</p>
        <p> From: Greg Winton (view other messages by this author) <br>
          Date: Thu, 30 Mar 2000 07:06:40 </p>
        <p></p>
        <p>Eric,</p>
        <p>At 12:12 PM 3/30/00 +0800, you wrote:<br>
          &gt; can the IR functions (IrDataReq ....) been trap? </p>
        <p>Not really. Normal trap-hacking depends on replacing the function address<br>
          associated with a trap identifier. IR is implemented as a system library.<br>
          This means that rather than just identifying the function by trap id, 
          the<br>
          OS multiplexes the library reference number *and* function trap id to 
          jump<br>
          to correct function.</p>
        <p>&gt;I search the Systrap.h, then cannot find anyone IR function. is 
          there any<br>
          other ways?</p>
        <p>Yes. You can hack the SysLibFind trap and look for someone trying to 
          load<br>
          IR, then load your own version instead.</p>
        <p>Hope this helps.</p>
        <p>Greg</p>
        <p>Greg Winton<br>
          Bachmann Software and Services, LLC<br>
          http://www.bachmannsoftware.com<br>
          Home of Bachmann Print Manager, the only graphical printing solution 
          for<br>
          the PalmOS</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p></p>
        <p></p>
        <p>Re: Debugging IR</p>
        <p> From: Dave Lippincott (view other messages by this author) <br>
          Date: Tue, 4 Apr 2000 06:21:42 </p>
        <p></p>
        <p>shortcut .. t puts the device into ir loopback mode. Works great on 
          POSER.</p>
        <p>KB article: http://oasis.palm.com/dev/kb/article.cfm?id=1428</p>
        <p><br>
          -----Original Message-----<br>
          From: Michael P. Hutchens, M.D., M.A. &lt;mhutchen@unforgettable.com&gt;<br>
          To: Palm Developer Forum &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Date: Tuesday, April 04, 2000 8:35 AM<br>
          Subject: Debugging IR</p>
        <p><br>
          &gt;Is there any way to debug and or simulate IR communications without<br>
          &gt;using two actual, hardware units?<br>
          &gt;----------------------------------------------------------------------<br>
          &gt;Michael Hutchens PregCalc 3.0 Professional:<br>
          &gt;mike@thenar.com http://www.thenar.com/pregcalc</p>
        <p>&gt; FloChart:<br>
          &gt;Please quote previous http://www.thenar.com/chart</p>
        <p>&gt;<br>
          &gt;correspondence when discussing Ranson:<br>
          &gt;technical support issues. http://www.thenar.com/Ranson</p>
        <p>&gt;<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palm.com/devzone/mailinglists.html</p>
        <p>&gt;<br>
          &gt;</p>
        <p></p>
        <p>Re: Debugging IR</p>
        <p> From: Peter Epstein (view other messages by this author) <br>
          Date: Tue, 4 Apr 2000 13:48:06 </p>
        <p></p>
        <p>Loopback mode also works on the simulator (no need for the shortcut 
          - it's<br>
          always in loopback mode). However, loopback mode is only useful for<br>
          debugging apps which use the exchange manager. If your app talks to 
          the IR<br>
          library rather than the exchange manager, I'm afraid you're out of luck. 
          If<br>
          you're using IrCOMM, there might be a way, but for IrLAP, IrLMP, etc 
          I don't<br>
          think there are any debugging tools.</p>
        <p></p>
        <p>Re: Debugging IR</p>
        <p> From: Scott Dattalo (view other messages by this author) <br>
          Date: Tue, 4 Apr 2000 14:01:38 </p>
        <p></p>
        <p></p>
        <p>On Tue, 4 Apr 2000, Peter Epstein wrote:</p>
        <p>&gt; Loopback mode also works on the simulator (no need for the shortcut 
          - it's<br>
          &gt; always in loopback mode). However, loopback mode is only useful 
          for<br>
          &gt; debugging apps which use the exchange manager. If your app talks 
          to the IR<br>
          &gt; library rather than the exchange manager, I'm afraid you're out 
          of luck. If<br>
          &gt; you're using IrCOMM, there might be a way, but for IrLAP, IrLMP, 
          etc I don't<br>
          &gt; think there are any debugging tools.</p>
        <p>Except for printf's. It sucks, but it is possible to display the state 
          of your<br>
          program with printf statements. Check out Ir-Ping for an example.</p>
        <p>http://www.cs.tu-bs.de/~harbaum/pilot/ir_ping.html</p>
        <p><br>
          Scott</p>
        <p></p>
        <p>Re: Debugging IR</p>
        <p> From: Peter Epstein (view other messages by this author) <br>
          Date: Tue, 4 Apr 2000 14:24:02 </p>
        <p></p>
        <p>During discovery, you need to be careful not to consume too much CPU, 
          but<br>
          with that caveat, it is possible to log to the screen or to a database. 
          In<br>
          the latter case, you can use a separate app to display the log. This 
          kind of<br>
          debugging isn't nearly as powerful as a source lever debugger with<br>
          breakpoints, but sometimes that's all you can do. If at all possible, 
          use<br>
          the higher level features such as IrCOMM or the Exchange Manager. If 
          you do<br>
          any complex communication with low level IR library APIs, I recommend<br>
          creating your own loopback mode in your code that bypasses the IR library<br>
          altogether and just feeds the data back as if it had just been received.<br>
          This will let you debug your higher level stuff with all the usual aids, 
          and<br>
          all you'll have to debug the hard way is the lower level stuff.</p>
        <p></p>
        <p></p>
        <p>RE: how to trap system library functions?</p>
        <p> From: Fitzpatrick, Joe (view other messages by this author) <br>
          Date: Mon, 10 Apr 2000 11:02:45 </p>
        <p></p>
        <p>If you just want to modify the behavior of a few calls, there is a<br>
          possibly easier way.</p>
        <p>All libraries use the same trap numbers for entry points. That is way<br>
          all library calls require a 'lib ref' parameter. The ref. determines<br>
          which library is actually invoked via a function table. If you just<br>
          wanted to modify one or two functions, you could replace those two<br>
          traps, saving the original trap address off in a feature.</p>
        <p>Then, each time your replacement trap(s) is called, check the library<br>
          reference. If it is not the library you are augmenting, just pass the<br>
          trap on. If it is the library you are augmenting, do your encoding,<br>
          then pass it on.</p>
        <p>You might also want to look at virtual drivers. They are intended to<br>
          add the kind of 'hidden' protocol support you are talking about.</p>
        <p>Best Regards,<br>
          -jjf</p>
        <p>-----Original Message-----<br>
          From: Eric [mailto:ericsiu@qcode.com]<br>
          Sent: Sunday, April 09, 2000 11:44 PM<br>
          To: Palm Developer Forum<br>
          Subject: how to trap system library functions?</p>
        <p><br>
          I want to add some encoding in data send out via serial and ir port.<br>
          but the functions of these 2 areas are library base, I found that it 
          is<br>
          difficult to trap them. Greg Winton tell me that &quot;1. hack the SysLibFind<br>
          trap and look for someone trying to load IR,<br>
          2. then load your own version instead.&quot;,<br>
          the first step is not difficult to do, for the second step, I got<br>
          difficulty. anyone good guy help me?!</p>
        <p>Eric</p>
        <p></p>
        <p>e: how to trap system library functions?</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Mon, 10 Apr 2000 13:50:15 </p>
        <p></p>
        <p>&quot;Adam Wozniak&quot; &lt;adam@surveyor.com&gt; wrote in message<br>
          news:7736@palm-dev-forum...<br>
          &gt; Correct me if I'm wrong, but I don't believe you've ever tried 
          this.<br>
          &gt;<br>
          &gt; The dispatch table ends at sysTrapLastTrapNumber. There are no 
          entries<br>
          &gt; for libraries, which is why SysGetTrapAddress() and SysSetTrapAddress()<br>
          &gt; don't work for library functions.</p>
        <p>Each library has its own dispatch table. I think Joe was suggesting 
          that you<br>
          modify the dispatch table for the library.</p>
        <p>For example, if you wanted to intercept the &quot;open&quot; function 
          for the IR<br>
          Library, you could find the entry for the IR Library in the system's 
          array<br>
          of open libraries using the reference number as an index. This entry<br>
          contains a pointer to the dispatch table as well as a pointer to the<br>
          library's globals. The first entry for all libraries is a pointer to 
          the<br>
          library name. The second is &quot;open&quot;, so you'd modify the second 
          function<br>
          pointer in the dispatch table to point to your own hacked version of 
          the<br>
          &quot;open&quot; function.</p>
        <p>For the IR Library, you'd only have to do this once because the library 
          is<br>
          loaded at reset and never unloaded. For libraries that are loaded and<br>
          unloaded dynamically, you'd have to intercept the trap for loading the<br>
          library so you could patch the library's dispatch table after the library<br>
          sets it up.<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p></p>
        <p></p>
        <p>Laurence Lundblade wrote:</p>
        <p>&gt; Kewel, a PalmOS router! Watch out Cisco!!! :-)<br>
          &gt;<br>
          &gt; But seriously, I think this is expecting too much of NetLib and 
          probably<br>
          &gt; the serial libraries too.</p>
        <p>And the hardware. Unless I'm mistaken, the dragonball has one UART,<br>
          which is shared by the IR and serial ports. i.e. you can't use both 
          at the<br>
          same time.</p>
        <p>--<br>
          Adam Wozniak<br>
          Senior Software Design Engineer<br>
          Surveyor Corporation<br>
          4501 Orcutt Rd.<br>
          San Luis Obispo, CA 93401</p>
        <p></p>
        <p><br>
          Re: IR question</p>
        <p> From: Tom Zerucha (view other messages by this author) <br>
          Date: Thu, 27 Apr 2000 19:50:04 </p>
        <p></p>
        <p>On Wed, Apr 26, 2000 at 07:32:00PM -0400, Javier Bonet wrote:<br>
          &gt; This is my first posting to this list. Please forgive me if this 
          topic has <br>
          &gt; been covered before.<br>
          &gt; <br>
          &gt; Is it possible for the Palm to transmit and receive infrared <br>
          &gt; simultaneously? Could it emit IR and receive the reflection of 
          its own IR?<br>
          &gt; <br>
          &gt; The HP-48 calculator, for example, IS capable of receiving and 
          transmitting <br>
          &gt; infrared simultaneously. This is used to self-test the infrared 
          port: the <br>
          &gt; infrared is reflected back from the plastic cover.</p>
        <p>Yes. In fact if you set the ports to IrDA at the hardware level<br>
          (instead of using IrDA), this is what happens. You get back what you<br>
          send. There may be an echo suppress that I don't know about that can<br>
          be turned ON, but normally the uart gets back what the transmitter<br>
          sends.</p>
        <p>-- </p>
        <p></p>
        <p>New Serial Manager</p>
        <p> From: Elisabeth Magnusson (view other messages by this author) <br>
          Date: Tue, 2 May 2000 07:09:30 </p>
        <p></p>
        <p><br>
          Hallo!</p>
        <p>I'm trying to write a program that is supposed to handle <br>
          serial communication.</p>
        <p>I have problems with two things:</p>
        <p>1) Use the IR Port for Serial communication. <br>
          It goes well to open the serial port using<br>
          SrmOpen but not to open the IR port. The only thing<br>
          that differs between open serial port and IR is the portID <br>
          and for serial it is: $8000 and for IR it is (should be) <br>
          $8001. But when I write $8001 I open up the serial port?!</p>
        <p>Does anyone knows anything about this?</p>
        <p>2) Using The functions WakeupHandlerProc, SrmPrimeWakeupHandler <br>
          and SrmSetWakeupHandler</p>
        <p>Does anyone have any code example or can explain how to use this<br>
          functions?</p>
        <p></p>
        <p></p>
        <p>Re: Visor IR Loopback</p>
        <p> From: Bruce Thompson (view other messages by this author) <br>
          Date: Thu, 18 May 2000 14:17:53 </p>
        <p></p>
        <p>Hi,<br>
          The reason is because you haven't turned off the IR receiver when <br>
          you are transmitting. This is an essential step. I'm surprised <br>
          actually that you are not seeing the same behavior on Palm Branded <br>
          devices.</p>
        <p> It's a simple fact that in all IR tranceivers I'm aware of the <br>
          transmitter and receiver are optically coupled meaning that <br>
          everything transmitted is also seen by the receiver. You need to turn 
          <br>
          off the receiver before you begin transmitting. Take a look at <br>
          SerialMgr.h and close to the declaration of serCtlIrDAEnable you <br>
          should see serCtlIrReceiveEnable (or something similar).</p>
        <p> Cheers,<br>
          Bruce.</p>
        <p>&gt;I have an application that uses SIR (physical layer IR) to talk 
          to a <br>
          &gt;proprietary<br>
          &gt;device.<br>
          &gt;I use SerControl(refnum, serCtlIrDAEnable, 0, 0) to setup the UART, 
          and then<br>
          &gt;make<br>
          &gt;standard SerSend, SerReceive, ect... calls.<br>
          &gt;I have tested it on palm III, IIIe, IIIc, V, Vx, everything works 
          fine.<br>
          &gt;<br>
          &gt;When I test it on a visor, it seems like the IR port is in loopback. 
          Anything<br>
          &gt;I send out the IR shows up immediately in the serial receive queue.<br>
          &gt;I have even taped over the IR port, so I know its not getting reflections 
          from<br>
          &gt;something external.<br>
          &gt;The IR port on the visor can send and receive things OK using the 
          exchange<br>
          &gt;manager though.<br>
          &gt;<br>
          &gt;Has anyone seen this before? Any ideas on how I can Isolate the 
          problem?<br>
          &gt;<br>
          &gt;Ronnen<br>
          &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe, 
          please<br>
          &gt;see http://www.palmos.com/dev/tech/support/forums/</p>
        <p><br>
          -- </p>
        <p></p>
        <p>Re: Sending data over IR</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Mon, 19 Jun 2000 13:11:33 </p>
        <p></p>
        <p>&quot;amit shah&quot; &lt;shah_a@edtnmail.com&gt; wrote in message<br>
          news:14642@palm-dev-forum...<br>
          &gt; How do I send the file from WIN98 to the palm. What should I use 
          IRCOMM,<br>
          &gt; New serial manager, or something<br>
          &gt; else. On the palm side I need to receive the file when I launch 
          an<br>
          &gt; application which has a recieve button.</p>
        <p>This sounds familiar...</p>
        <p>You can use software on your PC to send the data using OBEX. ExtendedSystems<br>
          QuickBeam is one example. In this case, you'll use the Exchange Manager 
          on<br>
          the Palm to receive the data. The user won't have to run your app on 
          the<br>
          Palm, or press a button in the app to start receiving; the Exchange 
          Manager<br>
          will launch your app. OBEX is an object exchange protocol. It sends 
          some<br>
          meta-data (filename, etc) along with a bunch of raw data.</p>
        <p>You can use software on your PC to send the data using IrCOMM. I'm 
          not<br>
          familiar with the Palm side of IrCOMM, but many others on this list 
          are.<br>
          (Actually, the comm-dev-forum is more appropriate for this.) I think 
          you'll<br>
          use the new serial manager. The user will have to run your app to receive<br>
          the data. IrCOMM is a virtual serial port. It sends raw data.</p>
        <p>You could also use some of the lower level IrDA protocols such as IrLAP,<br>
          IrLMP, and TinyTP. This would be a last resort.<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p></p>
        <p></p>
        <p>IR Access</p>
        <p> From: Wang, Nancy (view other messages by this author) <br>
          Date: Tue, 27 Jun 2000 11:12:55 </p>
        <p></p>
        <p>Hello All,</p>
        <p> I am trying to develop a Palm application which will communicate with 
          a<br>
          simple infrared signal decoder. Since the decoder doesn't support IrDA<br>
          protocol, I'd like to send a single byte of data from Palm infrared 
          port,<br>
          which is similar to send a single byte from serial port. I guess that 
          will<br>
          require even lower level than IR library functions. Does Palm allow 
          direct<br>
          IR port access from MC68328 (Dragon Ball) processor? Thanks.</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p>Re: Ir Serial w/o IrDA?</p>
        <p> From: Tom Zerucha (view other messages by this author) <br>
          Date: Wed, 28 Jun 2000 21:40:53 </p>
        <p></p>
        <p>On Wed, Jun 28, 2000 at 04:26:25PM -0700, SoftwareIntern wrote:<br>
          &gt; The waveform I need is divided into aprox 120 micro-second parts, 
          (9600 bps,<br>
          &gt; 8N1 no handshaking) each part has either a high, (representing 
          a 1), or a<br>
          &gt; low (a 0).<br>
          &gt; <br>
          &gt; For instance, if I wanted to send an 'A', the waveform I'd need 
          would look<br>
          &gt; something like this<br>
          &gt; <br>
          &gt; ____ ___ ___ ____________<br>
          &gt; | | | | | |<br>
          &gt; | | | | | |<br>
          &gt; --- --------------- ---<br>
          &gt; <br>
          &gt; with each bit being about 3 - long ( - = aprox 40 micro-seconds), 
          The UART<br>
          &gt; on the device should handle all of this, I just don't seem to be 
          able to get<br>
          &gt; the clock set right (at least thats what I assume I'm doing wrong). 
          Also I<br>
          &gt; don't know if the Ir port is forced to use the Non Integer Prescaler 
          (the<br>
          &gt; microprocessor has two prescalers, an integer and a non integer, 
          it look<br>
          &gt; like Ir devices are forced to use the non integer prescaler)<br>
          &gt; <br>
          &gt; Thomas Anderson</p>
        <p>Note that the irda narrower pulses might work depending on the target.</p>
        <p>However you should be able to set the thing up for Irda and simply 
          hit<br>
          the register that says IrDA mode (- to go back to full width, and<br>
          maybe the output polarity)</p>
        <p>www.execpc.com/~tz has sertool.zip which includes some hardware<br>
          banging which you might be able to adapt.</p>
        <p>Also, if you open the serial port and do something like:</p>
        <p> SerControl(SerL, serCtlIrDAEnable, 0, 0);</p>
        <p>It will switch the UART to IrDA mode (but also does the narrow pulses).</p>
        <p>You need to unnarrow the pulses, and check the polarity (also note<br>
          that the uart is AC coupled so sending a break will not result in<br>
          constant on).</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p>RE: Ir Serial w/o IrDA?</p>
        <p> From: Anderson, Thomas (view other messages by this author) <br>
          Date: Thu, 29 Jun 2000 08:14:37 </p>
        <p></p>
        <p>I've done quite a bit of experimenting at this point, first off simply<br>
          switching the bit doesn't make it work. Secondly the irda narrower pulses<br>
          don't work, I've tried, and I've also examened the signal via a protocal<br>
          analyzer, it just don't want to sync properly. I tried the sertool, 
          but I'm<br>
          on a IIIxe, and when ever I attempt to change the baud rate I promptly 
          get a<br>
          'fatal error', and have to reset the palm. <br>
          I do have software the works properly with IrDA (There are several<br>
          devices, the old ones have IrDA compliant hardware, for cost saving 
          the new<br>
          ones don't). I can communicate fine w/ the old hardware using a small 
          piece<br>
          of code I've written. I've been experimenting with silghtly modifying 
          that<br>
          code to see what will work with the new hardware. <br>
          <br>
          &gt;You need to unnarrow the pulses, and check the polarity (also note<br>
          &gt;that the uart is AC coupled so sending a break will not result in<br>
          &gt;constant on).</p>
        <p>now this is intrieging, I knew about the pulses, I knew about the polarity,<br>
          but I didn't know that the uart was AC coupled. This may make this part 
          of<br>
          the project impossible w/o external hardware.</p>
        <p>Thanks for the help.</p>
        <p>Thomas Anderson<br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p><br>
          Any good examples of low level IR polling?</p>
        <p> From: DIAMOND JEFF (view other messages by this author) <br>
          Date: Tue, 1 Aug 2000 18:44:18 </p>
        <p></p>
        <p>I am trying to create an application that mimics the key strokes on 
          one<br>
          Palm to that of another Palm using the low level IR libraries while 
          an<br>
          application is running.</p>
        <p>I need to send a very small packet of data on the order of 16 times 
          per<br>
          second in a way that doesn't slow down the main application on either<br>
          device.</p>
        <p>Can anyone recommend good source code examples of using low level IR<br>
          communication in a way that doesn't block running applications?</p>
        <p>Thanks!<br>
          - Jeff</p>
        <p></p>
        <p>RE: Any good examples of low level IR polling?</p>
        <p> From: Fitzpatrick, Joe (view other messages by this author) <br>
          Date: Tue, 1 Aug 2000 19:24:01 </p>
        <p></p>
        <p>If you search Dr. Dobbs (www.ddj.com) you will find an article on Palm 
          IR<br>
          programming. You may have to pay for the article, but you can download 
          the<br>
          sample app (irtest) with source from the FTP site for free. I think 
          that<br>
          there might be source for a simple battleship game as well. The irtest 
          app<br>
          sends text messages back and forth using IrLMP or TinyTP.</p>
        <p>There is another sample floating around called IR_PING, that does device<br>
          discovery and uses IAS services to search for IrComm support, etc. Sorry, 
          I<br>
          can't remember the author's name off the top of my head.</p>
        <p>Theoretically, IrDA at 115K baud (max on Palm) can easily support the<br>
          exchange rates you are talking about, even with IrLap overhead. However, 
          I<br>
          am not sure about the overall responsiveness of the Palm IrDA stack. 
          I've<br>
          never tested it.</p>
        <p>The IR library is inherently asynchronous (with callback functions). 
          So<br>
          blocking is not required. All the samples above demonstrate this to 
          some<br>
          degree.</p>
        <p>Good Luck,<br>
          -jjf</p>
        <p></p>
        <p></p>
        <p>Re: Serial Communication via IR</p>
        <p> From: Hari Warrier (view other messages by this author) <br>
          Date: Sat, 14 Oct 2000 01:45:44 </p>
        <p></p>
        <p>What does the peer device support?, if it is a PC (win), it already<br>
          supports IrCOMM - then you might as well use serial interface<br>
          (over IR) on the Palm side. If the other side doesn't provide<br>
          comm interface, take IrLMP. ircomm has other disadvantages<br>
          (you can't use functions like IrDiscoverReq() which is very good<br>
          to &quot;select&quot; one from a set of devices)</p>
        <p>&quot;James&quot; &lt;jt362@is9.nyu.edu&gt; wrote in message news:26597@palm-dev-forum...</p>
        <p>&gt;<br>
          &gt; Has anyone ever tried this, without going the IrDA route/or using 
          the<br>
          &gt; Exchange manager? I'm trying to develop an application and all 
          the<br>
          &gt; overhead of the IrDA stack is not really needed. I'm trying to 
          get a<br>
          &gt; Palm to communicate to a non-Palm. I will be writing software for 
          the<br>
          &gt; other platform(a PC) and will be using some Serial libraries to 
          send and<br>
          &gt; receive data from the PC.<br>
          &gt;<br>
          &gt; I'll just be sending some coordinate information back and forth 
          between<br>
          &gt; the Palm and the non-Palm.<br>
          &gt;<br>
          &gt; What is the best approach for doing this kind of communication 
          between a<br>
          &gt; Palm and a non-Palm device...(IrDA, Serial over IR, etc.)?<br>
          &gt;<br>
          &gt; Thanks in advance.<br>
          &gt;<br>
          &gt; -James<br>
          &gt;<br>
          &gt;</p>
        <p></p>
        <p>Re: Irda transfert</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Sat, 14 Oct 2000 13:15:23 </p>
        <p></p>
        <p>&quot;Nicolas FRAYER&quot; &lt;nicolasfrayer@hotmail.com&gt; wrote 
          in message<br>
          news:26649@palm-dev-forum...<br>
          &gt; Does anyone can send me some code about how to transfert data via<br>
          Infra-red<br>
          &gt; between 2 Palms.</p>
        <p>This is a pretty basic question. I'd read the Palm OS documentation 
          to learn<br>
          about the Exchange Manager and the IR Library. Also, check out<br>
          comm-dev-forum. The archives should answer many of your questions.</p>
        <p>&gt; Can I send an application and use it in the same time ?</p>
        <p>Yes. Running and beaming an app both require only read-only access 
          to the<br>
          database.<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p></p>
        <p><br>
          Re: Serial Communication via IR</p>
        <p> From: Charles Rezsonya (view other messages by this author) <br>
          Date: Tue, 17 Oct 2000 07:51:31 </p>
        <p></p>
        <p>ok, originally i thought i wasn't doing something right, now i got 
          it to<br>
          send data back and forth. but i get the occasional single char or couple<br>
          (seems like intermitten bytes back and forth?), how do i mask these? 
          or<br>
          how do i understand what these are?</p>
        <p>tia,<br>
          Charles</p>
        <p>-----Original Message-----<br>
          From: Alan Burgess &lt;Alan.Burgess@grosvenor.com&gt;<br>
          To: Palm Developer Forum &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Date: Friday, October 13, 2000 12:25 PM<br>
          Subject: RE: Serial Communication via IR</p>
        <p><br>
          &gt;Just open the serial port as normal - then redirect as shown below<br>
          &gt;<br>
          &gt;static void CommsEnableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDAEnable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;static void CommsDisableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDADisable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;Alan Burgess<br>
          &gt;Grosvenor Technology Ltd<br>
          &gt;Alan.Burgess@grosvenor.com<br>
          &gt;<br>
          &gt; -----Original Message-----<br>
          &gt;From: James [mailto:jt362@is9.nyu.edu]<br>
          &gt;Sent: 10 October 2000 06:43<br>
          &gt;To: Palm Developer Forum<br>
          &gt;Subject: Serial Communication via IR<br>
          &gt;<br>
          &gt;Has anyone ever tried this, without going the IrDA route/or using 
          the<br>
          &gt;Exchange manager? I'm trying to develop an application and all the<br>
          &gt;overhead of the IrDA stack is not really needed. I'm trying to get 
          a<br>
          &gt;Palm to communicate to a non-Palm. I will be writing software for 
          the<br>
          &gt;other platform(a PC) and will be using some Serial libraries to 
          send and<br>
          &gt;receive data from the PC.<br>
          &gt;<br>
          &gt;I'll just be sending some coordinate information back and forth 
          between<br>
          &gt;the Palm and the non-Palm.<br>
          &gt;<br>
          &gt;What is the best approach for doing this kind of communication between 
          a<br>
          &gt;Palm and a non-Palm device...(IrDA, Serial over IR, etc.)?<br>
          &gt;<br>
          &gt;Thanks in advance.<br>
          &gt;<br>
          &gt;-James<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          &gt;please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;</p>
        <p></p>
        <p></p>
        <p>Re: Serial Communication via IR</p>
        <p> From: Charles Rezsonya (view other messages by this author) <br>
          Date: Thu, 19 Oct 2000 10:14:39 </p>
        <p></p>
        <p>correct me if i'm wrong , and fill in any gaps i might leave out. i'm<br>
          having problems doing this redirect thingy. i open a serial port, set 
          the<br>
          settings to 19200 etc (sersettings cmd), then after the serial port 
          is read<br>
          as if it were to receive something thru the serial port i do the redirect<br>
          thingy. but when i go to do something like sending and receiving data 
          its<br>
          all garbaled in strange chars. what might i be forgetting or messing 
          up?</p>
        <p>tia<br>
          Charles R</p>
        <p>-----Original Message-----<br>
          From: Alan Burgess &lt;Alan.Burgess@grosvenor.com&gt;<br>
          To: Palm Developer Forum &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Date: Friday, October 13, 2000 12:25 PM<br>
          Subject: RE: Serial Communication via IR</p>
        <p><br>
          &gt;Just open the serial port as normal - then redirect as shown below<br>
          &gt;<br>
          &gt;static void CommsEnableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDAEnable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;static void CommsDisableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDADisable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;Alan Burgess<br>
          &gt;Grosvenor Technology Ltd<br>
          &gt;Alan.Burgess@grosvenor.com<br>
          &gt;<br>
          &gt; -----Original Message-----<br>
          &gt;From: James [mailto:jt362@is9.nyu.edu]<br>
          &gt;Sent: 10 October 2000 06:43<br>
          &gt;To: Palm Developer Forum<br>
          &gt;Subject: Serial Communication via IR<br>
          &gt;<br>
          &gt;Has anyone ever tried this, without going the IrDA route/or using 
          the<br>
          &gt;Exchange manager? I'm trying to develop an application and all the<br>
          &gt;overhead of the IrDA stack is not really needed. I'm trying to get 
          a<br>
          &gt;Palm to communicate to a non-Palm. I will be writing software for 
          the<br>
          &gt;other platform(a PC) and will be using some Serial libraries to 
          send and<br>
          &gt;receive data from the PC.<br>
          &gt;<br>
          &gt;I'll just be sending some coordinate information back and forth 
          between<br>
          &gt;the Palm and the non-Palm.<br>
          &gt;<br>
          &gt;What is the best approach for doing this kind of communication between 
          a<br>
          &gt;Palm and a non-Palm device...(IrDA, Serial over IR, etc.)?<br>
          &gt;<br>
          &gt;Thanks in advance.<br>
          &gt;<br>
          &gt;-James<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          &gt;please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;</p>
        <p></p>
        <p></p>
        <p><br>
          RE: Serial Communication via IR</p>
        <p> From: Schettino, John (view other messages by this author) <br>
          Date: Thu, 19 Oct 2000 16:28:30 </p>
        <p></p>
        <p>When you open the serial port in IR mode, you get a raw IR connection 
          with<br>
          no error checking. If you're an old guy like me, it's like using a 300pbs<br>
          acoustic couple modem -- you get garbage characters from time to time 
          due to<br>
          noise. For old modems, noise was the various clicks MaBell tossed into 
          the<br>
          line. For raw IR, it's stray light from halogen, florecent, and other 
          bright<br>
          light, and whatever else happens to land on the IR leds.</p>
        <p>The answer back then is the answer now -- error correction, retries, 
          etc.<br>
          Your software will need to figure out if the data it gets/sends is accurate<br>
          or corrupted. That's what the low-level IRDA stuff does for you. Every<br>
          packet sent over IR includes a lot of information describing the packet<br>
          itself -- a start and stop char, and a 16 bit CRC value -- the low-level 
          IR<br>
          protocol checks the packet to make sure the propper framing bits are 
          there,<br>
          that the CRC matches, etc. If not, the receiver requests the packet 
          be<br>
          retransmitted.</p>
        <p>If you have control over both sides of the transmission, I'd suggest 
          using a<br>
          simple packet format -- frame each chunk of data with a start &amp; 
          stop char,<br>
          and tack on a 16 bit CRC. You can use the same LMP packet format as 
          used by<br>
          irda (see www.irda.org for a description of it) or something simpler. 
          As<br>
          part of our Cooltown project at HP Labs (cooltown.hp.com) I implemented 
          the<br>
          Ultra irda protocol for PalmOS using this technique.</p>
        <p>If you don't have control over the sender, you can add some sanity 
          checks to<br>
          your receiver end, if the data you're expecting is only ascii text, 
          you<br>
          could toss any chars that where not.</p>
        <p>- John Schettino</p>
        <p></p>
        <p>-----Original Message-----<br>
          From: Charles Rezsonya [mailto:charles@quickinc.com]</p>
        <p>Sent: Monday, October 16, 2000 2:48 PM<br>
          To: Palm Developer Forum<br>
          Subject: Re: Serial Communication via IR</p>
        <p><br>
          ok, originally i thought i wasn't doing something right, now i got it 
          to<br>
          send data back and forth. but i get the occasional single char or couple<br>
          (seems like intermitten bytes back and forth?), how do i mask these? 
          or<br>
          how do i understand what these are?</p>
        <p>tia,<br>
          Charles</p>
        <p>-----Original Message-----<br>
          From: Alan Burgess &lt;Alan.Burgess@grosvenor.com&gt;<br>
          To: Palm Developer Forum &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Date: Friday, October 13, 2000 12:25 PM<br>
          Subject: RE: Serial Communication via IR</p>
        <p><br>
          &gt;Just open the serial port as normal - then redirect as shown below<br>
          &gt;<br>
          &gt;static void CommsEnableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDAEnable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;static void CommsDisableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDADisable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;Alan Burgess<br>
          &gt;Grosvenor Technology Ltd<br>
          &gt;Alan.Burgess@grosvenor.com<br>
          &gt;<br>
          &gt; -----Original Message-----<br>
          &gt;From: James [mailto:jt362@is9.nyu.edu]<br>
          &gt;Sent: 10 October 2000 06:43<br>
          &gt;To: Palm Developer Forum<br>
          &gt;Subject: Serial Communication via IR<br>
          &gt;<br>
          &gt;Has anyone ever tried this, without going the IrDA route/or using 
          the<br>
          &gt;Exchange manager? I'm trying to develop an application and all the<br>
          &gt;overhead of the IrDA stack is not really needed. I'm trying to get 
          a<br>
          &gt;Palm to communicate to a non-Palm. I will be writing software for 
          the<br>
          &gt;other platform(a PC) and will be using some Serial libraries to 
          send and<br>
          &gt;receive data from the PC.<br>
          &gt;<br>
          &gt;I'll just be sending some coordinate information back and forth 
          between<br>
          &gt;the Palm and the non-Palm.<br>
          &gt;<br>
          &gt;What is the best approach for doing this kind of communication between 
          a<br>
          &gt;Palm and a non-Palm device...(IrDA, Serial over IR, etc.)?<br>
          &gt;<br>
          &gt;Thanks in advance.<br>
          &gt;<br>
          &gt;-James<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          &gt;please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p><br>
          RE: Serial Communication via IR</p>
        <p> From: Alan Burgess (view other messages by this author) <br>
          Date: Thu, 19 Oct 2000 23:58:12 </p>
        <p></p>
        <p>int OpenCommsPort(UInt Speed)<br>
          {<br>
          Err result;<br>
          SerSettingsType SerialSettings;<br>
          <br>
          SysLibFind(&quot;Serial Library&quot;,&amp;SerialRef); /* Find Communications<br>
          Library */</p>
        <p> result = SerOpen(SerialRef,0,Speed); /* Open Port 0 */</p>
        <p> if (!result)<br>
          {<br>
          SerialSettings.baudRate = Speed;<br>
          SerialSettings.ctsTimeout = serDefaultCTSTimeout;<br>
          SerialSettings.flags = serSettingsFlagStopBits1 |<br>
          serSettingsFlagBitsPerChar8;</p>
        <p> SerSetSettings(SerialRef,&amp;SerialSettings);<br>
          return 1;<br>
          }<br>
          return 0;<br>
          }</p>
        <p>void CloseCommsPort()<br>
          {<br>
          if (SerialRef)<br>
          SerClose(SerialRef); /* Close COM1<br>
          */<br>
          }</p>
        <p>static void CommsEnableInfrared()<br>
          {<br>
          SerControl(SerialRef, serCtlIrDAEnable, 0, 0);<br>
          }</p>
        <p>static void CommsDisableInfrared()<br>
          {<br>
          SerControl(SerialRef, serCtlIrDADisable, 0, 0);<br>
          }</p>
        <p>void InitComms()<br>
          {<br>
          OpenCommsPort(19200);<br>
          CommsEnableInfrared(); // one off operation after opening port</p>
        <p>// can now read and write to port<br>
          }</p>
        <p>Here is a fuller example. If you are getting unexpected chars then 
          either<br>
          the port is not set correctly to match what you are talking to OR the<br>
          protocol on the other device is not what you believe it is - maybe it 
          uses<br>
          the IRDA protocol.</p>
        <p>Alan Burgess<br>
          Grosvenor Technology Ltd<br>
          Alan.Burgess@grosvenor.com </p>
        <p> -----Original Message-----<br>
          From: Charles Rezsonya [mailto:charles@quickinc.com]</p>
        <p><br>
          Sent: 16 October 2000 20:33<br>
          To: Palm Developer Forum<br>
          Subject: Re: Serial Communication via IR</p>
        <p>correct me if i'm wrong , and fill in any gaps i might leave out. i'm<br>
          having problems doing this redirect thingy. i open a serial port, set 
          the<br>
          settings to 19200 etc (sersettings cmd), then after the serial port 
          is read<br>
          as if it were to receive something thru the serial port i do the redirect<br>
          thingy. but when i go to do something like sending and receiving data 
          its<br>
          all garbaled in strange chars. what might i be forgetting or messing 
          up?</p>
        <p>tia<br>
          Charles R</p>
        <p>-----Original Message-----<br>
          From: Alan Burgess &lt;Alan.Burgess@grosvenor.com&gt;<br>
          To: Palm Developer Forum &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Date: Friday, October 13, 2000 12:25 PM<br>
          Subject: RE: Serial Communication via IR</p>
        <p><br>
          &gt;Just open the serial port as normal - then redirect as shown below<br>
          &gt;<br>
          &gt;static void CommsEnableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDAEnable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;static void CommsDisableInfrared()<br>
          &gt;{<br>
          &gt; SerControl(SerialRef, serCtlIrDADisable, 0, 0);<br>
          &gt;}<br>
          &gt;<br>
          &gt;Alan Burgess<br>
          &gt;Grosvenor Technology Ltd<br>
          &gt;Alan.Burgess@grosvenor.com<br>
          &gt;<br>
          &gt; -----Original Message-----<br>
          &gt;From: James [mailto:jt362@is9.nyu.edu]<br>
          &gt;Sent: 10 October 2000 06:43<br>
          &gt;To: Palm Developer Forum<br>
          &gt;Subject: Serial Communication via IR<br>
          &gt;<br>
          &gt;Has anyone ever tried this, without going the IrDA route/or using 
          the<br>
          &gt;Exchange manager? I'm trying to develop an application and all the<br>
          &gt;overhead of the IrDA stack is not really needed. I'm trying to get 
          a<br>
          &gt;Palm to communicate to a non-Palm. I will be writing software for 
          the<br>
          &gt;other platform(a PC) and will be using some Serial libraries to 
          send and<br>
          &gt;receive data from the PC.<br>
          &gt;<br>
          &gt;I'll just be sending some coordinate information back and forth 
          between<br>
          &gt;the Palm and the non-Palm.<br>
          &gt;<br>
          &gt;What is the best approach for doing this kind of communication between 
          a<br>
          &gt;Palm and a non-Palm device...(IrDA, Serial over IR, etc.)?<br>
          &gt;<br>
          &gt;Thanks in advance.<br>
          &gt;<br>
          &gt;-James<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          &gt;please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p><br>
          IR Loopback in POSE</p>
        <p> From: Chris DiPierro (view other messages by this author) <br>
          Date: Thu, 9 Nov 2000 08:01:38 </p>
        <p></p>
        <p>I'm trying to get IR Loopback in POSE to work. I use the shortcut as<br>
          described by: http://oasis.palm.com/dev/kb/article.cfm?id=1428</p>
        <p></p>
        <p>But when I try to beam anything (whether it be in my app or elsewhere), 
          I<br>
          get the error:</p>
        <p>&quot;Power Manager: Beaming has been temporarily disabled because 
          the<br>
          combination of features your are using requires more power than currently<br>
          available. (Pwr 1E03)&quot;</p>
        <p>What do I need to do?</p>
        <p></p>
        <p></p>
        <p><br>
          Re: IR Loopback in POSE</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Thu, 9 Nov 2000 15:42:43 </p>
        <p></p>
        <p>&quot;Chris DiPierro&quot; &lt;cdipierr@llamas.org&gt; wrote in message<br>
          news:29656@palm-dev-forum...<br>
          &gt; &quot;Power Manager: Beaming has been temporarily disabled because 
          the<br>
          &gt; combination of features your are using requires more power than 
          currently<br>
          &gt; available. (Pwr 1E03)&quot;</p>
        <p>Let me guess: you're emulating a Palm V or Vx. Try another device.<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p>Sending IR over serial...working but last 9 chars are jumbled</p>
        <p> From: James Tu (view other messages by this author) <br>
          Date: Thu, 9 Nov 2000 17:53:46 </p>
        <p></p>
        <p>I'm cross posting (this is already at comm-dev-forum)...hoping for 
          more<br>
          answers...sorry</p>
        <p>I've used the trick that people posted in this newsgroup for sending<br>
          serial over IR w/o any IrDA wrappers.</p>
        <p>Originally I didn't think it was working because when I was sending 
          &quot;A&quot;<br>
          for example, I didn't get anything on the other side...</p>
        <p>However, when I send a longer string (longer than 9 chars), I only 
          get<br>
          the FIRST character and then junk.<br>
          Ex:</p>
        <p>If I send &quot;123456789&quot;, I would just see a junk character 
          on the screen<br>
          (I'm using HyperTerm to receive the serial data on the PC)</p>
        <p>But, if I send &quot;1234567890&quot;, I would see &quot;1&quot; followed 
          by some weird junk<br>
          character.</p>
        <p><br>
          Has anyone else experienced this before?<br>
          Right after I do a SerSend, I call SerControl to serCtlIrDADisable and<br>
          then I close the serial port.</p>
        <p>Do I have to wait a for a short perid of time before disabling serial<br>
          (so that the IR can finish transmitting)?</p>
        <p>-James</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p><br>
          IR Bit structure</p>
        <p> From: John Devany (view other messages by this author) <br>
          Date: Thu, 16 Nov 2000 15:24:54 </p>
        <p></p>
        <p>Hello palm-dev-forum world.</p>
        <p>I'm trying to decode a bit stream sent from an unusual IR device which 
          I'm<br>
          reading on the Palm. I have a small sample of data which I hope that 
          if I<br>
          post here maybe someone can give me a clue about what's going on, and 
          how I<br>
          can accurately read the signal.</p>
        <p>In the following table, the first column represents the number I'm 
          receiving<br>
          from the Palm, the last column (Target) is the number I _know_ I should 
          be<br>
          getting.</p>
        <p>Number Binary Complement ShiftRight Target<br>
          245 11110101 10 00001010 5 00000101 5<br>
          95 01011111 160 10100000 80 01010000 80<br>
          247 11110111 8 00001000 4 00000100 7<br>
          251 11111011 4 00000100 2 00000010 3<br>
          253 11111101 2 00000010 1 00000001 1<br>
          239 11101111 16 00010000 8 00001000 8</p>
        <p>What I can't figure out is that, by complementing, and shift right, 
          I get<br>
          accurate results for some of the values (245=5, 95=80, 253=1 and 239=8) 
          but<br>
          for others (247=7, 251=3) I'm not.</p>
        <p>I remember from the distant past, some technique that involved flipping 
          the<br>
          first bit then depending on some condition, either flipping or not the<br>
          subsequent bits, but I can't recall any more detail.</p>
        <p>I'd be grateful for any clues.</p>
        <p></p>
        <p></p>
        <p>Receiving raw data from the IR port</p>
        <p> From: Page, Curt S (view other messages by this author) <br>
          Date: Fri, 15 Dec 2000 11:43:15 </p>
        <p></p>
        <p>&gt; How do I go about receiving raw data from the IR port. Is there 
          a quick<br>
          &gt; and easy way to access the IR port and read in what its picking 
          up,<br>
          &gt; similar to the serial port?<br>
          &gt; <br>
          &gt; </p>
        <p></p>
        <p></p>
        <p>Programs that use the IR port</p>
        <p> From: Page, Curt S (view other messages by this author) <br>
          Date: Tue, 19 Dec 2000 08:21:39 </p>
        <p></p>
        <p>There are palm programs that use the IR port to simulate and record 
          signals<br>
          from a remote control. Has anyone come across the source code or how 
          they<br>
          talk to the IR port in that manner.</p>
        <p>Any help would be greatly appreciated,</p>
        <p>Curt</p>
        <p></p>
        <p></p>
        <p>Accessing raw IR data from IR port</p>
        <p> From: Page, Curt S (view other messages by this author) <br>
          Date: Mon, 15 Jan 2001 07:28:57 </p>
        <p></p>
        <p>I have been looking at the source code for IR ping to figure out how 
          to<br>
          access the raw data that is coming in from the IR port. I have been 
          looking<br>
          through both the IR library and the IRCallBack function in IR Ping and 
          I<br>
          have had no luck. Is there something Im missing?</p>
        <p>any help would be greatly appreciated,</p>
        <p>Curt</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p>serial and ir port in same program</p>
        <p> From: Anders Larsson (view other messages by this author) <br>
          Date: Mon, 15 Jan 2001 07:38:47 </p>
        <p></p>
        <p>Hi,<br>
          I use a Symbol Msr3006 magnetic card reader that is basically connected<br>
          to the serial port at a (symbol) terminal. Then I (want to) close the<br>
          serial port to use the ir port with an Comtec IR printer. But I can 
          not<br>
          open the IR port, due to &quot;PTStatusTransportNotAvailable&quot;. 
          For me it<br>
          seems like it is because I can not access the IR port. I use a command<br>
          that says it clears all resources.</p>
        <p>How do I close the serial port?</p>
        <p>I also tried SrmClose(portId), with portId for &quot;Direct Serial&quot;.</p>
        <p>Regards, Anders</p>
        <p><br>
          -- </p>
        <p></p>
        <p></p>
        <p>Re: Accessing raw IR data from IR port</p>
        <p> From: Philip Sheard (view other messages by this author) <br>
          Date: Mon, 15 Jan 2001 10:52:05 </p>
        <p></p>
        <p>&gt; I have been looking at the source code for IR ping to figure out 
          how to<br>
          &gt; access the raw data that is coming in from the IR port. I have 
          been<br>
          looking<br>
          &gt; through both the IR library and the IRCallBack function in IR Ping 
          and I<br>
          &gt; have had no luck. Is there something Im missing?<br>
          &gt;<br>
          &gt; any help would be greatly appreciated,</p>
        <p>well to start with, you could tell what type of device you are trying 
          to<br>
          communicate with.</p>
        <p></p>
        <p></p>
        <p>RE: Accessing raw IR data from IR port</p>
        <p> From: Page, Curt S (view other messages by this author) <br>
          Date: Mon, 15 Jan 2001 12:11:25 </p>
        <p></p>
        <p>Basically what Im trying to do is figure out how to record commands 
          from a<br>
          remote control. </p>
        <p></p>
        <p>&gt; -----Original Message-----<br>
          &gt; From: Philip Sheard [SMTP:sheardp@lineone.net]<br>
          &gt; Sent: Monday, January 15, 2001 1:37 PM<br>
          &gt; To: Palm Developer Forum<br>
          &gt; Subject: Re: Accessing raw IR data from IR port<br>
          &gt; <br>
          &gt; &gt; I have been looking at the source code for IR ping to figure 
          out how to<br>
          &gt; &gt; access the raw data that is coming in from the IR port. I 
          have been<br>
          &gt; looking<br>
          &gt; &gt; through both the IR library and the IRCallBack function in 
          IR Ping and I<br>
          &gt; &gt; have had no luck. Is there something Im missing?<br>
          &gt; &gt;<br>
          &gt; &gt; any help would be greatly appreciated,<br>
          &gt; <br>
          &gt; well to start with, you could tell what type of device you are 
          trying to<br>
          &gt; communicate with.<br>
          &gt; <br>
          &gt; <br>
          &gt; -- <br>
          &gt; For information on using the Palm Developer Forums, or to unsubscribe,<br>
          &gt; please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p>Sending IR Signal</p>
        <p> From: Thomas Ward (view other messages by this author) <br>
          Date: Fri, 19 Jan 2001 08:03:13 </p>
        <p></p>
        <p>Hi,</p>
        <p>I am investigating an IR application that would only need to send signals.<br>
          That is, it's not two way communication, but more like a remote control.<br>
          When I read through the documentation, I find lots of referenes to making 
          an<br>
          IR connection. Is all this necessary or even possible for a remote control?<br>
          Is there a way to simply broadcast data for any device that might be 
          in<br>
          range? Any helpful information, sample code, or pointers to applicable<br>
          documentation would be greatly appreciated!</p>
        <p>Tom</p>
        <p></p>
        <p></p>
        <p>Re: Sending IR Signal</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Fri, 19 Jan 2001 15:26:52 </p>
        <p></p>
        <p>TV remote controls don't use IrDA (Infrared Data Association - www.irda.org)<br>
          standard protocols. You _can_ make a Palm into a TV remote, but it isn't<br>
          officially supported.</p>
        <p>Note that you can send test packets in IrDA and these can be broadcast. 
          You<br>
          don't need to make a connection first.</p>
        <p>What device are you trying to communicate with? What protocols does 
          it<br>
          understand?<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p></p>
        <p><br>
          &quot;Thomas Ward&quot; &lt;tomward@mediaone.net&gt; wrote in message<br>
          news:36395@palm-dev-forum...<br>
          &gt; Hi,<br>
          &gt;</p>
        <p>&gt; I am investigating an IR application that would only need to send 
          signals.<br>
          &gt; That is, it's not two way communication, but more like a remote 
          control.<br>
          &gt; When I read through the documentation, I find lots of referenes 
          to making<br>
          an<br>
          &gt; IR connection. Is all this necessary or even possible for a remote<br>
          control?<br>
          &gt; Is there a way to simply broadcast data for any device that might 
          be in<br>
          &gt; range? Any helpful information, sample code, or pointers to applicable<br>
          &gt; documentation would be greatly appreciated!<br>
          &gt;<br>
          &gt; Tom<br>
          &gt;<br>
          &gt;<br>
          &gt;</p>
        <p></p>
        <p></p>
        <p>Receiving IR Signal</p>
        <p> From: Ricardo Contin (view other messages by this author) <br>
          Date: Fri, 19 Jan 2001 18:36:02 </p>
        <p></p>
        <p>Receiving IR Signal</p>
        <p>I need the oposite.</p>
        <p>I need to monitor any ir signal and store the information (numbers 
          and<br>
          leters) with out make a<br>
          connection or a protocol.</p>
        <p>Can anyone help me ?<br>
          I'm new in PALM applications and don't know how start.<br>
          I will try make using CodeWarrior.</p>
        <p>Tks<br>
          Ricardo</p>
        <p>----- Original Message -----<br>
          From: &quot;Danny Epstein&quot; &lt;danny_epstein@palm.com&gt;<br>
          Newsgroups: palm-dev-forum<br>
          To: &quot;Palm Developer Forum&quot; &lt;palm-dev-forum@news.palmos.com&gt;<br>
          Sent: Friday, January 19, 2001 9:14 PM<br>
          Subject: Re: Sending IR Signal</p>
        <p><br>
          &gt; TV remote controls don't use IrDA (Infrared Data Association -<br>
          www.irda.org)<br>
          &gt; standard protocols. You _can_ make a Palm into a TV remote, but 
          it isn't<br>
          &gt; officially supported.<br>
          &gt;<br>
          &gt; Note that you can send test packets in IrDA and these can be broadcast.<br>
          You<br>
          &gt; don't need to make a connection first.<br>
          &gt;<br>
          &gt; What device are you trying to communicate with? What protocols 
          does it<br>
          &gt; understand?<br>
          &gt; --<br>
          &gt; Danny Epstein<br>
          &gt; OS Engineer, Palm Inc.<br>
          &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt; &quot;Thomas Ward&quot; &lt;tomward@mediaone.net&gt; wrote in message<br>
          &gt; news:36395@palm-dev-forum...<br>
          &gt; &gt; Hi,<br>
          &gt; &gt;<br>
          &gt;<br>
          &gt; &gt; I am investigating an IR application that would only need 
          to send<br>
          signals.<br>
          &gt; &gt; That is, it's not two way communication, but more like a remote 
          control.<br>
          &gt; &gt; When I read through the documentation, I find lots of referenes 
          to<br>
          making<br>
          &gt; an<br>
          &gt; &gt; IR connection. Is all this necessary or even possible for 
          a remote<br>
          &gt; control?<br>
          &gt; &gt; Is there a way to simply broadcast data for any device that 
          might be in<br>
          &gt; &gt; range? Any helpful information, sample code, or pointers to 
          applicable<br>
          &gt; &gt; documentation would be greatly appreciated!<br>
          &gt; &gt;<br>
          &gt; &gt; Tom<br>
          &gt; &gt;<br>
          &gt; &gt;<br>
          &gt; &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt; --<br>
          &gt; For information on using the Palm Developer Forums, or to unsubscribe,<br>
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p>&gt;</p>
        <p>-- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p></p>
        <p>Re: Sending IR Signal</p>
        <p> From: Thomas Ward (view other messages by this author) <br>
          Date: Sun, 21 Jan 2001 23:37:44 </p>
        <p></p>
        <p>Danny,</p>
        <p>Thanks for helping!</p>
        <p>&gt; TV remote controls don't use IrDA (Infrared Data Association -<br>
          www.irda.org)<br>
          &gt; standard protocols. You _can_ make a Palm into a TV remote, but 
          it isn't<br>
          &gt; officially supported.<br>
          &gt;<br>
          &gt; Note that you can send test packets in IrDA and these can be broadcast.<br>
          You<br>
          &gt; don't need to make a connection first.</p>
        <p>Great! Do you have a small snippet of code you could send me that shows 
          how<br>
          to do that?</p>
        <p>&gt; What device are you trying to communicate with?</p>
        <p>It should work with anything, but for now, let's say a CD player.</p>
        <p>&gt; What protocols does it understand?</p>
        <p>I don't know. Are there protocols for something that is just broadcast?</p>
        <p>I want to be able to learn signals and then reproduce them. I went 
          to<br>
          Pacific Neo-Tek's web page. They said that they were going to be releasing<br>
          something that would allow developer's to use their code in new<br>
          applications. I signed up to be notified when it's available, but months<br>
          have gone by. So I need to start investigating how to do this myself.</p>
        <p>Any sample code on:</p>
        <p>1. How remote signals can be learned<br>
          2. How learned signals can be broadcast</p>
        <p>would be greatly appreciated!! (Pointers to documentation would be 
          good,<br>
          too.)</p>
        <p>Tom</p>
        <p><br>
          -- <br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p>Re: Ir Using New Serial Manager</p>
        <p> From: Tom Frauenhofer (view other messages by this author) <br>
          Date: Fri, 19 Jan 2001 15:44:11 </p>
        <p></p>
        <p>It depends on how you open the serial port. You can open it in IrCOMM 
          mode <br>
          or in a more &quot;lower-level&quot; mode (I'm not sure what the protocol 
          is - maybe <br>
          IrLMP?).</p>
        <p>At 04:45 PM 1/19/2001 -0600, you wrote:<br>
          &gt;If you use the new serial manager piped to the IR, what does the 
          ir format<br>
          &gt;look like coming out. Does it automatically use IRCOMM or are the 
          pulses in<br>
          &gt;some other format?<br>
          &gt;<br>
          &gt;Thanks,<br>
          &gt;Wade<br>
          &gt;<br>
          &gt;<br>
          &gt;<br>
          &gt;--<br>
          &gt;For information on using the Palm Developer Forums, or to unsubscribe, 
          <br>
          &gt;please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p></p>
        <p>e: Ir Using New Serial Manager</p>
        <p> From: Danny Epstein (view other messages by this author) <br>
          Date: Fri, 19 Jan 2001 15:54:38 </p>
        <p></p>
        <p>&quot;Tom Frauenhofer&quot; &lt;frauen1@yahoo.com&gt; wrote in message<br>
          news:36466@comm-dev-forum...<br>
          &gt; It depends on how you open the serial port. You can open it in 
          IrCOMM<br>
          mode<br>
          &gt; or in a more &quot;lower-level&quot; mode (I'm not sure what the 
          protocol is - maybe<br>
          &gt; IrLMP?).</p>
        <p>I don't know much about the serial side, but I think it's IrCOMM or 
          &quot;raw&quot;,<br>
          depending on how you open the serial port. I'm pretty sure you have 
          to use<br>
          the IR library to do IrLMP, which involves callbacks and such (ie. it's<br>
          tricker).</p>
        <p>Wade: Your other questions are all good questions, but I don't know 
          the<br>
          answers. Hopefully someone else does...<br>
          --<br>
          Danny Epstein<br>
          OS Engineer, Palm Inc.</p>
        <p></p>
        <p><br>
          Hi,<br>
          <br>
          To all who need to control the RTS signal on the Palm, here is a code 
          sample:<br>
          <br>
          extern short SerialRTS (unsigned short usFlag)<br>
          {<br>
          short ret = 0;<br>
          unsigned short* pusReg = NULL;<br>
          unsigned short usVal = 0;<br>
          <br>
          pusReg = (unsigned short*)0xFFFFF908;<br>
          usVal = *pusReg;<br>
          // force pilotage du RTS<br>
          usVal &amp;= (unsigned short) ~0x80;<br>
          if (usFlag == SERIAL_RTS_DOWN)<br>
          {<br>
          usVal &amp;= (unsigned short) ~0x40;<br>
          }<br>
          else<br>
          {<br>
          usVal |= (unsigned short) 0x40;<br>
          }<br>
          *pusReg = usVal;<br>
          <br>
          return (ret);<br>
          } </p>
        <p>It work's on the SPT1740 with PalmOS 3.5.<br>
          <br>
          Regards,<br>
          <br>
          <br>
          Thadd?e Bechtold<br>
          Responsable produits PalmOS/PocketPC<br>
          <br>
          Symbol Technologies<br>
          3 rue de la Renaissance<br>
          92184 Antony<br>
          <br>
          Tel: 01 40 96 52 70<br>
          Fax: 01 40 96 52 52<br>
          @: thaddee.bechtold@fr.symbol.com<br>
          Web: www.symbol.com</p>
        <p></p>
        <p>La verification anti-virus de ce message a ete faite.<br>
          This message has been checked for viruses.</p>
        <p>--<br>
          For information on using the Palm Developer Forums, or to unsubscribe, 
          please see http://www.palmos.com/dev/tech/support/forums/</p>
        <p><br>
          IRCOMM and SrmSetWakeupHandler</p>
        <p>From: Andree Maedl (view other messages by this author) <br>
          Date: Tue, 13 Feb 2001 17:01:33 </p>
        <p>--------------------------------------------------------------------------------</p>
        <p>Hello,</p>
        <p>I am trying to develop a little Software which communicates via IRCOMM 
          to a<br>
          mobile phone (via AT-commands).<br>
          For developing under the Emulator I do open the port with:</p>
        <p>error = SrmOpen(serPortCradlePort, 19200, &amp;COMPortID);</p>
        <p>For this the mobile is connected via cable to COM5 which the Emulator 
          uses.<br>
          After sending and succesfully receiving some initial information to 
          and from<br>
          the mobile I would like to be waked up, if the phone has some data to 
          send,<br>
          so I do right after this initialization:</p>
        <p> SrmSetWakeupHandler(COMPortID, PhoneHandler, COMPortID);<br>
          SrmPrimeWakeupHandler(COMPortID, 6); /* phone sends at least 6 chars<br>
          (CR LF OK CR LF) or more */</p>
        <p>My &quot;PhoneHandler&quot; procedure looks like like this:</p>
        <p>void PhoneHandler(UInt32 portId)<br>
          {<br>
          extern EventType EventFromPhone;<br>
          EvtAddEventToQueue (&amp;EventFromPhone);<br>
          }</p>
        <p>with EventFromPhone.eType = phoneAnswerEvent - which is defined the<br>
          following way:</p>
        <p>#define phoneAnswerEvent ((eventsEnum)(firstUserEvent+1))</p>
        <p>my eventloop looks like this:</p>
        <p> switch (eventP-&gt;eType)<br>
          {</p>
        <p> .... some other events here</p>
        <p> case phoneAnswerEvent:<br>
          ReceiveRequest(COMPortID);<br>
          handled = true;<br>
          break;</p>
        <p> case nilEvent:<br>
          SendRequests(COMPortID);<br>
          handled = true;<br>
          break;<br>
          .......</p>
        <p>The nilEvent is just for asking for some data from the phone...<br>
          The ReceiveRequest() procedure simply reads out the FIFO and does some<br>
          analyzing of received data.<br>
          This works just fine under Emulator. But when I change the SrmOpen to 
          :</p>
        <p>error = SrmOpen('ircm', 19200, &amp;newPortIDP)</p>
        <p>my WakeUpHandler &quot;PhoneHandler&quot; is not called - not even 
          once! It looks like<br>
          that it is not possible to use SrmSetWakeupHandler for IRCOMM!?!?<br>
          Sending and Receiving in general works because as I said above during<br>
          initialization of the programm some Information is requested from the 
          phone<br>
          (.e.g. model and manufacturer) and succesfully printed into an textfield.</p>
        <p>Any hints?</p>
        <p>Thanks.</p>
        <p>Regards</p>
        <p>Andree Maedl.</p>
        <p></p>
        <p>Lines: 67X-Priority: 3X-MSMail-Priority: NormalX-Newsreader: Microsoft 
          Outlook Express 5.00.2014.211X-MimeOLE: Produced By Microsoft MimeOLE 
          V5.00.2014.211Message-ID: &lt;UyBSwmix#GA.395@www.massena.com&gt;Newsgroups: 
          pilot.programmerPath: www.massena.comXref: www.massena.com pilot.programmer:7019NNTP-Posting-Host: 
          dial44.icenet.com.au 203.29.186.44</p>
        <p><br>
          See if i can answer some of these questions...</p>
        <p></p>
        <p><br>
          Robert W. Cunningham &lt;rcunning@acm.org&gt; wrote in messagenews:377BF3F5.536C306D@acm.org...&gt; 
          I'm looking for information on the following IR-related items:&gt;&gt; 
          1. How can I use the IR port at a level below IrDA? I'd like to use 
          it asa &quot;generic&quot; IR RS-232 port, as well as get even lower-level 
          access to readthe state of it IR receiver and turn the IR LED on and 
          off. Is there anydocumentation for this?</p>
        <p><br>
          It can be done two ways...1) the simple way - program the application 
          using the RS232 port using youSerSend, SerReceive functions, and then 
          just after you open the port do aSerControl(refNum, serIrDAEnable, 0, 
          0) (I think it is 'serIrDAEnable),and that will redirect everything 
          out the the Ir port.</p>
        <p><br>
          2) the hard way - read chapter 11 of the Motorlloa dragonball MC68328 
          UARTchip technical doco. It has the memory locations of all the settings...Not 
          that when in IR mode the trasmission and receive buffers are one and 
          thesame... (www.mot.com/MC68328)</p>
        <p><br>
          &gt;&gt; 2. As I understand it, all IR-capable Palm devices use a single 
          UART forboth IR and the serial port, so simultaneous IR and serial operation 
          is notpossible EXCEPT for those systems upgraded with the Palm 2 MB 
          upgrade card.It seems a second UART was added to the upgrade card to 
          drive the IR. Isthere any way to obtain simultaneous operation of both 
          ports on an upgradedPalm?</p>
        <p><br>
          Not sure... The upgrade card does have a second UART chip to handle 
          theIR... (i dont think it was a dragonball MC68328).</p>
        <p><br>
          &gt;&gt; I have found no answers or even good hints yet. The Palm SDKdocumentation 
          makes no mention of anything being different for the 2MBupgrade card, 
          and I've found no other documentation via extensive searchingof the 
          3Com and other Palm technical sites.&gt;&gt; My goal is to use the Palm 
          to talk to other devices that have RS-232-to-IRconverters on their serial 
          ports. I need to select and test suitableconverters, and if I can do 
          it all on my upgraded 5000, it would save lotsof time and effort. The 
          converter I select will be the one that physicallycommunicates best 
          with the Palm IR, and is easiest to write Palm softwarefor interacting 
          with. So I have no need of IrDA, and I'd like to use bothof my ports 
          at the same time (at least for development).</p>
        <p><br>
          In other words you want to use Serial IR (SIR)... Note: when i was playingaround 
          with an RS232-IR converter, data had to be inverted before sent... imnote 
          sure if this is the case with all convertors, or just the one i used...&gt;&gt; 
          Anybody have a clue?&gt;&gt; Help?&gt;&gt; -BobC&gt;&gt;</p>
        <p><br>
          Hope this helps...</p>
        <p><br>
          Cain!cos@icenet.com.au</p>
        <p></p>
        <p>&nbsp;</p>
        </div>

</td>
  </tr>
</table>
<div align="center"></div>

<!-- HotLog -->
<script language="javascript">
hotlog_js="1.0";hotlog_d=document; hotlog_n=navigator;hotlog_rn=Math.random();
hotlog_n_n=(hotlog_n.appName.substring(0,3)=="Mic")?0:1;
hotlog_r=""+hotlog_rn+"&s=9794&r="+escape(hotlog_d.referrer)+"&pg="+
escape(window.location.href);
hotlog_d.cookie="hotlog=1"; hotlog_r+="&c="+(hotlog_d.cookie?"Y":"N");
hotlog_d.cookie="hotlog=1; expires=Thu, 01-Jan-70 00:00:01 GMT"</script>
<script language="javascript1.1">
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")</script>
<script language="javascript1.2">
hotlog_js="1.2";hotlog_s=screen;
hotlog_r+="&wh="+hotlog_s.width+'x'+hotlog_s.height+"&px="+((hotlog_n_n==0)?
hotlog_s.colorDepth:hotlog_s.pixelDepth)</script>
<script language="javascript1.3">hotlog_js="1.3"</script>
<script language="javascript">hotlog_r+="&js="+hotlog_js;
hotlog_d.write("<img src=\"http://hit.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&\" border=0 width=1 height=1>")</script>
<noscript><img src="http://hit.hotlog.ru/cgi-bin/hotlog/count?s=9794" border=0 
width=1 height=1></noscript>
<!-- /HotLog -->

</body>
</html>

