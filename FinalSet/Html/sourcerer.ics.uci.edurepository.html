<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>Sourcerer Project: Repository</title>
<link rel="stylesheet" href="css/sourcerer.css" type="text/css" />
</head>

<body>
<div id="container">
<div id="header">
<div id="a1"></div>
<div id="a2"></div>
<div id="a3"></div>
<div id="a4"></div>
<div id="a5"></div>
The Sourcerer Project
</div>
<div id="content">
<div id="main">
<h1>Managed Repository</h1>
<p>Sourcerer's Managed Repository stores local copies of projects
aggregated from numerous open source repositories. A repository
is automatically constructed by the core repository manager from
the list of download links generated by the crawler.</p> 
<h2>Java Repository</h2>
<p>As part of the Sourcerer Project, we have created a repository
of 18,000 Java projects downloaded from Apache, Java.net, Google Code
and Sourceforge. The repository is freely available, and can be downloaded
<a href="http://www.ics.uci.edu/~lopes/datasets/SDS_source-repo-18k.html">here</a>.
The following table contains some basic statistics on the current state of Sourcerer's
Java repository.</p>

<table cellspacing="0">
<tr>
<th>Originating<br>Repository</th>
<th>Projects</th>
<th>Non-empty<br>Projects</th>
<th>Files</th>
<th>Filtered Files</th>
</tr>
<tr class="bga">
<td class="bold">Apache</td>
<td class="fixed right">84</td>
<td class="fixed right">83</td>
<td class="fixed right">559,140</td>
<td class="fixed right">50,222</td>
</tr>
<tr class="bgb">
<td class="bold">Java.net</td>
<td class="fixed right">3,412</td>
<td class="fixed right">1,893</td>
<td class="fixed right">286,310</td>
<td class="fixed right">273,813</td>
</tr>
<tr class="bga">
<td class="bold">Google Code</td>
<td class="fixed right">5,361</td>
<td class="fixed right">4,663</td>
<td class="fixed right">402,070</td>
<td class="fixed right">368,136</td>
</tr>
<tr class="bgb">
<td class="bold">Sourceforge</td>
<td class="fixed right">9,969</td>
<td class="fixed right">6,632</td>
<td class="fixed right">1,983,044</td>
<td class="fixed right">1,167,112</td>
</tr>
<tr class="bga">
<td class="bold top">Total</td>
<td class="fixed right top">18,826</td>
<td class="fixed right top">13,241</td>
<td class="fixed right top">3,230,564</td>
<td class="fixed right top">1,859,293</td>
</tr>
</table>
<p>In this table, a project is considered non-empty if it contains at least
one <span class="fixed">.java</span> file. The filtered files column contains
the number of files that are actually used by Sourcerer's feature extractor
when performing the analysis. The discrepancy between this column and the files
column is primarily caused by files duplicated due to our automated download process.

<h2>Repository Structure</h2>
<p>A Sourcerer managed repository is rooted at a single directory, 
<span class="fixed">&lt;repo_root&gt;</span>.</p>
<h3>General Structure</h3>
<div class="sub">
<p>Under this root directory,
a simple two-layer directory structure is used to store the projects.</p>
<p class="fixed sub">&lt;repo_root&gt;/&lt;batch&gt;/&lt;id&gt;</p> 
<p>Each project is assigned a numeric batch, and within that batch a unique numeric id.
   The directory at that path contains all the information on that project.
   Projects with the same batch number are generally the result of the same crawl of a repository.</p>
<h3>Project Structure</h3>
<p>Each project directory contains two subdirectories and one file, as shown below.</p>
<p class="fixed sub">
&lt;repo_root&gt;/&lt;batch&gt;/&lt;id&gt;/project.properties<br>
&lt;repo_root&gt;/&lt;batch&gt;/&lt;id&gt;/download/<br>
&lt;repo_root&gt;/&lt;batch&gt;/&lt;id&gt;/content/</p>
<p>The <span class="fixed">project.properties</span> file stores the project's metadata
using a standard Java properties file. The <span class="fixed">download</span> folder
contains the compressed file packages that were fetched from the originating repository.
It is usually deleted once extracted. The <span class="fixed">content</span> directory
contains the expanded contents of the <span class="fixed">download</span> directory, and
in some cases is replaced by a <span class="fixed">content.zip</span> file.
</p>
</div>
<h3>Sample Repository</h3>
<div class="sub">
<p>We provide a small sample repository to help users understand the structure of a 
Sourcerer repository, and to enable users to test out the infrastructure without
downloading the full repository. The sample repository contains 10 projects selected
from the full repository, and can be downloaded <a href="files/sample-repo.tgz">here</a>.</p>
<p>GitHub also contains a small test repository used by the extractor for testing
purposes. It can be found <a href="https://github.com/sourcerer/Sourcerer/tree/master/infrastructure/tools/java/extractor/test-repo">here</a>,
and requires that the <span class="fixed">create-test-repo</span> ANT task be run from the
main <a href="https://github.com/sourcerer/Sourcerer/blob/master/bin/build.xml">build.xml</a> file
in order for it to be fully populated. 
</div>
</div>
</div>
<div id="navbar">
  <div><a href="index.html">Overview</a></div>
  <div><a href="infrastructure.html">Core Infrastructure</a></div>
  <div><a class="sel" href="repository.html">Repository</a></div>
  <div><a href="sourcerer-db.html">SourcererDB</a></div>
  <div><a href="services.html">Services</a></div>
  <div><a href="code-search-engine.html">Code Search Engine</a></div>
  <!--<div><a href="code-genie.html">CodeGenie</a></div> -->
  <div><a href="tutorial.html">Tutorial</a></div>
  <div><a href="people.html">People</a></div>
  <div><a href="publications.html">Publications</a></div>
</div>
</div>
</body>
</html>

