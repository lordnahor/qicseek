<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">

<HTML>
<!-- base href="file://localhost/u3/ea/eapu231/ics.1c/hw4final1.html" -->
<HEAD>
<TITLE>Intel's Pentium Chip Flaw</TITLE>
</HEAD>

<BODY>

<H1>Intel's Pentium Chip Flaw</H1>

<hr><P>
<H2>Author:  Claire Wu</H2>
E-mail:  eapu231@ea.oac.uci.edu

<H2>Introduction:</H2><BR>
   Last year, in November 1994, Professor Thomas Nicely, a mathematics   
professor at Lynchburg College in Lynchburg, Virginia, discovered
<A HREF="http://wombat.doc.ic.ac.uk/?floating-point">floating-
point</A> errors when calculating the
reciprocals of prime numbers(i.e. numbers that are only divisible
by 1 and itself--e.g. the number "29").  After
the discovery of the<A HREF="http://wombat.doc.ic.ac.uk/?floating-point"> 
floating- point</A> error--<A HREF="http://www.intel.com">Intel</A>
announced that they had already
discovered the problem in June of 1994--but has since corrected it at the 
design stage.  At first, when the news leaked out that there was a flaw in
the floating point unit of the chip--
<A HREF="http://www.intel.com">Intel</A> said the chip need not be
recalled.  Intel claims that the error only occurs one in nine billions
of a time.  At that time, Intel also said that it would continue sending
to computer makers such as <A HREF="http://www.ibm.com">IBM</A>,
<A HREF="http://www.compaq.com">Compaq</A> and
<A HREF="http://www.dell.com">Dell</A>,
<A HREF="http://web.jf.intel.com:80/procs/pentium/index.html">Pentium</A>
chips built before the problem was detected.  Engineers, scientists, and
researchers were outraged at this since their computations involve
precise calculations.  <A HREF="http://www.intel.com">Intel</A> said that
the error occurred because
of an omission in the translation of a formula into the computer
hardware.  The problem was rectified by adding several dozens of  transistors
to the chip.  In December of 1994, <A HREF="http://www.ibm.com">IBM</A>
announced that it would stop shipment of computers that had the 
<A HREF="http://web.jf.intel.com/procs/pentium/index.html">Pentium</A> 
microprocessor due to customer concern--as a result Intel, in January of 
1995, began offering replacement chips.  This incident has caused 
controversy on <A HREF="http://www.intel.com">Intel's</A> integrity as
the world's leading and most trusting chip manufacturer.  It also 
reflects on how well or badly Intel handles this situation.

<H2>Debut of the Pentium</H2><BR>
Intel's
<A HREF="http://wombat.doc.ic.ac.uk/?Pentium">Pentium</A> chip debuted in
May 1993<A HREF="#FN1">[1]</A>, and is <A 
HREF="http://www.intel.com">Intel's</A> top of the line 
<A HREF="http://wombat.doc.ic.ac.uk/?microprocessor">microprocessor</A>.  
This chip is three times as complex as the 
<A HREF="http://wombat.doc.ic.ac.uk/?Intel+80486">486</A> chip.
<A HREF="http://www.intel.com">Intel</A> could not call this generation of
chips "586" since a U.S. court hearing ruled that one cannot 
trademark a number<A HREF="#FN2">[2]</A>.  Hence, Intel called the fifth in 
the 80x86 line
<A HREF="http://wombat.doc.ic.ac.uk/?Pentium">"Pentium".</A>  There are
approximately 4 million Pentiums in use according to 
<A HREF="http://www.pathfinder.com/pathfinder/Greet.html">TIME</A>
magazine.
<P>
<H2>Overview of Intel's Pentium</H2><BR>
The <A HREF="http://wombat.doc.ic.ac.uk/?Pentium">Pentium</A> is 
<A HREF="http://www.intel.com">Intel's</A> top of the line
<A HREF="http://wombat.doc.ic.ac.uk/?microprocessor">microprocessor</A>.
A <A HREF="http://wombat.doc.ic.ac.uk/?microprocessor">microprocessor</A>
is also known as the  
<A HREF="http://wombat.doc.ic.ac.uk/?central+processing+unit">central
processing unit (CPU)</A>, or the "brain of the computer."  The
<A HREF="http://wombat.doc.ic.ac.uk/?central+processing+unit">CPU</A>
fetches instruction from its memory and decodes these instructions.  The
<A HREF="http://wombat.doc.ic.ac.uk/?microprocessor">microprocessor</A>
is a <A HREF="http://wombat.doc.ic.ac.uk/?central+processing+unit">CPU</A>
on an <A HREF="http://wombat.doc.ic.ac.uk/?integrated+circuit">integrated
circuit</A>, which is a chip  made from a silicon wafer.
A chip has many interconnected digital transistors which can consists of
one to millions of <A HREF="http://wombat.doc.ic.ac.uk/?logic+gate">logic
gates</A>.<BR>
<H3>What every microprocessor has</H3><BR>
<ol>
<LI>Memory-- <A HREF="http://wombat.doc.ic.ac.uk/?RAM">Random Access 
Memory (RAM)</A>.
<LI><A HREF="http://wombat.doc.ic.ac.uk/?memory+management">Memory
management</A>--is a "collection of techniques for providing sufficient
memory to one or more processes in a computer system, especially when the
computer system does not have enough memory to satisfy all processes'
requirement simultaneously."  These techniques includes 
<A HREF="http://wombat.doc.ic.ac.uk/?swap">swapping</A>, and
<A HREF="http://wombat.doc.ic.ac.uk/?virtual+memory">virtual memory</A>.
<LI><A HREF="http://wombat.doc.ic.ac.uk/?floating-point+accelerator">
Floating Point Unit (FPU)</A>--Part of the chip that performs addition,
subtraction, multiplication, division, logarithms, exponentials, 
trigonometric functions, round-off and error detection.

<LI><A HREF="http://wombat.doc.ic.ac.uk/?cache">Cache</A>--A place where
you keep a copy of something--usually recently-accessed data.
</LI>
 
<H3>What is on Intel's Pentium Chip?</H3><BR>
The 510\60 <A HREF="http://wombat.doc.ic.ac.uk/?MegaHertz">MHz</A> and
567\66 <A HREF="http://wombat.doc.ic.ac.uk/?MegaHertz">MHz</A> chip is
5 Volts, 0.8 micron(one millionth of a meter) in size with 3.1 million
transistors.  The 610\75, 735\90, and 815\100 
<A HREF="http://wombat.doc.ic.ac.uk/?MegaHertz">MHz</A> chip is 3.3 
Volts, 0.6 micron in size with 3.3. million transistors.

<H4>New Features and Improvements of the Pentium Chip vs. Intel's Other
Chips</H4>
<UL>
<LI>Can execute more than one instruction per clock cycle
<LI>Has two <A HREF="http://wombat.doc.ic.ac.uk/?pipeline">pipelines</A>.
A pipeline is a sequence of functional units which performs a task in 
several steps.  These functional units--also known as execution units are 
where the chip processes the data and instructions that are fed to it by the
rest of the system.  The Pentium's two pipelines can execute two
instructions simultaneously, and it executes integer instructions in 
five stages:<BR>
<OL>
<LI><A HREF="http://wombat.doc.ic.ac.uk/?instruction+prefetch">prefetch</A>--
a technique for instructions to be fetched from memory.  Instructions
following the one currently being executed are loaded into a prefetch
queue when the processor's external bus is otherwise idle.
<LI>decode 1
<LI>decode 2
<LI>decode 3
<LI>execute
<LI>writeback
</OL>
<LI><A HREF="http://wombat.doc.ic.ac.uk/?hard-wired">Hardwired 
instructions</A>--This is an aspect of of an electronic circuit which is
determined by the wiring of the hardware as opposed to being 
programmable in software or controlled by a switch.  This improves
performance.
<LI>Separate Code and Data <A HREF="http://wombat.doc.ic.ac.uk/?cache">Caches
</A><A HREF="#FN3">[3]</A>--The <A 
HREF="http://web.jf.intel.com/procs/pentium/index.html">Pentium</A>
has separate on code chip and data 
caches where each of them contains 8 Kbytes of information.  Separate 
Code and Data caches is an innovative implementation since it increases 
performance of the system by having the caches act as temporary storage 
places for commonly-used instructions and data--thereby replacing
 the need to go off-chip to the system's main memory to fetch 
information.  This increases performance because bus conflicts are
 reduced and the caches are available more often when they are needed.  
<LI>Branch Prediction<A HREF="#FN4">[4]</A>--This is an advanced computing 
technique that increases performance by keeping the execution
<A HREF="http://wombat.doc.ic.ac.uk/?pipeline">pipelines</A>
full via predetermining the most likely set of instructions to be 
executed.  The <A 
HREF="http://web.jf.intel.com:80/procs/pentium/index.html">Pentium</A>
 is the first PC compatible microprocessor to use 
branch prediction, which before was mainly used by mainframe computers.
<LI>High Performance <A 
HREF="http://wombat.doc.ic.ac.uk/?floating-point+accelerator">Floating
Point Unit (FPU)</A>--The <A HREF="http://www.intel.com">Intel</A>
 486DX processor was the first <A HREF="http://www.intel.com">Intel</A> 
microprocessor to integrate math coprocessing  functions on the chip.  
Previous generations of Intel processors used off-chip math coprocessors when
<A HREF="http://wombat.doc.ic.ac.uk/?floating-point">floating-point</A>
calculations were required.  The Pentium uses an enhanced on-chip 
<A HREF="http://wombat.doc.ic.ac.uk/?floating-point">floating-point unit</A>
that uses eight stage <A 
HREF="http://wombat.doc.ic.ac.uk/?pipeline">pipelining</A> and 
<A HREF="http://wombat.doc.ic.ac.uk/?hard-wired">hardwired</A> functions.
<LI>Enhanced Data Bus<A HREF="#FN5">[5]</A>--The
<A HREF="http://web.jf.intel.com:80/procs/pentium/index.html">Pentium</A> 
has an enhanced external 64-bit data 
bus.  The data bus is the information highway between the processor and
 the memory subsystem.  The Pentium can transfer data to and from memory at
up to 528 Mega bytes per second--this is more than 5 times the <B>peak</B>
transfer of the Intel's 66MHz 486DX2 microprocessor which is 105 Mega bytes
per second.
<LI>Data Integrity Features<A HREF="#FN6">[6]</A>--This includes internal 
error detection which is a feature that helps detect errors in a way
 that remains transparent to both the user and the system.  The other
 features are SL Enhanced Power Management, multiprocessor support, and 
performance monitoring.
</UL>
<P>
<H2>Professor Thomas Nicely's Discovery of the Floating-Point Error and
the Uproar that Ensued</H2>
On October 30, 1994, Dr. Thomas Nicely, a mathematics professor at 
Lynchburg College, in Lynchburg, Virginia, sent out a memo to his colleagues
announcing his conjectured discovery that there might be a bug in the
floating point unit of all Pentium processors.  In his  
<A HREF="http://www.mathworks.com/Nicely_1.txt">memo</A> he claimed that
when he computed (824633702441.0)*(1/824633702441.0), on the 
Pentiums that he tested, the value 0.999999996274709702 was obtained.
Clearly, the answer should be 1.  Dr. Nicely came to the conclusion that
there was a flaw in the floating point unit of the chip since June 1994,
but thought that the error was due to his code or the software he was 
using or the compiler, etc...--but made the conclusion when he tried 
this on other Pentiums.  Afterwards, Intel made the announcement that they
had discovered the problem in June 1994 at the design stage.  The flaw
occurs in the floating point unit.  Intel said that the error occurred 
because of an omission in the translation of a formula into the 
computer hardware--but was later rectified by adding several dozens of
transistors to the chip<A HREF="#FN7">[7]</A>.  At first,
<A HREF="http://www.intel.com">Intel</A> said that the chips need not to
be recalled--if one thinks that there is a problem they must
 call <A HREF="http://www.intel.com">Intel</A>
and Intel's representatives would make the judgement if the chip need to
be replaced or not.  This violated business rule number 1:  <B>THE
CUSTOMER IS ALWAYS RIGHT</B>.  By having the consumer talk to Intel, and
having Intel make the judgement about the replacement of the flawed chip
<B>INFURIATED</B> people.  This showed Intel's arrogance and gave the media
the portrayal that Intel is not concerned with good customer relations.
The <A HREF="http://wombat.doc.ic.ac.uk/?Internet">Internet</A> was flooded
 with this uproar and Intel received several   
thousand of phone calls from concerned customers.  Despite this, Intel 
still insisted that the flaw only affects those users who perform highly
complex mathematical calculations and according to Andy Grove, president
of Intel states "...An error is only likely to occur at a frequency of the
order of once in nine billion random floating-point divides."  On 
December 12, 1994, <A HREF="http://www.ibm.com">IBM</A> announced that
 it would stop shipments
of personal computers with the Pentium chip based on 
IBM's own analysis<A HREF="#FN8">[8]</A>.  IBM's action is
 justified since "We believe no one
 should have to wonder to about the integrity of data calculated on IBM 
PC's," said G. Richard Thorman, IBM senior vice president and group 
executive.  IBM's study concluded that with common spreadsheet programs 
recalculating for 15 minutes a day--the Pentium errors could be produced 
as often as once every 24 days.  Two days later on December 14, 1994, 
Intel released a
document <A HREF="http://www.intel.com/product/pentium/white11/index.html">
Statistical Analysis of Floating Point Flaw in the Pentium Processor 
(1994)</A> which discusses how Intel obtained the number that the error
only occurs in one out of nine billion divides.  On December 20, 1994, 
Intel announced an <B>UPON-REQUEST REPLACEMENT POLICY ON PENTIUM
PROCESSORS WITH FLOATING-POINT FLAW</B>.  Intel will use its fourth-quarter
earnings to cover
 the costs associated with the replacement program
<A HREF="#FN9">[9]</A>. 
Intel relented to its previous adamant policy of chip return after
being criticized in the past previous weeks for replacing processors on 
the basis of need rather than on request.

<H2>Inaccuracy of the Pentium's Floating Point Unit</H2><BR>
Computers uses the binary system to translate text and numbers.  
For division problems where the result is not a <B>whole</B> number,
the floating point unit consults a "look-up" table for the closest
binary equivalent.  Most microprocessors' "look-up" tables are accurate
to 16 digits--but some parts of the Pentium's "look-up" tables are only
accurate to 5 digits<A HREF="#FN10">[10]</A>. 
<H2>What to do if you want to replace your Pentium Chip</H2><BR>
If you want bought a Pentium and want your chip to be replaced go to
<A HREF="http://web.jf.intel.com/procs/support/pentium/fdiv/replqa3.html">
http://web.jf.intel.com/procs/support/pentium/fdiv/replqa3.html</A>.  For 
any user who requests it--Intel will replace the Pentium processor with
an updated chip, anytime during the lifetime of the user's computer.  Intel
will have service locations to replace the chip--but one must call
1-800-628-8686 to ask for a replacement chip.  If one wants to have Intel
mail the chip directly--Intel will ask for a major credit card number--they
need the credit card number as security until the original chip is
returned within 30 days of the new shipment of the replacement chip.  If you
do not send back the flawed chip then Intel will charge for the
replacement chip accordingly.
  
<H2>What will Intel do with the Returned Flawed Chips?</H2>
Intel <B>WILL NOT</B> re-use the flawed chips--instead they will grind
the chips to recover the gold, tungsten, and aluminum used in the chips'
manufacture.  This will provide a cost-effective way to recycle some
of the raw materials used in their manufacture.

<P>
<H2>Footnotes</H2>

<A NAME="FN1">[1]</A><A HREF="http://www.mathworks.com/Andy_Grove.txt">
http://www.mathworks.com/Andy_Grove.txt</A>.  This is Andy Grove's 
(President of Intel) Internet posting of the Pentium chip flaw.<BR>
<A NAME="FN2">[2]</A>
<A HREF="http://www.dur.ac.uk/~d22t8r/chip.list/80586.html">http://www.
dur.ac.uk/~d22t8r/chiplist/80586.html</A>.  This describes how
Pentium got its name.<BR>
<A NAME="FN3">[3]</A>
<A HREF="http://web.jf.intel.com/procs/pentium/pptech/cache.html">http://web.
jf.intel.com/procs/pentium/pptech/cache.html</A>.  This describes the 
Separate Code and Data Caches in more detail.<BR>
<A NAME="FN4">[4]</A>
<A HREF="http://www.intel.com/procs/pentium/pptech/branch.html">
http://www.intel.com/procs/pentium/pptech/branch.html</A>--This
document describes in greater detail this super computing technique called
branch prediction.<BR>
<A NAME="FN5">[5]</A>
<A HREF="http://www.intel.com/procs/pentium/pptech/64bus.html">
http://www.intel.com/procs/pentium/pptech/64bus.html</A>.  This document
describes in greater detail about the Enhanced Local Bus feature.<BR>
<A NAME="FN6">[6]</A>
<A HREF="http://www.intel.com/procs/pentium/pptech/otherf.html">
http://www.intel.com/procs/pentium/pptech/otherf.html</A>.  This document
describes in greater detail the Data Integrity Features of the Pentium
Chip.<BR>
<A NAME="FN7">[7]</A>
<A 
HREF="http://www.mathworks.com/NYT_2.txt">http://www.mathworks.com/NYT_2.txt
</A>This is the December 19, 1994 New York Times article by Laurie Flynn.  
This article describes how businesses and institutions are reacting
to the Pentium Chip Flaw controversy.<BR>
<A NAME="FN8">[8]</A>
<A HREF="http://www.ibmlink.ibm.com/oi/press/pressrel/94121201.html">
http://www.ibmlink.ibm.com/oi/press/pressrel/94121201.html</A>
This article, released by IBM, gives its justification to stop its
shipments of Pentium PC's.<BR>   
<A NAME="FN9">[9]</A>   
<A HREF="http://www.mathworks.com/Intel_replace.txt">
http://www.mathworks.com/Intel_replace.txt</A>.  This is Intel's
announcement that it will have a "upon request replacement policy" on the
Pentium chip.<BR>
<A NAME="FN10">[10]
<A HREF="http://www.mathworks.com/NYT_Dec14.gif">
http://www.mathworks.com/NYT_Dec14.gif</A>.  This document is from the
December 14, 1994 New York Times article describing the Pentium flaw and how
some makers of software, such as Mathworks--creator of MATLAB are
releasing software to counteract for the error deficiency.
<P>
<H2>References:</H2> <OL>
<LI><A HREF="http://einstein.et.tudelft.nl/~offerman/chiplist.html#CPU
">http://einstein.et.tudelft.nl/~offerman/chiplist.html#CPU
</A><BR>
This site describes all the chips made by companies such as AMD, Intel
from the early 1970's to the present.  Also included 
is some sparse information on the Pentium chip.


<LI><A HREF="http://infopad.eecs.berkeley.edu/CIC/">
http://infopad.eecs.berkeley.edu/CIC/</A><BR>
This site gives information of the history of CPU's.  It
also talks about Intel's 90 and 100
MHz microprocessors.  The 100 MHz Pentium processor is almost
175 percent faster than the 66MHz IntelDX2 processor.
<LI><A HREF="ftp://ftp.intel.com/pub/IAL/pentium/bckgrn.txt">
ftp://ftp.intel.com/pub/IAL/pentium/bckgrn.txt</A><BR>
This site describes about the design of the Pentium 
processor  and the floating point unit of the processor
where the flaw arises.  This site gives the architecture
of the Pentium chip. The chip is built around
two pipelines. 
<LI><A HREF="http://www.intel.com/procs/pentium/index.html">
http://www.intel.com/procs/pentium/index.html</A><BR>
This is Intel's site.  This site contains information
and a product overview of the Pentium microprocessor. It
also has a link for the Floating Point Divide Flaw.  One
can check if their microprocessor does contain the flaw
by executing a CPU ID File.  Intel
claims that the overwhelming majority of users will
never encounter the flaw since it only occurs one out of 
nine billion times.
<LI><A HREF="http://www.mathworks.com/README.html">http://www.mathworks.com/README.html</A><BR>
This site contains the Pentium Papers which a collection of documents
concerning the Pentium Chip Flaw.  The links includes Professor
Thomas Nicely's memo on his discovery of the Pentium Division flaw
when he was doing calculations on the reciprocals of prime numbers.
There are also articles from the New York Times and Time Magazine
exposing the Pentium flaw.  Another interesting link at this site
is a graphical representation of the flaw on the Pentium chip.
<LI><A HREF="http://wombat.doc.ic.ac.uk/">http://wombat.doc.ic.ac.uk/</A>
This is the Computing Dictionary site where one can find many definitions
of computer terms.
<LI><A 
HREF="http://gnn.com/gnn/meta/imedia/features/intel/index.html">http://
gnn.com/gnn/meta/imedia/features/intel/index.html</A> is a 
document entitled "The Pentium Bug War Ends PR as We Know It"--a
commentary on the assessment of how Intel dealt with the Pentium
Chip Flaw controversy.

</OL>




<hr><P>

</BODY>
</HTML>



