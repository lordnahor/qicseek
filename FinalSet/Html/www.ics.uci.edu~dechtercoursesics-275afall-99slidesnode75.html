<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE> Matching Clauses</TITLE>
</HEAD>
<BODY>
<meta name="description" value=" Matching Clauses">
<meta name="keywords" value="umsroot">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html3149 HREF="node76.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html3147 HREF="node73.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html3141 HREF="node74.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html3151 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html3150 HREF="node76.html"> Abstract Code Listing</A>
<B>Up:</B> <A NAME=tex2html3148 HREF="node73.html"> Special Primitives</A>
<B> Previous:</B> <A NAME=tex2html3142 HREF="node74.html"> Soft Cut</A>
<BR> <HR> <P>
<H2><A NAME=SECTION006102000000000000000> Matching Clauses</A></H2>
<P>
<A NAME=1137>&#160;</A>
<A NAME=1138>&#160;</A>
<A NAME=1139>&#160;</A>
When Prolog systems look for clauses that match a given call,
they use full unification of the goal with the clause head
(but usually without the occur check).
Sometimes it is useful or necessary to use <i> pattern matching</i>
instead of full unification, i.e. during the matching
only variables in the clause head can be bound, the call
variables must not be changed.
This means that the call must be an instance of the
clause head.
<P>
The operator <IMG  ALIGN=MIDDLE ALT="" SRC="img8.gif"> at the beginning of the clause
body specifies that one-way matching should be used
instead of full unification:
<blockquote> <PRE>p(f(X)) :-
    -?-&gt;
    q(X).
</PRE>
</blockquote>
Pattern matching can be used for several purposes:
<UL><LI> Generic pattern matching when looking for clauses
whose heads are more general than the call.
<P>
<LI> Decomposing <i> attributed variables</i> [<A HREF="node322.html#eclipseext">9</A>].
When an attributed variable occurs in the head of a matching clause,
it is not unified with the call argument (which would trigger
the unification handlers) but instead, the call argument
is decomposed into the variable and its attribute(s):
<blockquote> <PRE>get_attr(X{A}, Attr) :-
    -?-&gt;
    A = Attr.
</PRE>
</blockquote>
This predicate can be used to return the attribute of a given
attributed variable and fail if it is not one.
<P>
<LI> Replacing other metalogical operations, e.g. <b> var/1</b>
test. Since a nonvariable in the head of a matching clause
matches only a nonvariable, explicit variable tests and/or cuts
may become obsolete.
</UL>
<P>
If some argument positions of a matching clause are declared
as <b> output</b> in a mode declaration, then they are not
unified using pattern matching but normal unification,
in this case then the variable is normally bound.
The above example can thus be also written as
<blockquote> :- mode get_attr(?, -).
<PRE>get_attr(X{A}, A) :-
    -?-&gt;
    true.
</PRE>
</blockquote>
but in this case it must not be called with its second argument
already instantiated.
<P>
<BR> <HR><A NAME=tex2html3149 HREF="node76.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html3147 HREF="node73.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html3141 HREF="node74.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html3151 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html3150 HREF="node76.html"> Abstract Code Listing</A>
<B>Up:</B> <A NAME=tex2html3148 HREF="node73.html"> Special Primitives</A>
<B> Previous:</B> <A NAME=tex2html3142 HREF="node74.html"> Soft Cut</A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Micha Meier <BR>
Mon Mar  4 12:11:45 MET 1996</I>
</ADDRESS>
</BODY>

