<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE> Stream Connection Between Two Machines</TITLE>
</HEAD>
<BODY>
<meta name="description" value=" Stream Connection Between Two Machines">
<meta name="keywords" value="umsroot">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html4798 HREF="node214.html"><IMG ALIGN=BOTTOM ALT="next" SRC="http://www.ecrc.de/eclipse/new_icons//next_motif.gif"></A>   <A NAME=tex2html4796 HREF="node209.html"><IMG ALIGN=BOTTOM ALT="up" SRC="http://www.ecrc.de/eclipse/new_icons//up_motif.gif"></A>   <A NAME=tex2html4790 HREF="node212.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="http://www.ecrc.de/eclipse/new_icons//previous_motif.gif"></A>      <A NAME=tex2html4800 HREF="node321.html"><IMG ALIGN=BOTTOM ALT="index" SRC="http://www.ecrc.de/eclipse/new_icons//index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html4799 HREF="node214.html"> Datagram Connection with </A>
<B>Up:</B> <A NAME=tex2html4797 HREF="node209.html"> Interprocess Communication</A>
<B> Previous:</B> <A NAME=tex2html4791 HREF="node212.html"> Datagram Connection on </A>
<BR> <HR> <P>
<H1><A NAME=SECTION001840000000000000000> Stream Connection Between Two Machines</A></H1>
<P>
The sequence of operations is the same as for the Unix domain,
however in the Internet domain the socket addresses are
not related to the file system, they contain the host name and the port
number.
Since one port number identifies the socket on a given host,
the process cannot itself specify the port number it wants to use
because it can be already in use by another process.
Therefore, the safe approach is to use the default and let the system
specify the port number, which is achieved by leaving the port
uninstantiated.
Since the host is always known,
it can also be left uninstantiated.
The client, however, has to specify both the host name and the port number:
<blockquote> <PRE>server:
    [eclipse 10]: socket(internet, stream, s), bind(s, X).

    X = acrab5 / 3789
    yes.
    [eclipse 11]: listen(s, 1), accept(s, From, news).
    &lt;blocks waiting for a connection&gt;

client:
    [eclipse 26]: socket(internet, stream, s), connect(s, acrab5/3789).

    yes.
    [eclipse 27]: printf(s, &quot;%w. %b&quot;, message(client)), read(s, Msg).

server:
    From = acrab4 / 1627 
    yes.
    [eclipse 12]: read(news, Msg), printf(news, &quot;%w. %b&quot;, message(server)).

    Msg = message(client)
    yes.

client:
    Msg = message(server)
    yes.
</PRE>
</blockquote><BR> <HR>
<P><ADDRESS>
<I>Micha Meier <BR>
Mon Mar  4 12:11:45 MET 1996</I>
</ADDRESS>
</BODY>

